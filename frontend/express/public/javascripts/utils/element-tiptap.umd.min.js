(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["cly-libs"]=t(require("vue")):e["cly-libs"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(){var t={9662:function(e,t,n){var r=n(614),o=n(6330),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a function")}},6077:function(e,t,n){var r=n(614),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},9670:function(e,t,n){var r=n(111),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not an object")}},3013:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,n){"use strict";var r,o,i,s=n(3013),a=n(9781),l=n(7854),c=n(614),u=n(111),d=n(2597),p=n(648),h=n(6330),f=n(8880),m=n(8052),v=n(3070).f,g=n(7976),y=n(9518),b=n(7674),w=n(5112),k=n(9711),x=n(9909),S=x.enforce,C=x.get,_=l.Int8Array,O=_&&_.prototype,M=l.Uint8ClampedArray,E=M&&M.prototype,T=_&&y(_),A=O&&y(O),N=Object.prototype,D=l.TypeError,R=w("toStringTag"),I=k("TYPED_ARRAY_TAG"),P="TypedArrayConstructor",z=s&&!!b&&"Opera"!==p(l.opera),$=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},B=function(e){if(!u(e))return!1;var t=p(e);return"DataView"===t||d(j,t)||d(F,t)},L=function(e){var t=y(e);if(u(t)){var n=C(t);return n&&d(n,P)?n[P]:L(t)}},V=function(e){if(!u(e))return!1;var t=p(e);return d(j,t)||d(F,t)},q=function(e){if(V(e))return e;throw D("Target is not a typed array")},H=function(e){if(c(e)&&(!b||g(T,e)))return e;throw D(h(e)+" is not a typed array constructor")},W=function(e,t,n,r){if(a){if(n)for(var o in j){var i=l[o];if(i&&d(i.prototype,e))try{delete i.prototype[e]}catch(s){try{i.prototype[e]=t}catch(c){}}}A[e]&&!n||m(A,e,n?t:z&&O[e]||t,r)}},U=function(e,t,n){var r,o;if(a){if(b){if(n)for(r in j)if(o=l[r],o&&d(o,e))try{delete o[e]}catch(i){}if(T[e]&&!n)return;try{return m(T,e,n?t:z&&T[e]||t)}catch(i){}}for(r in j)o=l[r],!o||o[e]&&!n||m(o,e,t)}};for(r in j)o=l[r],i=o&&o.prototype,i?S(i)[P]=o:z=!1;for(r in F)o=l[r],i=o&&o.prototype,i&&(S(i)[P]=o);if((!z||!c(T)||T===Function.prototype)&&(T=function(){throw D("Incorrect invocation")},z))for(r in j)l[r]&&b(l[r],T);if((!z||!A||A===N)&&(A=T.prototype,z))for(r in j)l[r]&&b(l[r].prototype,A);if(z&&y(E)!==A&&b(E,A),a&&!d(A,R))for(r in $=!0,v(A,R,{get:function(){return u(this)?this[I]:void 0}}),j)l[r]&&f(l[r],I,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:z,TYPED_ARRAY_TAG:$&&I,aTypedArray:q,aTypedArrayConstructor:H,exportTypedArrayMethod:W,exportTypedArrayStaticMethod:U,getTypedArrayConstructor:L,isView:B,isTypedArray:V,TypedArray:T,TypedArrayPrototype:A}},1318:function(e,t,n){var r=n(5656),o=n(1400),i=n(6244),s=function(e){return function(t,n,s){var a,l=r(t),c=i(l),u=o(s,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},9671:function(e,t,n){var r=n(9974),o=n(8361),i=n(7908),s=n(6244),a=function(e){var t=1==e;return function(n,a,l){var c,u,d=i(n),p=o(d),h=r(a,l),f=s(p);while(f-- >0)if(c=p[f],u=h(c,f,d),u)switch(e){case 0:return c;case 1:return f}return t?-1:void 0}};e.exports={findLast:a(0),findLastIndex:a(1)}},3658:function(e,t,n){"use strict";var r=n(9781),o=n(3157),i=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(o(e)&&!s(e,"length").writable)throw i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4326:function(e,t,n){var r=n(84),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},648:function(e,t,n){var r=n(1694),o=n(614),i=n(4326),s=n(5112),a=s("toStringTag"),l=Object,c="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=l(e),a))?n:c?i(t):"Object"==(r=i(t))&&o(t.callee)?"Arguments":r}},9920:function(e,t,n){var r=n(2597),o=n(3887),i=n(1236),s=n(3070);e.exports=function(e,t,n){for(var a=o(t),l=s.f,c=i.f,u=0;u<a.length;u++){var d=a[u];r(e,d)||n&&r(n,d)||l(e,d,c(t,d))}}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:function(e,t,n){var r=n(9781),o=n(3070),i=n(9114);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7045:function(e,t,n){var r=n(6339),o=n(3070);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},8052:function(e,t,n){var r=n(614),o=n(3070),i=n(6339),s=n(3072);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(r(n)&&i(n,c,a),a.global)l?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},3072:function(e,t,n){var r=n(7854),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},5117:function(e,t,n){"use strict";var r=n(6330),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+r(t)+" of "+r(e))}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(e){var t="object"==typeof document&&document.all,n="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},317:function(e,t,n){var r=n(7854),o=n(111),i=r.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},7207:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},8113:function(e,t,n){var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,o,i=n(7854),s=n(8113),a=i.process,l=i.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var r=n(7854),o=n(1236).f,i=n(8880),s=n(8052),a=n(3072),l=n(9920),c=n(4705);e.exports=function(e,t){var n,u,d,p,h,f,m=e.target,v=e.global,g=e.stat;if(u=v?r:g?r[m]||a(m,{}):(r[m]||{}).prototype,u)for(d in t){if(h=t[d],e.dontCallGetSet?(f=o(u,d),p=f&&f.value):p=u[d],n=c(v?d:m+(g?".":"#")+d,e.forced),!n&&void 0!==p){if(typeof h==typeof p)continue;l(h,p)}(e.sham||p&&p.sham)&&i(h,"sham",!0),s(u,d,h,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},9974:function(e,t,n){var r=n(1702),o=n(9662),i=n(4374),s=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?s(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var r=n(4374),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(e,t,n){var r=n(9781),o=n(2597),i=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=o(i,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&s(i,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},84:function(e,t,n){var r=n(4374),o=Function.prototype,i=o.call,s=r&&o.bind.bind(i,i);e.exports=r?s:function(e){return function(){return i.apply(e,arguments)}}},1702:function(e,t,n){var r=n(4326),o=n(84);e.exports=function(e){if("Function"===r(e))return o(e)}},5005:function(e,t,n){var r=n(7854),o=n(614),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},8173:function(e,t,n){var r=n(9662),o=n(8554);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var r=n(1702),o=n(7908),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},3501:function(e){e.exports={}},4664:function(e,t,n){var r=n(9781),o=n(7293),i=n(317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var r=n(1702),o=n(7293),i=n(4326),s=Object,a=r("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a(e,""):s(e)}:s},2788:function(e,t,n){var r=n(1702),o=n(614),i=n(5465),s=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},9909:function(e,t,n){var r,o,i,s=n(4811),a=n(7854),l=n(111),c=n(8880),u=n(2597),d=n(5465),p=n(6200),h=n(3501),f="Object already initialized",m=a.TypeError,v=a.WeakMap,g=function(e){return i(e)?o(e):r(e,{})},y=function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(s||d.state){var b=d.state||(d.state=new v);b.get=b.get,b.has=b.has,b.set=b.set,r=function(e,t){if(b.has(e))throw m(f);return t.facade=e,b.set(e,t),t},o=function(e){return b.get(e)||{}},i=function(e){return b.has(e)}}else{var w=p("state");h[w]=!0,r=function(e,t){if(u(e,w))throw m(f);return t.facade=e,c(e,w,t),t},o=function(e){return u(e,w)?e[w]:{}},i=function(e){return u(e,w)}}e.exports={set:r,get:o,has:i,enforce:g,getterFor:y}},3157:function(e,t,n){var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},614:function(e,t,n){var r=n(4154),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},4705:function(e,t,n){var r=n(7293),o=n(614),i=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==u||n!=c&&(o(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},8554:function(e){e.exports=function(e){return null===e||void 0===e}},111:function(e,t,n){var r=n(614),o=n(4154),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===i}:function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var r=n(5005),o=n(614),i=n(7976),s=n(3307),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,a(e))}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},6339:function(e,t,n){var r=n(7293),o=n(614),i=n(2597),s=n(9781),a=n(6530).CONFIGURABLE,l=n(2788),c=n(9909),u=c.enforce,d=c.get,p=Object.defineProperty,h=s&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),f=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||a&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),h&&n&&i(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=u(e);return i(r,"source")||(r.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return o(this)&&d(this).source||l(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},3070:function(e,t,n){var r=n(9781),o=n(4664),i=n(3353),s=n(9670),a=n(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=r?i?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var r=u(e,t);r&&r[h]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(s(e),t=a(t),s(n),o)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),o=n(6916),i=n(5296),s=n(9114),a=n(5656),l=n(4948),c=n(2597),u=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=l(t),u)try{return d(e,t)}catch(n){}if(c(e,t))return s(!o(i.f,e,t),e[t])}},8006:function(e,t,n){var r=n(6324),o=n(748),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(2597),o=n(614),i=n(7908),s=n(6200),a=n(8544),l=s("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=i(e);if(r(t,l))return t[l];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),o=n(2597),i=n(5656),s=n(1318).indexOf,a=n(3501),l=r([].push);e.exports=function(e,t){var n,r=i(e),c=0,u=[];for(n in r)!o(a,n)&&o(r,n)&&l(u,n);while(t.length>c)o(r,n=t[c++])&&(~s(u,n)||l(u,n));return u}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(1702),o=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:function(e,t,n){var r=n(6916),o=n(614),i=n(111),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&o(n=e.toString)&&!i(a=r(n,e)))return a;if(o(n=e.valueOf)&&!i(a=r(n,e)))return a;if("string"!==t&&o(n=e.toString)&&!i(a=r(n,e)))return a;throw s("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),o=n(1702),i=n(8006),s=n(5181),a=n(9670),l=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=s.f;return n?l(t,n(e)):t}},7066:function(e,t,n){"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4488:function(e,t,n){var r=n(8554),o=TypeError;e.exports=function(e){if(r(e))throw o("Can't call method on "+e);return e}},6200:function(e,t,n){var r=n(2309),o=n(9711),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},5465:function(e,t,n){var r=n(7854),o=n(3072),i="__core-js_shared__",s=r[i]||o(i,{});e.exports=s},2309:function(e,t,n){var r=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.0",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(e,t,n){var r=n(7392),o=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},1400:function(e,t,n){var r=n(9303),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},5656:function(e,t,n){var r=n(8361),o=n(4488);e.exports=function(e){return r(o(e))}},9303:function(e,t,n){var r=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7466:function(e,t,n){var r=n(9303),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(4488),o=Object;e.exports=function(e){return o(r(e))}},7593:function(e,t,n){var r=n(6916),o=n(111),i=n(2190),s=n(8173),a=n(2140),l=n(5112),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,l=s(e,u);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!o(n)||i(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},4948:function(e,t,n){var r=n(7593),o=n(2190);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},1694:function(e,t,n){var r=n(5112),o=r("toStringTag"),i={};i[o]="z",e.exports="[object z]"===String(i)},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9711:function(e,t,n){var r=n(1702),o=0,i=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++o+i,36)}},3307:function(e,t,n){var r=n(6293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(9781),o=n(7293);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(e,t,n){var r=n(7854),o=n(614),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},5112:function(e,t,n){var r=n(7854),o=n(2309),i=n(2597),s=n(9711),a=n(6293),l=n(3307),c=o("wks"),u=r.Symbol,d=u&&u["for"],p=l?u:u&&u.withoutSetter||s;e.exports=function(e){if(!i(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&i(u,e)?c[e]=u[e]:c[e]=l&&d?d(t):p(t)}return c[e]}},7658:function(e,t,n){"use strict";var r=n(2109),o=n(7908),i=n(6244),s=n(3658),a=n(7207),l=n(7293),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:c||u},{push:function(e){var t=o(this),n=i(t),r=arguments.length;a(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return s(t,n),n}})},541:function(e,t,n){"use strict";var r=n(2109),o=n(7908),i=n(6244),s=n(3658),a=n(5117),l=n(7207),c=1!==[].unshift(0),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:c||u},{unshift:function(e){var t=o(this),n=i(t),r=arguments.length;if(r){l(n+r);var c=n;while(c--){var u=c+r;c in t?t[u]=t[c]:a(t,u)}for(var d=0;d<r;d++)t[d]=arguments[d]}return s(t,n+r)}})},2087:function(e,t,n){var r=n(7854),o=n(9781),i=n(7045),s=n(7066),a=n(7293),l=r.RegExp,c=l.prototype,u=o&&a((function(){var e=!0;try{l(".","d")}catch(u){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",o=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(i.hasIndices="d"),i)o(s,i[s]);var a=Object.getOwnPropertyDescriptor(c,"flags").get.call(t);return a!==r||n!==r}));u&&i(c,"flags",{configurable:!0,get:s})},4590:function(e,t,n){"use strict";var r=n(260),o=n(9671).findLastIndex,i=r.aTypedArray,s=r.exportTypedArrayMethod;s("findLastIndex",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},3408:function(e,t,n){"use strict";var r=n(260),o=n(9671).findLast,i=r.aTypedArray,s=r.exportTypedArrayMethod;s("findLast",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},1271:function(e){var t=/^(attrs|props|on|nativeOn|class|style|hook)$/;function n(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}}e.exports=function(e){return e.reduce((function(e,r){var o,i,s,a,l;for(s in r)if(o=e[s],i=r[s],o&&t.test(s))if("class"===s&&("string"===typeof o&&(l=o,e[s]=o={},o[l]=!0),"string"===typeof i&&(l=i,r[s]=i={},i[l]=!0)),"on"===s||"nativeOn"===s||"hook"===s)for(a in i)o[a]=n(o[a],i[a]);else if(Array.isArray(o))e[s]=o.concat(i);else if(Array.isArray(i))e[s]=[o].concat(i);else for(a in i)o[a]=i[a];else e[s]=r[s];return e}),{})}},724:function(e,t,n){"use strict";n(7658);var r=function(e){return o(e)&&!i(e)};function o(e){return!!e&&"object"===typeof e}function i(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||l(e)}var s="function"===typeof Symbol&&Symbol.for,a=s?Symbol.for("react.element"):60103;function l(e){return e.$$typeof===a}function c(e){return Array.isArray(e)?[]:{}}function u(e,t){var n=t&&!0===t.clone;return n&&r(e)?h(c(e),e,t):e}function d(e,t,n){var o=e.slice();return t.forEach((function(t,i){"undefined"===typeof o[i]?o[i]=u(t,n):r(t)?o[i]=h(e[i],t,n):-1===e.indexOf(t)&&o.push(u(t,n))})),o}function p(e,t,n){var o={};return r(e)&&Object.keys(e).forEach((function(t){o[t]=u(e[t],n)})),Object.keys(t).forEach((function(i){r(t[i])&&e[i]?o[i]=h(e[i],t[i],n):o[i]=u(t[i],n)})),o}function h(e,t,n){var r=Array.isArray(t),o=Array.isArray(e),i=n||{arrayMerge:d},s=r===o;if(s){if(r){var a=i.arrayMerge||d;return a(e,t,n)}return p(e,t,n)}return u(t,n)}h.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return h(e,n,t)}))};var f=h;e.exports=f},7518:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=96)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},96:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-button-group"},[e._t("default")],2)},o=[];r._withStripped=!0;var i={name:"ElButtonGroup"},s=i,a=n(0),l=Object(a["a"])(s,r,o,!1,null,null,null);l.options.__file="packages/button/src/button-group.vue";var c=l.exports;c.install=function(e){e.component(c.name,c)};t["default"]=c}})},5996:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=95)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},95:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"el-button",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?n("i",{staticClass:"el-icon-loading"}):e._e(),e.icon&&!e.loading?n("i",{class:e.icon}):e._e(),e.$slots.default?n("span",[e._t("default")],2):e._e()])},o=[];r._withStripped=!0;var i={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.$options.propsData.hasOwnProperty("disabled")?this.disabled:(this.elForm||{}).disabled}},methods:{handleClick:function(e){this.$emit("click",e)}}},s=i,a=n(0),l=Object(a["a"])(s,r,o,!1,null,null,null);l.options.__file="packages/button/src/button.vue";var c=l.exports;c.install=function(e){e.component(c.name,c)};t["default"]=c}})},1140:function(e,t,n){n(7658),e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=90)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},4:function(e,t){e.exports=n(4279)},90:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"el-checkbox",class:[e.border&&e.checkboxSize?"el-checkbox--"+e.checkboxSize:"",{"is-disabled":e.isDisabled},{"is-bordered":e.border},{"is-checked":e.isChecked}],attrs:{id:e.id}},[n("span",{staticClass:"el-checkbox__input",class:{"is-disabled":e.isDisabled,"is-checked":e.isChecked,"is-indeterminate":e.indeterminate,"is-focus":e.focus},attrs:{tabindex:!!e.indeterminate&&0,role:!!e.indeterminate&&"checkbox","aria-checked":!!e.indeterminate&&"mixed"}},[n("span",{staticClass:"el-checkbox__inner"}),e.trueLabel||e.falseLabel?n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e._q(e.model,e.trueLabel)},on:{change:[function(t){var n=e.model,r=t.target,o=r.checked?e.trueLabel:e.falseLabel;if(Array.isArray(n)){var i=null,s=e._i(n,i);r.checked?s<0&&(e.model=n.concat([i])):s>-1&&(e.model=n.slice(0,s).concat(n.slice(s+1)))}else e.model=o},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:e.isDisabled,name:e.name},domProps:{value:e.label,checked:Array.isArray(e.model)?e._i(e.model,e.label)>-1:e.model},on:{change:[function(t){var n=e.model,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=e.label,s=e._i(n,i);r.checked?s<0&&(e.model=n.concat([i])):s>-1&&(e.model=n.slice(0,s).concat(n.slice(s+1)))}else e.model=o},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}})]),e.$slots.default||e.label?n("span",{staticClass:"el-checkbox__label"},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2):e._e()])},o=[];r._withStripped=!0;var i=n(4),s=n.n(i),a={name:"ElCheckbox",mixins:[s.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):(this.$emit("input",e),this.selfModel=e)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){var e=this.$parent;while(e){if("ElCheckboxGroup"===e.$options.componentName)return this._checkboxGroup=e,!0;e=e.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var e=this._checkboxGroup,t=e.max,n=e.min;return!(!t&&!n)&&this.model.length>=t&&!this.isChecked||this.model.length<=n&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||e}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t=this;if(!this.isLimitExceeded){var n=void 0;n=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",n,e),this.$nextTick((function(){t.isGroup&&t.dispatch("ElCheckboxGroup","change",[t._checkboxGroup.value])}))}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",e)}}},l=a,c=n(0),u=Object(c["a"])(l,r,o,!1,null,null,null);u.options.__file="packages/checkbox/src/checkbox.vue";var d=u.exports;d.install=function(e){e.component(d.name,d)};t["default"]=d}})},9281:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=81)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n(8730)},13:function(e,t){e.exports=n(3798)},4:function(e,t){e.exports=n(4279)},81:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[n("div",{key:e.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":e.fullscreen,"el-dialog--center":e.center},e.customClass],style:e.style,attrs:{role:"dialog","aria-modal":"true","aria-label":e.title||"dialog"}},[n("div",{staticClass:"el-dialog__header"},[e._t("title",[n("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.title))])]),e.showClose?n("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:e.handleClose}},[n("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2),e.rendered?n("div",{staticClass:"el-dialog__body"},[e._t("default")],2):e._e(),e.$slots.footer?n("div",{staticClass:"el-dialog__footer"},[e._t("footer")],2):e._e()])])])},o=[];r._withStripped=!0;var i=n(13),s=n.n(i),a=n(11),l=n.n(a),c=n(4),u=n.n(c),d={name:"ElDialog",mixins:[s.a,u.a,l.a],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick((function(){t.$refs.dialog.scrollTop=0})),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick((function(){t.key++})))}},computed:{style:function(){var e={};return this.fullscreen||(e.marginTop=this.top,this.width&&(e.width=this.width)),e}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"===typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},p=d,h=n(0),f=Object(h["a"])(p,r,o,!1,null,null,null);f.options.__file="packages/dialog/src/component.vue";var m=f.exports;m.install=function(e){e.component(m.name,m)};t["default"]=m}})},9446:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=83)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},4:function(e,t){e.exports=n(4279)},83:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"el-dropdown-menu__item",class:{"is-disabled":e.disabled,"el-dropdown-menu__item--divided":e.divided},attrs:{"aria-disabled":e.disabled,tabindex:e.disabled?null:-1},on:{click:e.handleClick}},[e.icon?n("i",{class:e.icon}):e._e(),e._t("default")],2)},o=[];r._withStripped=!0;var i=n(4),s=n.n(i),a={name:"ElDropdownItem",mixins:[s.a],props:{command:{},disabled:Boolean,divided:Boolean,icon:String},methods:{handleClick:function(e){this.dispatch("ElDropdown","menu-item-click",[this.command,this])}}},l=a,c=n(0),u=Object(c["a"])(l,r,o,!1,null,null,null);u.options.__file="packages/dropdown/src/dropdown-item.vue";var d=u.exports;d.install=function(e){e.component(d.name,d)};t["default"]=d}})},6053:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=82)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},5:function(e,t){e.exports=n(170)},82:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.doDestroy}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-dropdown-menu el-popper",class:[e.size&&"el-dropdown-menu--"+e.size]},[e._t("default")],2)])},o=[];r._withStripped=!0;var i=n(5),s=n.n(i),a={name:"ElDropdownMenu",componentName:"ElDropdownMenu",mixins:[s.a],props:{visibleArrow:{type:Boolean,default:!0},arrowOffset:{type:Number,default:0}},data:function(){return{size:this.dropdown.dropdownSize}},inject:["dropdown"],created:function(){var e=this;this.$on("updatePopper",(function(){e.showPopper&&e.updatePopper()})),this.$on("visible",(function(t){e.showPopper=t}))},mounted:function(){this.dropdown.popperElm=this.popperElm=this.$el,this.referenceElm=this.dropdown.$el,this.dropdown.initDomOperation()},watch:{"dropdown.placement":{immediate:!0,handler:function(e){this.currentPlacement=e}}}},l=a,c=n(0),u=Object(c["a"])(l,r,o,!1,null,null,null);u.options.__file="packages/dropdown/src/dropdown-menu.vue";var d=u.exports;d.install=function(e){e.component(d.name,d)};t["default"]=d}})},2547:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=128)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n(8730)},12:function(e,t){e.exports=n(8294)},128:function(e,t,n){"use strict";n.r(t);var r,o,i=n(12),s=n.n(i),a=n(4),l=n.n(a),c=n(11),u=n.n(c),d=n(14),p=n.n(d),h=n(35),f=n.n(h),m=n(3),v={name:"ElDropdown",componentName:"ElDropdown",mixins:[l.a,u.a],directives:{Clickoutside:s.a},components:{ElButton:p.a,ElButtonGroup:f.a},provide:function(){return{dropdown:this}},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom-end"},visibleArrow:{default:!0},showTimeout:{type:Number,default:250},hideTimeout:{type:Number,default:150},tabindex:{type:Number,default:0},disabled:{type:Boolean,default:!1}},data:function(){return{timeout:null,visible:!1,triggerElm:null,menuItems:null,menuItemsArray:null,dropdownElm:null,focusing:!1,listId:"dropdown-menu-"+Object(m["generateId"])()}},computed:{dropdownSize:function(){return this.size||(this.$ELEMENT||{}).size}},mounted:function(){this.$on("menu-item-click",this.handleMenuItemClick)},watch:{visible:function(e){this.broadcast("ElDropdownMenu","visible",e),this.$emit("visible-change",e)},focusing:function(e){var t=this.$el.querySelector(".el-dropdown-selfdefine");t&&(e?t.className+=" focusing":t.className=t.className.replace("focusing",""))}},methods:{getMigratingConfig:function(){return{props:{"menu-align":"menu-align is renamed to placement."}}},show:function(){var e=this;this.disabled||(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.visible=!0}),"click"===this.trigger?0:this.showTimeout))},hide:function(){var e=this;this.disabled||(this.removeTabindex(),this.tabindex>=0&&this.resetTabindex(this.triggerElm),clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.visible=!1}),"click"===this.trigger?0:this.hideTimeout))},handleClick:function(){this.disabled||(this.visible?this.hide():this.show())},handleTriggerKeyDown:function(e){var t=e.keyCode;[38,40].indexOf(t)>-1?(this.removeTabindex(),this.resetTabindex(this.menuItems[0]),this.menuItems[0].focus(),e.preventDefault(),e.stopPropagation()):13===t?this.handleClick():[9,27].indexOf(t)>-1&&this.hide()},handleItemKeyDown:function(e){var t=e.keyCode,n=e.target,r=this.menuItemsArray.indexOf(n),o=this.menuItemsArray.length-1,i=void 0;[38,40].indexOf(t)>-1?(i=38===t?0!==r?r-1:0:r<o?r+1:o,this.removeTabindex(),this.resetTabindex(this.menuItems[i]),this.menuItems[i].focus(),e.preventDefault(),e.stopPropagation()):13===t?(this.triggerElmFocus(),n.click(),this.hideOnClick&&(this.visible=!1)):[9,27].indexOf(t)>-1&&(this.hide(),this.triggerElmFocus())},resetTabindex:function(e){this.removeTabindex(),e.setAttribute("tabindex","0")},removeTabindex:function(){this.triggerElm.setAttribute("tabindex","-1"),this.menuItemsArray.forEach((function(e){e.setAttribute("tabindex","-1")}))},initAria:function(){this.dropdownElm.setAttribute("id",this.listId),this.triggerElm.setAttribute("aria-haspopup","list"),this.triggerElm.setAttribute("aria-controls",this.listId),this.splitButton||(this.triggerElm.setAttribute("role","button"),this.triggerElm.setAttribute("tabindex",this.tabindex),this.triggerElm.setAttribute("class",(this.triggerElm.getAttribute("class")||"")+" el-dropdown-selfdefine"))},initEvent:function(){var e=this,t=this.trigger,n=this.show,r=this.hide,o=this.handleClick,i=this.splitButton,s=this.handleTriggerKeyDown,a=this.handleItemKeyDown;this.triggerElm=i?this.$refs.trigger.$el:this.$slots.default[0].elm;var l=this.dropdownElm;this.triggerElm.addEventListener("keydown",s),l.addEventListener("keydown",a,!0),i||(this.triggerElm.addEventListener("focus",(function(){e.focusing=!0})),this.triggerElm.addEventListener("blur",(function(){e.focusing=!1})),this.triggerElm.addEventListener("click",(function(){e.focusing=!1}))),"hover"===t?(this.triggerElm.addEventListener("mouseenter",n),this.triggerElm.addEventListener("mouseleave",r),l.addEventListener("mouseenter",n),l.addEventListener("mouseleave",r)):"click"===t&&this.triggerElm.addEventListener("click",o)},handleMenuItemClick:function(e,t){this.hideOnClick&&(this.visible=!1),this.$emit("command",e,t)},triggerElmFocus:function(){this.triggerElm.focus&&this.triggerElm.focus()},initDomOperation:function(){this.dropdownElm=this.popperElm,this.menuItems=this.dropdownElm.querySelectorAll("[tabindex='-1']"),this.menuItemsArray=[].slice.call(this.menuItems),this.initEvent(),this.initAria()}},render:function(e){var t=this,n=this.hide,r=this.splitButton,o=this.type,i=this.dropdownSize,s=this.disabled,a=function(e){t.$emit("click",e),n()},l=null;if(r)l=e("el-button-group",[e("el-button",{attrs:{type:o,size:i,disabled:s},nativeOn:{click:a}},[this.$slots.default]),e("el-button",{ref:"trigger",attrs:{type:o,size:i,disabled:s},class:"el-dropdown__caret-button"},[e("i",{class:"el-dropdown__icon el-icon-arrow-down"})])]);else{l=this.$slots.default;var c=l[0].data||{},u=c.attrs,d=void 0===u?{}:u;s&&!d.disabled&&(d.disabled=!0,c.attrs=d)}var p=s?null:this.$slots.dropdown;return e("div",{class:"el-dropdown",directives:[{name:"clickoutside",value:n}],attrs:{"aria-disabled":s}},[l,p])}},g=v,y=n(0),b=Object(y["a"])(g,r,o,!1,null,null,null);b.options.__file="packages/dropdown/src/dropdown.vue";var w=b.exports;w.install=function(e){e.component(w.name,w)};t["default"]=w},14:function(e,t){e.exports=n(5996)},3:function(e,t){e.exports=n(6474)},35:function(e,t){e.exports=n(7518)},4:function(e,t){e.exports=n(4279)}})},4001:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=74)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n(8730)},21:function(e,t){e.exports=n(7603)},4:function(e,t){e.exports=n(4279)},74:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?n("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?n("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?n("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?n("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[e._v("\n            "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n          ")])]):e._e()],2),e.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?n("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:n("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?n("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)},o=[];r._withStripped=!0;var i=n(4),s=n.n(i),a=n(11),l=n.n(a),c=void 0,u="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",d=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function p(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),o=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),i=d.map((function(e){return e+":"+t.getPropertyValue(e)})).join(";");return{contextStyle:i,paddingSize:r,borderSize:o,boxSizing:n}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c||(c=document.createElement("textarea"),document.body.appendChild(c));var r=p(e),o=r.paddingSize,i=r.borderSize,s=r.boxSizing,a=r.contextStyle;c.setAttribute("style",a+";"+u),c.value=e.value||e.placeholder||"";var l=c.scrollHeight,d={};"border-box"===s?l+=i:"content-box"===s&&(l-=o),c.value="";var h=c.scrollHeight-o;if(null!==t){var f=h*t;"border-box"===s&&(f=f+o+i),l=Math.max(f,l),d.minHeight=f+"px"}if(null!==n){var m=h*n;"border-box"===s&&(m=m+o+i),l=Math.min(m,l)}return d.height=l+"px",c.parentNode&&c.parentNode.removeChild(c),c=null,d}var f=n(9),m=n.n(f),v=n(21),g={name:"ElInput",componentName:"ElInput",mixins:[s.a,l.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return m()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"===typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick((function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var e=this.autosize,t=this.type;if("textarea"===t)if(e){var n=e.minRows,r=e.maxRows;this.textareaCalcStyle=h(this.$refs.textarea,n,r)}else this.textareaCalcStyle={minHeight:h(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function(e){this.$emit("compositionstart",e),this.isComposing=!0},handleCompositionUpdate:function(e){this.$emit("compositionupdate",e);var t=e.target.value,n=t[t.length-1]||"";this.isComposing=!Object(v["isKorean"])(n)},handleCompositionEnd:function(e){this.$emit("compositionend",e),this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit("change",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(t.length){for(var n=null,r=0;r<t.length;r++)if(t[r].parentNode===this.$el){n=t[r];break}if(n){var o={suffix:"append",prefix:"prepend"},i=o[e];this.$slots[i]?n.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+i).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){var e=this;this.passwordVisible=!this.passwordVisible,this.$nextTick((function(){e.focus()}))},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},y=g,b=n(0),w=Object(b["a"])(y,r,o,!1,null,null,null);w.options.__file="packages/input/src/input.vue";var k=w.exports;k.install=function(e){e.component(k.name,k)};t["default"]=k},9:function(e,t){e.exports=n(5734)}})},9181:function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=function(e){function t(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return 1===n.length&&"object"===r(n[0])&&(n=n[0]),n&&n.hasOwnProperty||(n={}),e.replace(i,(function(t,r,i,s){var a=void 0;return"{"===e[s-1]&&"}"===e[s+t.length]?i:(a=(0,o.hasOwn)(n,i)?n[i]:null,null===a||void 0===a?"":a)}))}return t};var o=n(6474),i=/(%|)\{([0-9a-zA-Z_]+)\}/g},4189:function(e,t,n){"use strict";t.__esModule=!0,t.i18n=t.use=t.t=void 0;var r=n(6711),o=d(r),i=n(7203),s=d(i),a=n(724),l=d(a),c=n(9181),u=d(c);function d(e){return e&&e.__esModule?e:{default:e}}var p=(0,u.default)(s.default),h=o.default,f=!1,m=function(){var e=Object.getPrototypeOf(this||s.default).$t;if("function"===typeof e&&s.default.locale)return f||(f=!0,s.default.locale(s.default.config.lang,(0,l.default)(h,s.default.locale(s.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},v=t.t=function(e,t){var n=m.apply(this,arguments);if(null!==n&&void 0!==n)return n;for(var r=e.split("."),o=h,i=0,s=r.length;i<s;i++){var a=r[i];if(n=o[a],i===s-1)return p(n,t);if(!n)return"";o=n}return""},g=t.use=function(e){h=e||h},y=t.i18n=function(e){m=e||m};t["default"]={use:g,t:v,i18n:y}},6711:function(e,t){"use strict";t.__esModule=!0,t["default"]={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},empty:{description:"暂无数据"}}}},1130:function(e,t,n){n(7658),e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=78)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},10:function(e,t){e.exports=n(4001)},13:function(e,t){e.exports=n(3798)},14:function(e,t){e.exports=n(5996)},2:function(e,t){e.exports=n(3575)},20:function(e,t){e.exports=n(4189)},23:function(e,t){e.exports=n(4237)},47:function(e,t){e.exports=n(3486)},6:function(e,t){e.exports=n(9142)},7:function(e,t){e.exports=n(7203)},78:function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"msgbox-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":e.title||"dialog"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[n("div",{staticClass:"el-message-box",class:[e.customClass,e.center&&"el-message-box--center"]},[null!==e.title?n("div",{staticClass:"el-message-box__header"},[n("div",{staticClass:"el-message-box__title"},[e.icon&&e.center?n("div",{class:["el-message-box__status",e.icon]}):e._e(),n("span",[e._v(e._s(e.title))])]),e.showClose?n("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.handleAction(e.distinguishCancelAndClose?"close":"cancel")},keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction(e.distinguishCancelAndClose?"close":"cancel")}}},[n("i",{staticClass:"el-message-box__close el-icon-close"})]):e._e()]):e._e(),n("div",{staticClass:"el-message-box__content"},[n("div",{staticClass:"el-message-box__container"},[e.icon&&!e.center&&""!==e.message?n("div",{class:["el-message-box__status",e.icon]}):e._e(),""!==e.message?n("div",{staticClass:"el-message-box__message"},[e._t("default",[e.dangerouslyUseHTMLString?n("p",{domProps:{innerHTML:e._s(e.message)}}):n("p",[e._v(e._s(e.message))])])],2):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[n("el-input",{ref:"input",attrs:{type:e.inputType,placeholder:e.inputPlaceholder},nativeOn:{keydown:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputEnter(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),n("div",{staticClass:"el-message-box__errormsg",style:{visibility:e.editorErrorMessage?"visible":"hidden"}},[e._v(e._s(e.editorErrorMessage))])],1)]),n("div",{staticClass:"el-message-box__btns"},[e.showCancelButton?n("el-button",{class:[e.cancelButtonClasses],attrs:{loading:e.cancelButtonLoading,round:e.roundButton,size:"small"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction("cancel")}},nativeOn:{click:function(t){e.handleAction("cancel")}}},[e._v("\n          "+e._s(e.cancelButtonText||e.t("el.messagebox.cancel"))+"\n        ")]):e._e(),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[e.confirmButtonClasses],attrs:{loading:e.confirmButtonLoading,round:e.roundButton,size:"small"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction("confirm")}},nativeOn:{click:function(t){e.handleAction("confirm")}}},[e._v("\n          "+e._s(e.confirmButtonText||e.t("el.messagebox.confirm"))+"\n        ")])],1)])])])},s=[];i._withStripped=!0;var a=n(13),l=n.n(a),c=n(6),u=n.n(c),d=n(10),p=n.n(d),h=n(14),f=n.n(h),m=n(2),v=n(20),g=n(47),y=n.n(g),b=void 0,w={success:"success",info:"info",warning:"warning",error:"error"},k={mixins:[l.a,u.a],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:p.a,ElButton:f.a},computed:{icon:function(){var e=this.type,t=this.iconClass;return t||(e&&w[e]?"el-icon-"+w[e]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var e=this,t=this.uid;return function(){e.$nextTick((function(){t===e.uid&&e.doClose()}))}},doClose:function(){var e=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),b.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout((function(){e.action&&e.callback(e.action,e)})))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(e){("prompt"!==this.$type||"confirm"!==e||this.validate())&&(this.action=e,"function"===typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(e,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var e=this.inputPattern;if(e&&!e.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||Object(v["t"])("el.messagebox.error"),Object(m["addClass"])(this.getInputElement(),"invalid"),!1;var t=this.inputValidator;if("function"===typeof t){var n=t(this.inputValue);if(!1===n)return this.editorErrorMessage=this.inputErrorMessage||Object(v["t"])("el.messagebox.error"),Object(m["addClass"])(this.getInputElement(),"invalid"),!1;if("string"===typeof n)return this.editorErrorMessage=n,Object(m["addClass"])(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",Object(m["removeClass"])(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var e=this.$el.querySelector(".el-message-box__btns .el-button"),t=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return e||t},getInputElement:function(){var e=this.$refs.input.$refs;return e.input||e.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(n){"prompt"===t.$type&&null!==e&&t.validate()}))}},visible:function(e){var t=this;e&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick((function(){t.$refs.confirm.$el.focus()})),this.focusAfterClosed=document.activeElement,b=new y.a(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(e?setTimeout((function(){t.$refs.input&&t.$refs.input.$el&&t.getInputElement().focus()}),500):(this.editorErrorMessage="",Object(m["removeClass"])(this.getInputElement(),"invalid")))}},mounted:function(){var e=this;this.$nextTick((function(){e.closeOnHashChange&&window.addEventListener("hashchange",e.close)}))},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout((function(){b.closeDialog()}))},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},x=k,S=n(0),C=Object(S["a"])(x,i,s,!1,null,null,null);C.options.__file="packages/message-box/src/main.vue";var _=C.exports,O=n(9),M=n.n(O),E=n(23),T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},N=o.a.extend(_),D=void 0,R=void 0,I=[],P=function(e){if(D){var t=D.callback;"function"===typeof t&&(R.showInput?t(R.inputValue,e):t(e)),D.resolve&&("confirm"===e?R.showInput?D.resolve({value:R.inputValue,action:e}):D.resolve(e):!D.reject||"cancel"!==e&&"close"!==e||D.reject(e))}},z=function(){R=new N({el:document.createElement("div")}),R.callback=P},$=function e(){if(R||z(),R.action="",(!R.visible||R.closeTimer)&&I.length>0){D=I.shift();var t=D.options;for(var n in t)t.hasOwnProperty(n)&&(R[n]=t[n]);void 0===t.callback&&(R.callback=P);var r=R.callback;R.callback=function(t,n){r(t,n),e()},Object(E["isVNode"])(R.message)?(R.$slots.default=[R.message],R.message=null):delete R.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach((function(e){void 0===R[e]&&(R[e]=!0)})),document.body.appendChild(R.$el),o.a.nextTick((function(){R.visible=!0}))}},j=function e(t,n){if(!o.a.prototype.$isServer){if("string"===typeof t||Object(E["isVNode"])(t)?(t={message:t},"string"===typeof arguments[1]&&(t.title=arguments[1])):t.callback&&!n&&(n=t.callback),"undefined"!==typeof Promise)return new Promise((function(r,o){I.push({options:M()({},A,e.defaults,t),callback:n,resolve:r,reject:o}),$()}));I.push({options:M()({},A,e.defaults,t),callback:n}),$()}};j.setDefaults=function(e){j.defaults=e},j.alert=function(e,t,n){return"object"===("undefined"===typeof t?"undefined":T(t))?(n=t,t=""):void 0===t&&(t=""),j(M()({title:t,message:e,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},n))},j.confirm=function(e,t,n){return"object"===("undefined"===typeof t?"undefined":T(t))?(n=t,t=""):void 0===t&&(t=""),j(M()({title:t,message:e,$type:"confirm",showCancelButton:!0},n))},j.prompt=function(e,t,n){return"object"===("undefined"===typeof t?"undefined":T(t))?(n=t,t=""):void 0===t&&(t=""),j(M()({title:t,message:e,showCancelButton:!0,showInput:!0,$type:"prompt"},n))},j.close=function(){R.doClose(),R.visible=!1,I=[],D=null};var F=j;t["default"]=F},9:function(e,t){e.exports=n(5734)}})},4279:function(e,t){"use strict";function n(e,t,r){this.$children.forEach((function(o){var i=o.$options.componentName;i===e?o.$emit.apply(o,[t].concat(r)):n.apply(o,[e,t].concat([r]))}))}t.__esModule=!0,t["default"]={methods:{dispatch:function(e,t,n){var r=this.$parent||this.$root,o=r.$options.componentName;while(r&&(!o||o!==e))r=r.$parent,r&&(o=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,r){n.call(this,e,t,r)}}}},9142:function(e,t,n){"use strict";t.__esModule=!0;var r=n(4189);t["default"]={methods:{t:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.t.apply(this,t)}}}},8730:function(e,t,n){"use strict";t.__esModule=!0;n(6474);t["default"]={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},8553:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=77)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},2:function(e,t){e.exports=n(3575)},3:function(e,t){e.exports=n(6474)},5:function(e,t){e.exports=n(170)},7:function(e,t){e.exports=n(7203)},77:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("transition",{attrs:{name:e.transition},on:{"after-enter":e.handleAfterEnter,"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&e.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[e.popperClass,e.content&&"el-popover--plain"],style:{width:e.width+"px"},attrs:{role:"tooltip",id:e.tooltipId,"aria-hidden":e.disabled||!e.showPopper?"true":"false"}},[e.title?n("div",{staticClass:"el-popover__title",domProps:{textContent:e._s(e.title)}}):e._e(),e._t("default",[e._v(e._s(e.content))])],2)]),n("span",{ref:"wrapper",staticClass:"el-popover__reference-wrapper"},[e._t("reference")],2)],1)},o=[];r._withStripped=!0;var i=n(5),s=n.n(i),a=n(2),l=n(3),c={name:"ElPopover",mixins:[s.a],props:{trigger:{type:String,default:"click",validator:function(e){return["click","focus","hover","manual"].indexOf(e)>-1}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(l["generateId"])()}},watch:{showPopper:function(e){this.disabled||(e?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var e=this,t=this.referenceElm=this.reference||this.$refs.reference,n=this.popper||this.$refs.popper;!t&&this.$refs.wrapper.children&&(t=this.referenceElm=this.$refs.wrapper.children[0]),t&&(Object(a["addClass"])(t,"el-popover__reference"),t.setAttribute("aria-describedby",this.tooltipId),t.setAttribute("tabindex",this.tabindex),n.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(a["on"])(t,"focusin",(function(){e.handleFocus();var n=t.__vue__;n&&"function"===typeof n.focus&&n.focus()})),Object(a["on"])(n,"focusin",this.handleFocus),Object(a["on"])(t,"focusout",this.handleBlur),Object(a["on"])(n,"focusout",this.handleBlur)),Object(a["on"])(t,"keydown",this.handleKeydown),Object(a["on"])(t,"click",this.handleClick)),"click"===this.trigger?(Object(a["on"])(t,"click",this.doToggle),Object(a["on"])(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(a["on"])(t,"mouseenter",this.handleMouseEnter),Object(a["on"])(n,"mouseenter",this.handleMouseEnter),Object(a["on"])(t,"mouseleave",this.handleMouseLeave),Object(a["on"])(n,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),t.querySelector("input, textarea")?(Object(a["on"])(t,"focusin",this.doShow),Object(a["on"])(t,"focusout",this.doClose)):(Object(a["on"])(t,"mousedown",this.doShow),Object(a["on"])(t,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(a["addClass"])(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(a["removeClass"])(this.referenceElm,"focusing")},handleBlur:function(){Object(a["removeClass"])(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var e=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout((function(){e.showPopper=!0}),this.openDelay):this.showPopper=!0},handleKeydown:function(e){27===e.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout((function(){e.showPopper=!1}),this.closeDelay):this.showPopper=!1},handleDocumentClick:function(e){var t=this.reference||this.$refs.reference,n=this.popper||this.$refs.popper;!t&&this.$refs.wrapper.children&&(t=this.referenceElm=this.$refs.wrapper.children[0]),this.$el&&t&&!this.$el.contains(e.target)&&!t.contains(e.target)&&n&&!n.contains(e.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var e=this.reference;Object(a["off"])(e,"click",this.doToggle),Object(a["off"])(e,"mouseup",this.doClose),Object(a["off"])(e,"mousedown",this.doShow),Object(a["off"])(e,"focusin",this.doShow),Object(a["off"])(e,"focusout",this.doClose),Object(a["off"])(e,"mousedown",this.doShow),Object(a["off"])(e,"mouseup",this.doClose),Object(a["off"])(e,"mouseleave",this.handleMouseLeave),Object(a["off"])(e,"mouseenter",this.handleMouseEnter),Object(a["off"])(document,"click",this.handleDocumentClick)}},u=c,d=n(0),p=Object(d["a"])(u,r,o,!1,null,null,null);p.options.__file="packages/popover/src/main.vue";var h=p.exports,f=function(e,t,n){var r=t.expression?t.value:t.arg,o=n.context.$refs[r];o&&(Array.isArray(o)?o[0].$refs.reference=e:o.$refs.reference=e)},m={bind:function(e,t,n){f(e,t,n)},inserted:function(e,t,n){f(e,t,n)}},v=n(7),g=n.n(v);g.a.directive("popover",m),h.install=function(e){e.directive("popover",m),e.component(h.name,h)},h.directive=m;t["default"]=h}})},3626:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=103)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},103:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-progress",class:["el-progress--"+e.type,e.status?"is-"+e.status:"",{"el-progress--without-text":!e.showText,"el-progress--text-inside":e.textInside}],attrs:{role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===e.type?n("div",{staticClass:"el-progress-bar"},[n("div",{staticClass:"el-progress-bar__outer",style:{height:e.strokeWidth+"px"}},[n("div",{staticClass:"el-progress-bar__inner",style:e.barStyle},[e.showText&&e.textInside?n("div",{staticClass:"el-progress-bar__innerText"},[e._v(e._s(e.content))]):e._e()])])]):n("div",{staticClass:"el-progress-circle",style:{height:e.width+"px",width:e.width+"px"}},[n("svg",{attrs:{viewBox:"0 0 100 100"}},[n("path",{staticClass:"el-progress-circle__track",style:e.trailPathStyle,attrs:{d:e.trackPath,stroke:"#e5e9f2","stroke-width":e.relativeStrokeWidth,fill:"none"}}),n("path",{staticClass:"el-progress-circle__path",style:e.circlePathStyle,attrs:{d:e.trackPath,stroke:e.stroke,fill:"none","stroke-linecap":e.strokeLinecap,"stroke-width":e.percentage?e.relativeStrokeWidth:0}})])]),e.showText&&!e.textInside?n("div",{staticClass:"el-progress__text",style:{fontSize:e.progressTextSize+"px"}},[e.status?n("i",{class:e.iconClass}):[e._v(e._s(e.content))]],2):e._e()])},o=[];r._withStripped=!0;var i={name:"ElProgress",props:{type:{type:String,default:"line",validator:function(e){return["line","circle","dashboard"].indexOf(e)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(e){return e>=0&&e<=100}},status:{type:String,validator:function(e){return["success","exception","warning"].indexOf(e)>-1}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var e={};return e.width=this.percentage+"%",e.backgroundColor=this.getCurrentColor(this.percentage),e},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var e=this.radius,t="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(t?"":"-")+e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"-":"")+2*e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"":"-")+2*e+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){var e=-1*this.perimeter*(1-this.rate)/2;return e+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var e=void 0;if(this.color)e=this.getCurrentColor(this.percentage);else switch(this.status){case"success":e="#13ce66";break;case"exception":e="#ff4949";break;case"warning":e="#e6a23c";break;default:e="#20a0ff"}return e},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"===typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(e){return"function"===typeof this.color?this.color(e):"string"===typeof this.color?this.color:this.getLevelColor(e)},getLevelColor:function(e){for(var t=this.getColorArray().sort((function(e,t){return e.percentage-t.percentage})),n=0;n<t.length;n++)if(t[n].percentage>e)return t[n].color;return t[t.length-1].color},getColorArray:function(){var e=this.color,t=100/e.length;return e.map((function(e,n){return"string"===typeof e?{color:e,percentage:(n+1)*t}:e}))}}},s=i,a=n(0),l=Object(a["a"])(s,r,o,!1,null,null,null);l.options.__file="packages/progress/src/progress.vue";var c=l.exports;c.install=function(e){e.component(c.name,c)};t["default"]=c}})},120:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=136)}({136:function(e,t,n){"use strict";n.r(t);var r=n(5),o=n.n(r),i=n(19),s=n.n(i),a=n(2),l=n(3),c=n(7),u=n.n(c),d={name:"ElTooltip",mixins:[o.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(l["generateId"])(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var e=this;this.$isServer||(this.popperVM=new u.a({data:{node:""},render:function(e){return this.node}}).$mount(),this.debounceClose=s()(200,(function(){return e.handleClosePopper()})))},render:function(e){var t=this;this.popperVM&&(this.popperVM.node=e("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[e("div",{on:{mouseleave:function(){t.setExpectedState(!1),t.debounceClose()},mouseenter:function(){t.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var n=this.getFirstElement();if(!n)return null;var r=n.data=n.data||{};return r.staticClass=this.addTooltipClass(r.staticClass),n},mounted:function(){var e=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(a["on"])(this.referenceElm,"mouseenter",this.show),Object(a["on"])(this.referenceElm,"mouseleave",this.hide),Object(a["on"])(this.referenceElm,"focus",(function(){if(e.$slots.default&&e.$slots.default.length){var t=e.$slots.default[0].componentInstance;t&&t.focus?t.focus():e.handleFocus()}else e.handleFocus()})),Object(a["on"])(this.referenceElm,"blur",this.handleBlur),Object(a["on"])(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick((function(){e.value&&e.updatePopper()}))},watch:{focusing:function(e){e?Object(a["addClass"])(this.referenceElm,"focusing"):Object(a["removeClass"])(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(e){return e?"el-tooltip "+e.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var e=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.showPopper=!0}),this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout((function(){e.showPopper=!1}),this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(e){!1===e&&clearTimeout(this.timeoutPending),this.expectedState=e},getFirstElement:function(){var e=this.$slots.default;if(!Array.isArray(e))return null;for(var t=null,n=0;n<e.length;n++)if(e[n]&&e[n].tag){t=e[n];break}return t}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var e=this.referenceElm;1===e.nodeType&&(Object(a["off"])(e,"mouseenter",this.show),Object(a["off"])(e,"mouseleave",this.hide),Object(a["off"])(e,"focus",this.handleFocus),Object(a["off"])(e,"blur",this.handleBlur),Object(a["off"])(e,"click",this.removeFocusing))},install:function(e){e.component(d.name,d)}};t["default"]=d},19:function(e,t){e.exports=n(6365)},2:function(e,t){e.exports=n(3575)},3:function(e,t){e.exports=n(6474)},5:function(e,t){e.exports=n(170)},7:function(e,t){e.exports=n(7203)}})},2307:function(e,t,n){n(7658),e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=58)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n(8730)},26:function(e,t){e.exports=n(1271)},42:function(e,t){e.exports=n(3626)},58:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{class:["el-upload-list","el-upload-list--"+e.listType,{"is-disabled":e.disabled}],attrs:{tag:"ul",name:"el-list"}},e._l(e.files,(function(t){return n("li",{key:t.uid,class:["el-upload-list__item","is-"+t.status,e.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(n){if(!("button"in n)&&e._k(n.keyCode,"delete",[8,46],n.key,["Backspace","Delete","Del"]))return null;!e.disabled&&e.$emit("remove",t)},focus:function(t){e.focusing=!0},blur:function(t){e.focusing=!1},click:function(t){e.focusing=!1}}},[e._t("default",["uploading"!==t.status&&["picture-card","picture"].indexOf(e.listType)>-1?n("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.url,alt:""}}):e._e(),n("a",{staticClass:"el-upload-list__item-name",on:{click:function(n){e.handleClick(t)}}},[n("i",{staticClass:"el-icon-document"}),e._v(e._s(t.name)+"\n      ")]),n("label",{staticClass:"el-upload-list__item-status-label"},[n("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===e.listType,"el-icon-check":["picture-card","picture"].indexOf(e.listType)>-1}})]),e.disabled?e._e():n("i",{staticClass:"el-icon-close",on:{click:function(n){e.$emit("remove",t)}}}),e.disabled?e._e():n("i",{staticClass:"el-icon-close-tip"},[e._v(e._s(e.t("el.upload.deleteTip")))]),"uploading"===t.status?n("el-progress",{attrs:{type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:e.parsePercentage(t.percentage)}}):e._e(),"picture-card"===e.listType?n("span",{staticClass:"el-upload-list__item-actions"},[e.handlePreview&&"picture-card"===e.listType?n("span",{staticClass:"el-upload-list__item-preview",on:{click:function(n){e.handlePreview(t)}}},[n("i",{staticClass:"el-icon-zoom-in"})]):e._e(),e.disabled?e._e():n("span",{staticClass:"el-upload-list__item-delete",on:{click:function(n){e.$emit("remove",t)}}},[n("i",{staticClass:"el-icon-delete"})])]):e._e()],{file:t})],2)})),0)},o=[];r._withStripped=!0;var i=n(6),s=n.n(i),a=n(42),l=n.n(a),c={name:"ElUploadList",mixins:[s.a],data:function(){return{focusing:!1}},components:{ElProgress:l.a},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(e){return parseInt(e,10)},handleClick:function(e){this.handlePreview&&this.handlePreview(e)}}},u=c,d=n(0),p=Object(d["a"])(u,r,o,!1,null,null,null);p.options.__file="packages/upload/src/upload-list.vue";var h=p.exports,f=n(26),m=n.n(f);function v(e,t,n){var r=void 0;r=n.response?""+(n.response.error||n.response):n.responseText?""+n.responseText:"fail to post "+e+" "+n.status;var o=new Error(r);return o.status=n.status,o.method="post",o.url=e,o}function g(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}}function y(e){if("undefined"!==typeof XMLHttpRequest){var t=new XMLHttpRequest,n=e.action;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var r=new FormData;e.data&&Object.keys(e.data).forEach((function(t){r.append(t,e.data[t])})),r.append(e.filename,e.file,e.file.name),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(v(n,e,t));e.onSuccess(g(t))},t.open("post",n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};for(var i in o)o.hasOwnProperty(i)&&null!==o[i]&&t.setRequestHeader(i,o[i]);return t.send(r),t}}var b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-upload-dragger",class:{"is-dragover":e.dragover},on:{drop:function(t){return t.preventDefault(),e.onDrop(t)},dragover:function(t){return t.preventDefault(),e.onDragover(t)},dragleave:function(t){t.preventDefault(),e.dragover=!1}}},[e._t("default")],2)},w=[];b._withStripped=!0;var k={name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(e){if(!this.disabled&&this.uploader){var t=this.uploader.accept;this.dragover=!1,t?this.$emit("file",[].slice.call(e.dataTransfer.files).filter((function(e){var n=e.type,r=e.name,o=r.indexOf(".")>-1?"."+r.split(".").pop():"",i=n.replace(/\/.*$/,"");return t.split(",").map((function(e){return e.trim()})).filter((function(e){return e})).some((function(e){return/\..+$/.test(e)?o===e:/\/\*$/.test(e)?i===e.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(e)&&n===e}))}))):this.$emit("file",e.dataTransfer.files)}}}},x=k,S=Object(d["a"])(x,b,w,!1,null,null,null);S.options.__file="packages/upload/src/upload-dragger.vue";var C,_,O=S.exports,M={inject:["uploader"],components:{UploadDragger:O},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:y},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(e){return-1!==e.indexOf("image")},handleChange:function(e){var t=e.target.files;t&&this.uploadFiles(t)},uploadFiles:function(e){var t=this;if(this.limit&&this.fileList.length+e.length>this.limit)this.onExceed&&this.onExceed(e,this.fileList);else{var n=Array.prototype.slice.call(e);this.multiple||(n=n.slice(0,1)),0!==n.length&&n.forEach((function(e){t.onStart(e),t.autoUpload&&t.upload(e)}))}},upload:function(e){var t=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(e);var n=this.beforeUpload(e);n&&n.then?n.then((function(n){var r=Object.prototype.toString.call(n);if("[object File]"===r||"[object Blob]"===r){for(var o in"[object Blob]"===r&&(n=new File([n],e.name,{type:e.type})),e)e.hasOwnProperty(o)&&(n[o]=e[o]);t.post(n)}else t.post(e)}),(function(){t.onRemove(null,e)})):!1!==n?this.post(e):this.onRemove(null,e)},abort:function(e){var t=this.reqs;if(e){var n=e;e.uid&&(n=e.uid),t[n]&&t[n].abort()}else Object.keys(t).forEach((function(e){t[e]&&t[e].abort(),delete t[e]}))},post:function(e){var t=this,n=e.uid,r={headers:this.headers,withCredentials:this.withCredentials,file:e,data:this.data,filename:this.name,action:this.action,onProgress:function(n){t.onProgress(n,e)},onSuccess:function(r){t.onSuccess(r,e),delete t.reqs[n]},onError:function(r){t.onError(r,e),delete t.reqs[n]}},o=this.httpRequest(r);this.reqs[n]=o,o&&o.then&&o.then(r.onSuccess,r.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(e){e.target===e.currentTarget&&(13!==e.keyCode&&32!==e.keyCode||this.handleClick())}},render:function(e){var t=this.handleClick,n=this.drag,r=this.name,o=this.handleChange,i=this.multiple,s=this.accept,a=this.listType,l=this.uploadFiles,c=this.disabled,u=this.handleKeydown,d={class:{"el-upload":!0},on:{click:t,keydown:u}};return d.class["el-upload--"+a]=!0,e("div",m()([d,{attrs:{tabindex:"0"}}]),[n?e("upload-dragger",{attrs:{disabled:c},on:{file:l}},[this.$slots.default]):this.$slots.default,e("input",{class:"el-upload__input",attrs:{type:"file",name:r,multiple:i,accept:s},ref:"input",on:{change:o}})])}},E=M,T=Object(d["a"])(E,C,_,!1,null,null,null);T.options.__file="packages/upload/src/upload.vue";var A=T.exports,N=n(11),D=n.n(N);function R(){}var I,P,z={name:"ElUpload",mixins:[D.a],components:{ElProgress:l.a,UploadList:h,Upload:A},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:R},onChange:{type:Function,default:R},onPreview:{type:Function},onSuccess:{type:Function,default:R},onProgress:{type:Function,default:R},onError:{type:Function,default:R},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:R}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{listType:function(e){"picture-card"!==e&&"picture"!==e||(this.uploadFiles=this.uploadFiles.map((function(e){if(!e.url&&e.raw)try{e.url=URL.createObjectURL(e.raw)}catch(t){console.error("[Element Error][Upload]",t)}return e})))},fileList:{immediate:!0,handler:function(e){var t=this;this.uploadFiles=e.map((function(e){return e.uid=e.uid||Date.now()+t.tempIndex++,e.status=e.status||"success",e}))}}},methods:{handleStart:function(e){e.uid=Date.now()+this.tempIndex++;var t={status:"ready",name:e.name,size:e.size,percentage:0,uid:e.uid,raw:e};if("picture-card"===this.listType||"picture"===this.listType)try{t.url=URL.createObjectURL(e)}catch(n){return void console.error("[Element Error][Upload]",n)}this.uploadFiles.push(t),this.onChange(t,this.uploadFiles)},handleProgress:function(e,t){var n=this.getFile(t);this.onProgress(e,n,this.uploadFiles),n.status="uploading",n.percentage=e.percent||0},handleSuccess:function(e,t){var n=this.getFile(t);n&&(n.status="success",n.response=e,this.onSuccess(e,n,this.uploadFiles),this.onChange(n,this.uploadFiles))},handleError:function(e,t){var n=this.getFile(t),r=this.uploadFiles;n.status="fail",r.splice(r.indexOf(n),1),this.onError(e,n,this.uploadFiles),this.onChange(n,this.uploadFiles)},handleRemove:function(e,t){var n=this;t&&(e=this.getFile(t));var r=function(){n.abort(e);var t=n.uploadFiles;t.splice(t.indexOf(e),1),n.onRemove(e,t)};if(this.beforeRemove){if("function"===typeof this.beforeRemove){var o=this.beforeRemove(e,this.uploadFiles);o&&o.then?o.then((function(){r()}),R):!1!==o&&r()}}else r()},getFile:function(e){var t=this.uploadFiles,n=void 0;return t.every((function(t){return n=e.uid===t.uid?t:null,!n})),n},abort:function(e){this.$refs["upload-inner"].abort(e)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var e=this;this.uploadFiles.filter((function(e){return"ready"===e.status})).forEach((function(t){e.$refs["upload-inner"].upload(t.raw)}))},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},beforeDestroy:function(){this.uploadFiles.forEach((function(e){e.url&&0===e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)}))},render:function(e){var t=this,n=void 0;this.showFileList&&(n=e(h,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove}},[function(e){if(t.$scopedSlots.file)return t.$scopedSlots.file({file:e.file})}]));var r={props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest},ref:"upload-inner"},o=this.$slots.trigger||this.$slots.default,i=e("upload",r,[o]);return e("div",["picture-card"===this.listType?n:"",this.$slots.trigger?[i,this.$slots.default]:i,this.$slots.tip,"picture-card"!==this.listType?n:""])}},$=z,j=Object(d["a"])($,I,P,!1,null,null,null);j.options.__file="packages/upload/src/index.vue";var F=j.exports;F.install=function(e){e.component(F.name,F)};t["default"]=F},6:function(e,t){e.exports=n(9142)}})},3486:function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(6269),i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var a,l=l||{};l.Dialog=function(e,t,n){var o=this;if(this.dialogNode=e,null===this.dialogNode||"dialog"!==this.dialogNode.getAttribute("role"))throw new Error("Dialog() requires a DOM element with ARIA role of dialog.");"string"===typeof t?this.focusAfterClosed=document.getElementById(t):"object"===("undefined"===typeof t?"undefined":r(t))?this.focusAfterClosed=t:this.focusAfterClosed=null,"string"===typeof n?this.focusFirst=document.getElementById(n):"object"===("undefined"===typeof n?"undefined":r(n))?this.focusFirst=n:this.focusFirst=null,this.focusFirst?this.focusFirst.focus():i.default.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement,a=function(e){o.trapFocus(e)},this.addListeners()},l.Dialog.prototype.addListeners=function(){document.addEventListener("focus",a,!0)},l.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",a,!0)},l.Dialog.prototype.closeDialog=function(){var e=this;this.removeListeners(),this.focusAfterClosed&&setTimeout((function(){e.focusAfterClosed.focus()}))},l.Dialog.prototype.trapFocus=function(e){i.default.IgnoreUtilFocusChanges||(this.dialogNode.contains(e.target)?this.lastFocus=e.target:(i.default.focusFirstDescendant(this.dialogNode),this.lastFocus===document.activeElement&&i.default.focusLastDescendant(this.dialogNode),this.lastFocus=document.activeElement))},t["default"]=l.Dialog},6269:function(e,t){"use strict";t.__esModule=!0;var n=n||{};n.Utils=n.Utils||{},n.Utils.focusFirstDescendant=function(e){for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(n.Utils.attemptFocus(r)||n.Utils.focusFirstDescendant(r))return!0}return!1},n.Utils.focusLastDescendant=function(e){for(var t=e.childNodes.length-1;t>=0;t--){var r=e.childNodes[t];if(n.Utils.attemptFocus(r)||n.Utils.focusLastDescendant(r))return!0}return!1},n.Utils.attemptFocus=function(e){if(!n.Utils.isFocusable(e))return!1;n.Utils.IgnoreUtilFocusChanges=!0;try{e.focus()}catch(t){}return n.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===e},n.Utils.isFocusable=function(e){if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return"hidden"!==e.type&&"file"!==e.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},n.Utils.triggerEvent=function(e,t){var n=void 0;n=/^mouse|click/.test(t)?"MouseEvents":/^key/.test(t)?"KeyboardEvent":"HTMLEvents";for(var r=document.createEvent(n),o=arguments.length,i=Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];return r.initEvent.apply(r,[t].concat(i)),e.dispatchEvent?e.dispatchEvent(r):e.fireEvent("on"+t,r),e},n.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27},t["default"]=n.Utils},8294:function(e,t,n){"use strict";n(7658),t.__esModule=!0;var r=n(7203),o=s(r),i=n(3575);function s(e){return e&&e.__esModule?e:{default:e}}var a=[],l="@@clickoutsideContext",c=void 0,u=0;function d(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&r.target&&o.target)||e.contains(r.target)||e.contains(o.target)||e===r.target||n.context.popperElm&&(n.context.popperElm.contains(r.target)||n.context.popperElm.contains(o.target))||(t.expression&&e[l].methodName&&n.context[e[l].methodName]?n.context[e[l].methodName]():e[l].bindingFn&&e[l].bindingFn())}}!o.default.prototype.$isServer&&(0,i.on)(document,"mousedown",(function(e){return c=e})),!o.default.prototype.$isServer&&(0,i.on)(document,"mouseup",(function(e){a.forEach((function(t){return t[l].documentHandler(e,c)}))})),t["default"]={bind:function(e,t,n){a.push(e);var r=u++;e[l]={id:r,documentHandler:d(e,t,n),methodName:t.expression,bindingFn:t.value}},update:function(e,t,n){e[l].documentHandler=d(e,t,n),e[l].methodName=t.expression,e[l].bindingFn=t.value},unbind:function(e){for(var t=a.length,n=0;n<t;n++)if(a[n][l].id===e[l].id){a.splice(n,1);break}delete e[l]}}},3575:function(e,t,n){"use strict";t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hasClass=m,t.addClass=v,t.removeClass=g,t.setStyle=b;var o=n(7203),i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var a=i.default.prototype.$isServer,l=/([\:\-\_]+(.))/g,c=/^moz([A-Z])/,u=a?0:Number(document.documentMode),d=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},p=function(e){return e.replace(l,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(c,"Moz$1")},h=t.on=function(){return!a&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)}}(),f=t.off=function(){return!a&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}();t.once=function(e,t,n){var r=function r(){n&&n.apply(this,arguments),f(e,t,r)};h(e,t,r)};function m(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function v(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),o=0,i=r.length;o<i;o++){var s=r[o];s&&(e.classList?e.classList.add(s):m(e,s)||(n+=" "+s))}e.classList||e.setAttribute("class",n)}}function g(e,t){if(e&&t){for(var n=t.split(" "),r=" "+e.className+" ",o=0,i=n.length;o<i;o++){var s=n[o];s&&(e.classList?e.classList.remove(s):m(e,s)&&(r=r.replace(" "+s+" "," ")))}e.classList||e.setAttribute("class",d(r))}}var y=t.getStyle=u<9?function(e,t){if(!a){if(!e||!t)return null;t=p(t),"float"===t&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(n){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(n){return e.style[t]}}}:function(e,t){if(!a){if(!e||!t)return null;t=p(t),"float"===t&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(r){return e.style[t]}}};function b(e,t,n){if(e&&t)if("object"===("undefined"===typeof t?"undefined":r(t)))for(var o in t)t.hasOwnProperty(o)&&b(e,o,t[o]);else t=p(t),"opacity"===t&&u<9?e.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":e.style[t]=n}var w=t.isScroll=function(e,t){if(!a){var n=null!==t&&void 0!==t,r=y(e,n?t?"overflow-y":"overflow-x":"overflow");return r.match(/(scroll|auto|overlay)/)}};t.getScrollContainer=function(e,t){if(!a){var n=e;while(n){if([window,document,document.documentElement].includes(n))return window;if(w(n,t))return n;n=n.parentNode}return n}},t.isInContainer=function(e,t){if(a||!e||!t)return!1;var n=e.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}},5734:function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t]||{};for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];void 0!==i&&(e[o]=i)}}return e}},1218:function(e,t,n){"use strict";var r,o;"function"===typeof Symbol&&Symbol.iterator;(function(i,s){r=s,o="function"===typeof r?r.call(t,n,t,e):r,void 0===o||(e.exports=o)})(0,(function(){var e=window,t={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function n(e,n,r){this._reference=e.jquery?e[0]:e,this.state={};var o="undefined"===typeof n||null===n,i=n&&"[object Object]"===Object.prototype.toString.call(n);return this._popper=o||i?this.parse(i?n:{}):n.jquery?n[0]:n,this._options=Object.assign({},t,r),this._options.modifiers=this._options.modifiers.map(function(e){if(-1===this._options.modifiersIgnored.indexOf(e))return"applyStyle"===e&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[e]||e}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),d(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function r(t){var n=t.style.display,r=t.style.visibility;t.style.display="block",t.style.visibility="hidden";t.offsetWidth;var o=e.getComputedStyle(t),i=parseFloat(o.marginTop)+parseFloat(o.marginBottom),s=parseFloat(o.marginLeft)+parseFloat(o.marginRight),a={width:t.offsetWidth+s,height:t.offsetHeight+i};return t.style.display=n,t.style.visibility=r,a}function o(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function i(e){var t=Object.assign({},e);return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function s(e,t){var n,r=0;for(n in e){if(e[n]===t)return r;r++}return null}function a(t,n){var r=e.getComputedStyle(t,null);return r[n]}function l(t){var n=t.offsetParent;return n!==e.document.body&&n?n:e.document.documentElement}function c(t){var n=t.parentNode;return n?n===e.document?e.document.body.scrollTop||e.document.body.scrollLeft?e.document.body:e.document.documentElement:-1!==["scroll","auto"].indexOf(a(n,"overflow"))||-1!==["scroll","auto"].indexOf(a(n,"overflow-x"))||-1!==["scroll","auto"].indexOf(a(n,"overflow-y"))?n:c(t.parentNode):t}function u(t){return t!==e.document.body&&("fixed"===a(t,"position")||(t.parentNode?u(t.parentNode):t))}function d(e,t){function n(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}Object.keys(t).forEach((function(r){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&n(t[r])&&(o="px"),e.style[r]=t[r]+o}))}function p(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function h(e){var t={width:e.offsetWidth,height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop};return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function f(e){var t=e.getBoundingClientRect(),n=-1!=navigator.userAgent.indexOf("MSIE"),r=n&&"HTML"===e.tagName?-e.scrollTop:t.top;return{left:t.left,top:r,right:t.right,bottom:t.bottom,width:t.right-t.left,height:t.bottom-r}}function m(e,t,n){var r=f(e),o=f(t);if(n){var i=c(t);o.top+=i.scrollTop,o.bottom+=i.scrollTop,o.left+=i.scrollLeft,o.right+=i.scrollLeft}var s={top:r.top-o.top,left:r.left-o.left,bottom:r.top-o.top+r.height,right:r.left-o.left+r.width,width:r.width,height:r.height};return s}function v(t){for(var n=["","ms","webkit","moz","o"],r=0;r<n.length;r++){var o=n[r]?n[r]+t.charAt(0).toUpperCase()+t.slice(1):t;if("undefined"!==typeof e.document.body.style[o])return o}return null}return n.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[v("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},n.prototype.update=function(){var e={instance:this,styles:{}};e.placement=this._options.placement,e._originalPlacement=this._options.placement,e.offsets=this._getOffsets(this._popper,this._reference,e.placement),e.boundaries=this._getBoundaries(e,this._options.boundariesPadding,this._options.boundariesElement),e=this.runModifiers(e,this._options.modifiers),"function"===typeof this.state.updateCallback&&this.state.updateCallback(e)},n.prototype.onCreate=function(e){return e(this),this},n.prototype.onUpdate=function(e){return this.state.updateCallback=e,this},n.prototype.parse=function(t){var n={tagName:"div",classNames:["popper"],attributes:[],parent:e.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};t=Object.assign({},n,t);var r=e.document,o=r.createElement(t.tagName);if(a(o,t.classNames),l(o,t.attributes),"node"===t.contentType?o.appendChild(t.content.jquery?t.content[0]:t.content):"html"===t.contentType?o.innerHTML=t.content:o.textContent=t.content,t.arrowTagName){var i=r.createElement(t.arrowTagName);a(i,t.arrowClassNames),l(i,t.arrowAttributes),o.appendChild(i)}var s=t.parent.jquery?t.parent[0]:t.parent;if("string"===typeof s){if(s=r.querySelectorAll(t.parent),s.length>1&&console.warn("WARNING: the given `parent` query("+t.parent+") matched more than one element, the first one will be used"),0===s.length)throw"ERROR: the given `parent` doesn't exists!";s=s[0]}return s.length>1&&s instanceof Element===!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),s=s[0]),s.appendChild(o),o;function a(e,t){t.forEach((function(t){e.classList.add(t)}))}function l(e,t){t.forEach((function(t){e.setAttribute(t.split(":")[0],t.split(":")[1]||"")}))}},n.prototype._getPosition=function(e,t){var n=l(t);if(this._options.forceAbsolute)return"absolute";var r=u(t,n);return r?"fixed":"absolute"},n.prototype._getOffsets=function(e,t,n){n=n.split("-")[0];var o={};o.position=this.state.position;var i="fixed"===o.position,s=m(t,l(e),i),a=r(e);return-1!==["right","left"].indexOf(n)?(o.top=s.top+s.height/2-a.height/2,o.left="left"===n?s.left-a.width:s.right):(o.left=s.left+s.width/2-a.width/2,o.top="top"===n?s.top-a.height:s.bottom),o.width=a.width,o.height=a.height,{popper:o,reference:s}},n.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),e.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var t=c(this._reference);t!==e.document.body&&t!==e.document.documentElement||(t=e),t.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=t}},n.prototype._removeEventListeners=function(){e.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},n.prototype._getBoundaries=function(t,n,r){var o,i,s={};if("window"===r){var a=e.document.body,u=e.document.documentElement;i=Math.max(a.scrollHeight,a.offsetHeight,u.clientHeight,u.scrollHeight,u.offsetHeight),o=Math.max(a.scrollWidth,a.offsetWidth,u.clientWidth,u.scrollWidth,u.offsetWidth),s={top:0,right:o,bottom:i,left:0}}else if("viewport"===r){var d=l(this._popper),p=c(this._popper),f=h(d),m=function(e){return e==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):e.scrollTop},v=function(e){return e==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):e.scrollLeft},g="fixed"===t.offsets.popper.position?0:m(p),y="fixed"===t.offsets.popper.position?0:v(p);s={top:0-(f.top-g),right:e.document.documentElement.clientWidth-(f.left-y),bottom:e.document.documentElement.clientHeight-(f.top-g),left:0-(f.left-y)}}else s=l(this._popper)===r?{top:0,left:0,right:r.clientWidth,bottom:r.clientHeight}:h(r);return s.left+=n,s.right-=n,s.top=s.top+n,s.bottom=s.bottom-n,s},n.prototype.runModifiers=function(e,t,n){var r=t.slice();return void 0!==n&&(r=this._options.modifiers.slice(0,s(this._options.modifiers,n))),r.forEach(function(t){p(t)&&(e=t.call(this,e))}.bind(this)),e},n.prototype.isModifierRequired=function(e,t){var n=s(this._options.modifiers,e);return!!this._options.modifiers.slice(0,n).filter((function(e){return e===t})).length},n.prototype.modifiers={},n.prototype.modifiers.applyStyle=function(e){var t,n={position:e.offsets.popper.position},r=Math.round(e.offsets.popper.left),o=Math.round(e.offsets.popper.top);return this._options.gpuAcceleration&&(t=v("transform"))?(n[t]="translate3d("+r+"px, "+o+"px, 0)",n.top=0,n.left=0):(n.left=r,n.top=o),Object.assign(n,e.styles),d(this._popper,n),this._popper.setAttribute("x-placement",e.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&e.offsets.arrow&&d(e.arrowElement,e.offsets.arrow),e},n.prototype.modifiers.shift=function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets.reference,s=i(e.offsets.popper),a={y:{start:{top:o.top},end:{top:o.top+o.height-s.height}},x:{start:{left:o.left},end:{left:o.left+o.width-s.width}}},l=-1!==["bottom","top"].indexOf(n)?"x":"y";e.offsets.popper=Object.assign(s,a[l][r])}return e},n.prototype.modifiers.preventOverflow=function(e){var t=this._options.preventOverflowOrder,n=i(e.offsets.popper),r={left:function(){var t=n.left;return n.left<e.boundaries.left&&(t=Math.max(n.left,e.boundaries.left)),{left:t}},right:function(){var t=n.left;return n.right>e.boundaries.right&&(t=Math.min(n.left,e.boundaries.right-n.width)),{left:t}},top:function(){var t=n.top;return n.top<e.boundaries.top&&(t=Math.max(n.top,e.boundaries.top)),{top:t}},bottom:function(){var t=n.top;return n.bottom>e.boundaries.bottom&&(t=Math.min(n.top,e.boundaries.bottom-n.height)),{top:t}}};return t.forEach((function(t){e.offsets.popper=Object.assign(n,r[t]())})),e},n.prototype.modifiers.keepTogether=function(e){var t=i(e.offsets.popper),n=e.offsets.reference,r=Math.floor;return t.right<r(n.left)&&(e.offsets.popper.left=r(n.left)-t.width),t.left>r(n.right)&&(e.offsets.popper.left=r(n.right)),t.bottom<r(n.top)&&(e.offsets.popper.top=r(n.top)-t.height),t.top>r(n.bottom)&&(e.offsets.popper.top=r(n.bottom)),e},n.prototype.modifiers.flip=function(e){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),e;if(e.flipped&&e.placement===e._originalPlacement)return e;var t=e.placement.split("-")[0],n=o(t),r=e.placement.split("-")[1]||"",s=[];return s="flip"===this._options.flipBehavior?[t,n]:this._options.flipBehavior,s.forEach(function(a,l){if(t===a&&s.length!==l+1){t=e.placement.split("-")[0],n=o(t);var c=i(e.offsets.popper),u=-1!==["right","bottom"].indexOf(t);(u&&Math.floor(e.offsets.reference[t])>Math.floor(c[n])||!u&&Math.floor(e.offsets.reference[t])<Math.floor(c[n]))&&(e.flipped=!0,e.placement=s[l+1],r&&(e.placement+="-"+r),e.offsets.popper=this._getOffsets(this._popper,this._reference,e.placement).popper,e=this.runModifiers(e,this._options.modifiers,this._flip))}}.bind(this)),e},n.prototype.modifiers.offset=function(e){var t=this._options.offset,n=e.offsets.popper;return-1!==e.placement.indexOf("left")?n.top-=t:-1!==e.placement.indexOf("right")?n.top+=t:-1!==e.placement.indexOf("top")?n.left-=t:-1!==e.placement.indexOf("bottom")&&(n.left+=t),e},n.prototype.modifiers.arrow=function(e){var t=this._options.arrowElement,n=this._options.arrowOffset;if("string"===typeof t&&(t=this._popper.querySelector(t)),!t)return e;if(!this._popper.contains(t))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),e;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),e;var o={},s=e.placement.split("-")[0],a=i(e.offsets.popper),l=e.offsets.reference,c=-1!==["left","right"].indexOf(s),u=c?"height":"width",d=c?"top":"left",p=c?"left":"top",h=c?"bottom":"right",f=r(t)[u];l[h]-f<a[d]&&(e.offsets.popper[d]-=a[d]-(l[h]-f)),l[d]+f>a[h]&&(e.offsets.popper[d]+=l[d]+f-a[h]);var m=l[d]+(n||l[u]/2-f/2),v=m-a[d];return v=Math.max(Math.min(a[u]-f-8,v),8),o[d]=v,o[p]="",e.offsets.arrow=o,e.arrowElement=t,e},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var o=Object.keys(r),i=0,s=o.length;i<s;i++){var a=o[i],l=Object.getOwnPropertyDescriptor(r,a);void 0!==l&&l.enumerable&&(t[a]=r[a])}}}return t}}),n}))},3798:function(e,t,n){"use strict";t.__esModule=!0,t.PopupManager=void 0;var r=n(7203),o=p(r),i=n(5734),s=p(i),a=n(5533),l=p(a),c=n(3010),u=p(c),d=n(3575);function p(e){return e&&e.__esModule?e:{default:e}}var h=1,f=void 0;t["default"]={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+h++,l.default.register(this._popupId,this)},beforeDestroy:function(){l.default.deregister(this._popupId),l.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;if(e){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,o.default.nextTick((function(){t.open()})))}else this.close()}},methods:{open:function(e){var t=this;this.rendered||(this.rendered=!0);var n=(0,s.default)({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(n.openDelay);r>0?this._openTimer=setTimeout((function(){t._openTimer=null,t.doOpen(n)}),r):this.doOpen(n)},doOpen:function(e){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var t=this.$el,n=e.modal,r=e.zIndex;if(r&&(l.default.zIndex=r),n&&(this._closing&&(l.default.closeModal(this._popupId),this._closing=!1),l.default.openModal(this._popupId,l.default.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)){this.withoutHiddenClass=!(0,d.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,d.getStyle)(document.body,"paddingRight"),10)),f=(0,u.default)();var o=document.documentElement.clientHeight<document.body.scrollHeight,i=(0,d.getStyle)(document.body,"overflowY");f>0&&(o||"scroll"===i)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+f+"px"),(0,d.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=l.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var e=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var t=Number(this.closeDelay);t>0?this._closeTimer=setTimeout((function(){e._closeTimer=null,e.doClose()}),t):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){l.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,d.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},t.PopupManager=l.default},5533:function(e,t,n){"use strict";n(7658),t.__esModule=!0;var r=n(7203),o=s(r),i=n(3575);function s(e){return e&&e.__esModule?e:{default:e}}var a=!1,l=!1,c=void 0,u=function(){if(!o.default.prototype.$isServer){var e=p.modalDom;return e?a=!0:(a=!1,e=document.createElement("div"),p.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){p.doOnModalClick&&p.doOnModalClick()}))),e}},d={},p={modalFade:!0,getInstance:function(e){return d[e]},register:function(e,t){e&&t&&(d[e]=t)},deregister:function(e){e&&(d[e]=null,delete d[e])},nextZIndex:function(){return p.zIndex++},modalStack:[],doOnModalClick:function(){var e=p.modalStack[p.modalStack.length-1];if(e){var t=p.getInstance(e.id);t&&t.closeOnClickModal&&t.close()}},openModal:function(e,t,n,r,s){if(!o.default.prototype.$isServer&&e&&void 0!==t){this.modalFade=s;for(var l=this.modalStack,c=0,d=l.length;c<d;c++){var p=l[c];if(p.id===e)return}var h=u();if((0,i.addClass)(h,"v-modal"),this.modalFade&&!a&&(0,i.addClass)(h,"v-modal-enter"),r){var f=r.trim().split(/\s+/);f.forEach((function(e){return(0,i.addClass)(h,e)}))}setTimeout((function(){(0,i.removeClass)(h,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(h):document.body.appendChild(h),t&&(h.style.zIndex=t),h.tabIndex=0,h.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:r})}},closeModal:function(e){var t=this.modalStack,n=u();if(t.length>0){var r=t[t.length-1];if(r.id===e){if(r.modalClass){var o=r.modalClass.trim().split(/\s+/);o.forEach((function(e){return(0,i.removeClass)(n,e)}))}t.pop(),t.length>0&&(n.style.zIndex=t[t.length-1].zIndex)}else for(var s=t.length-1;s>=0;s--)if(t[s].id===e){t.splice(s,1);break}}0===t.length&&(this.modalFade&&(0,i.addClass)(n,"v-modal-leave"),setTimeout((function(){0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",p.modalDom=void 0),(0,i.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(p,"zIndex",{configurable:!0,get:function(){return l||(c=c||(o.default.prototype.$ELEMENT||{}).zIndex||2e3,l=!0),c},set:function(e){c=e}});var h=function(){if(!o.default.prototype.$isServer&&p.modalStack.length>0){var e=p.modalStack[p.modalStack.length-1];if(!e)return;var t=p.getInstance(e.id);return t}};o.default.prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){var t=h();t&&t.closeOnPressEscape&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction("cancel"):t.close())}})),t["default"]=p},3010:function(e,t,n){"use strict";t.__esModule=!0,t["default"]=function(){if(o.default.prototype.$isServer)return 0;if(void 0!==s)return s;var e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),s=t-r,s};var r=n(7203),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}var s=void 0},7603:function(e,t){"use strict";function n(e){return void 0!==e&&null!==e}function r(e){var t=/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi;return t.test(e)}t.__esModule=!0,t.isDef=n,t.isKorean=r},4986:function(e,t,n){"use strict";n(3408),n(4590),t.__esModule=!0,t.isDefined=t.isUndefined=t.isFunction=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isString=a,t.isObject=l,t.isHtmlElement=c;var o=n(7203),i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e){return e&&e.nodeType===Node.ELEMENT_NODE}var u=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)};"object"===("undefined"===typeof Int8Array?"undefined":r(Int8Array))||!i.default.prototype.$isServer&&"function"===typeof document.childNodes||(t.isFunction=u=function(e){return"function"===typeof e||!1}),t.isFunction=u;t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return void 0!==e&&null!==e}},6474:function(e,t,n){"use strict";t.__esModule=!0,t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.noop=c,t.hasOwn=u,t.toObject=p,t.getPropByPath=h,t.rafThrottle=y,t.objToArray=b;var o=n(7203),i=a(o),s=n(4986);function a(e){return e&&e.__esModule?e:{default:e}}var l=Object.prototype.hasOwnProperty;function c(){}function u(e,t){return l.call(e,t)}function d(e,t){for(var n in t)e[n]=t[n];return e}function p(e){for(var t={},n=0;n<e.length;n++)e[n]&&d(t,e[n]);return t}t.getValueByPath=function(e,t){t=t||"";for(var n=t.split("."),r=e,o=null,i=0,s=n.length;i<s;i++){var a=n[i];if(!r)break;if(i===s-1){o=r[a];break}r=r[a]}return o};function h(e,t,n){var r=e;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var o=t.split("."),i=0,s=o.length;i<s-1;++i){if(!r&&!n)break;var a=o[i];if(!(a in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[a]}return{o:r,k:o[i],v:r?r[o[i]]:null}}t.generateId=function(){return Math.floor(1e4*Math.random())},t.valueEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var n=0;n!==e.length;++n)if(e[n]!==t[n])return!1;return!0},t.escapeRegexpString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var f=t.arrayFindIndex=function(e,t){for(var n=0;n!==e.length;++n)if(t(e[n]))return n;return-1},m=(t.arrayFind=function(e,t){var n=f(e,t);return-1!==n?e[n]:void 0},t.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},t.isIE=function(){return!i.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},t.isEdge=function(){return!i.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},t.isFirefox=function(){return!i.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.autoprefixer=function(e){if("object"!==("undefined"===typeof e?"undefined":r(e)))return e;var t=["transform","transition","animation"],n=["ms-","webkit-"];return t.forEach((function(t){var r=e[t];t&&r&&n.forEach((function(n){e[n+t]=r}))})),e},t.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},t.capitalize=function(e){return(0,s.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},t.looseEqual=function(e,t){var n=(0,s.isObject)(e),r=(0,s.isObject)(t);return n&&r?JSON.stringify(e)===JSON.stringify(t):!n&&!r&&String(e)===String(t)}),v=t.arrayEquals=function(e,t){if(e=e||[],t=t||[],e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!m(e[n],t[n]))return!1;return!0},g=(t.isEqual=function(e,t){return Array.isArray(e)&&Array.isArray(t)?v(e,t):m(e,t)},t.isEmpty=function(e){if(null==e)return!0;if("boolean"===typeof e)return!1;if("number"===typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1});function y(e){var t=!1;return function(){for(var n=this,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];t||(t=!0,window.requestAnimationFrame((function(r){e.apply(n,o),t=!1})))}}function b(e){return Array.isArray(e)?e:g(e)?[]:[e]}},4237:function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isVNode=i;var o=n(6474);function i(e){return null!==e&&"object"===("undefined"===typeof e?"undefined":r(e))&&(0,o.hasOwn)(e,"componentOptions")}},170:function(e,t,n){"use strict";t.__esModule=!0;var r=n(7203),o=s(r),i=n(3798);function s(e){return e&&e.__esModule?e:{default:e}}var a=o.default.prototype.$isServer?function(){}:n(1218),l=function(e){return e.stopPropagation()};t["default"]={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(e){this.showPopper=e,this.$emit("input",e)}},showPopper:function(e){this.disabled||(e?this.updatePopper():this.destroyPopper(),this.$emit("input",e))}},methods:{createPopper:function(){var e=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var t=this.popperOptions,n=this.popperElm=this.popperElm||this.popper||this.$refs.popper,r=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!r&&this.$slots.reference&&this.$slots.reference[0]&&(r=this.referenceElm=this.$slots.reference[0].elm),n&&r&&(this.visibleArrow&&this.appendArrow(n),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),t.placement=this.currentPlacement,t.offset=this.offset,t.arrowOffset=this.arrowOffset,this.popperJS=new a(r,n,t),this.popperJS.onCreate((function(t){e.$emit("created",e),e.resetTransformOrigin(),e.$nextTick(e.updatePopper)})),"function"===typeof t.onUpdate&&this.popperJS.onUpdate(t.onUpdate),this.popperJS._popper.style.zIndex=i.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",l))}},updatePopper:function(){var e=this.popperJS;e?(e.update(),e._popper&&(e._popper.style.zIndex=i.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(e){!this.popperJS||this.showPopper&&!e||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var e={top:"bottom",bottom:"top",left:"right",right:"left"},t=this.popperJS._popper.getAttribute("x-placement").split("-")[0],n=e[t];this.popperJS._popper.style.transformOrigin="string"===typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(t)>-1?"center "+n:n+" center"}},appendArrow:function(e){var t=void 0;if(!this.appended){for(var n in this.appended=!0,e.attributes)if(/^_v-/.test(e.attributes[n].name)){t=e.attributes[n].name;break}var r=document.createElement("div");t&&r.setAttribute(t,""),r.setAttribute("x-arrow",""),r.className="popper__arrow",e.appendChild(r)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",l),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},154:function(e,t,n){"use strict";var r=n(5763),o=i(Error);function i(e){return t.displayName=e.displayName||e.name,t;function t(t){return t&&(t=r.apply(null,arguments)),new e(t)}}e.exports=o,o.eval=i(EvalError),o.range=i(RangeError),o.reference=i(ReferenceError),o.syntax=i(SyntaxError),o.type=i(TypeError),o.uri=i(URIError),o.create=i},5763:function(e){(function(){var t;function n(){console.log(o.apply(null,arguments))}function r(e,t){return o.apply(null,[e].concat(t))}function o(e){for(var t,n,r,o,i=1,s=[].slice.call(arguments),a=0,l=e.length,c="",u=!1,d=!1,p=function(){return s[i++]},h=function(){var n="";while(/\d/.test(e[a]))n+=e[a++],t=e[a];return n.length>0?parseInt(n):null};a<l;++a)if(t=e[a],u)switch(u=!1,"."==t?(d=!1,t=e[++a]):"0"==t&&"."==e[a+1]?(d=!0,a+=2,t=e[a]):d=!0,o=h(),t){case"b":c+=parseInt(p(),10).toString(2);break;case"c":n=p(),c+="string"===typeof n||n instanceof String?n:String.fromCharCode(parseInt(n,10));break;case"d":c+=parseInt(p(),10);break;case"f":r=String(parseFloat(p()).toFixed(o||6)),c+=d?r:r.replace(/^0/,"");break;case"j":c+=JSON.stringify(p());break;case"o":c+="0"+parseInt(p(),10).toString(8);break;case"s":c+=p();break;case"x":c+="0x"+parseInt(p(),10).toString(16);break;case"X":c+="0x"+parseInt(p(),10).toString(16).toUpperCase();break;default:c+=t;break}else"%"===t?u=!0:c+=t;return c}t=e.exports=o,t.format=o,t.vsprintf=r,"undefined"!==typeof console&&"function"===typeof console.log&&(t.printf=n)})()},5089:function(e,t,n){function r(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];"object"!=typeof n||Object.isFrozen(n)||r(n)})),e}n(7658),n(541);var o=r,i=r;o.default=i;class s{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function a(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function l(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const c="</span>",u=e=>!!e.kind;class d{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=a(e)}openNode(e){if(!u(e))return;let t=e.kind;e.sublanguage||(t=`${this.classPrefix}${t}`),this.span(t)}closeNode(e){u(e)&&(this.buffer+=c)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class p{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t={kind:e,children:[]};this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){while(this.closeNode());}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"===typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!==typeof e&&e.children&&(e.children.every((e=>"string"===typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{p._collapse(e)})))}}class h extends p{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.kind=t,n.sublanguage=!0,this.add(n)}toHTML(){const e=new d(this,this.options);return e.value()}finalize(){return!0}}function f(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function m(e){return e?"string"===typeof e?e:e.source:null}function v(...e){const t=e.map((e=>m(e))).join("");return t}function g(...e){const t="("+e.map((e=>m(e))).join("|")+")";return t}function y(e){return new RegExp(e.toString()+"|").exec("").length-1}function b(e,t){const n=e&&e.exec(t);return n&&0===n.index}const w=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function k(e,t="|"){let n=0;return e.map((e=>{n+=1;const t=n;let r=m(e),o="";while(r.length>0){const e=w.exec(r);if(!e){o+=r;break}o+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?o+="\\"+String(Number(e[1])+t):(o+=e[0],"("===e[0]&&n++)}return o})).map((e=>`(${e})`)).join(t)}const x=/\b\B/,S="[a-zA-Z]\\w*",C="[a-zA-Z_]\\w*",_="\\b\\d+(\\.\\d+)?",O="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",M="\\b(0b[01]+)",E="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",T=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=v(t,/.*\b/,e.binary,/\b.*/)),l({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},A={begin:"\\\\[\\s\\S]",relevance:0},N={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[A]},D={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[A]},R={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},I=function(e,t,n={}){const r=l({className:"comment",begin:e,end:t,contains:[]},n);return r.contains.push(R),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},P=I("//","$"),z=I("/\\*","\\*/"),$=I("#","$"),j={className:"number",begin:_,relevance:0},F={className:"number",begin:O,relevance:0},B={className:"number",begin:M,relevance:0},L={className:"number",begin:_+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},V={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[A,{begin:/\[/,end:/\]/,relevance:0,contains:[A]}]}]},q={className:"title",begin:S,relevance:0},H={className:"title",begin:C,relevance:0},W={begin:"\\.\\s*"+C,relevance:0},U=function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})};var J=Object.freeze({__proto__:null,MATCH_NOTHING_RE:x,IDENT_RE:S,UNDERSCORE_IDENT_RE:C,NUMBER_RE:_,C_NUMBER_RE:O,BINARY_NUMBER_RE:M,RE_STARTERS_RE:E,SHEBANG:T,BACKSLASH_ESCAPE:A,APOS_STRING_MODE:N,QUOTE_STRING_MODE:D,PHRASAL_WORDS_MODE:R,COMMENT:I,C_LINE_COMMENT_MODE:P,C_BLOCK_COMMENT_MODE:z,HASH_COMMENT_MODE:$,NUMBER_MODE:j,C_NUMBER_MODE:F,BINARY_NUMBER_MODE:B,CSS_NUMBER_MODE:L,REGEXP_MODE:V,TITLE_MODE:q,UNDERSCORE_TITLE_MODE:H,METHOD_GUARD:W,END_SAME_AS_BEGIN:U});function K(e,t){const n=e.input[e.index-1];"."===n&&t.ignoreMatch()}function G(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=K,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function X(e,t){Array.isArray(e.illegal)&&(e.illegal=g(...e.illegal))}function Z(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Y(e,t){void 0===e.relevance&&(e.relevance=1)}const Q=["of","and","for","in","not","or","if","then","parent","list","value"],ee="keyword";function te(e,t,n=ee){const r={};return"string"===typeof e?o(n,e.split(" ")):Array.isArray(e)?o(n,e):Object.keys(e).forEach((function(n){Object.assign(r,te(e[n],t,n))})),r;function o(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,ne(n[0],n[1])]}))}}function ne(e,t){return t?Number(t):re(e)?0:1}function re(e){return Q.includes(e.toLowerCase())}function oe(e,{plugins:t}){function n(t,n){return new RegExp(m(t),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=y(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=n(k(e),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new r;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}function i(e){const t=new o;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}function s(t,r){const o=t;if(t.isCompiled)return o;[Z].forEach((e=>e(t,r))),e.compilerExtensions.forEach((e=>e(t,r))),t.__beforeBegin=null,[G,X,Y].forEach((e=>e(t,r))),t.isCompiled=!0;let a=null;if("object"===typeof t.keywords&&(a=t.keywords.$pattern,delete t.keywords.$pattern),t.keywords&&(t.keywords=te(t.keywords,e.case_insensitive)),t.lexemes&&a)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return a=a||t.lexemes||/\w+/,o.keywordPatternRe=n(a,!0),r&&(t.begin||(t.begin=/\B|\b/),o.beginRe=n(t.begin),t.endSameAsBegin&&(t.end=t.begin),t.end||t.endsWithParent||(t.end=/\B|\b/),t.end&&(o.endRe=n(t.end)),o.terminatorEnd=m(t.end)||"",t.endsWithParent&&r.terminatorEnd&&(o.terminatorEnd+=(t.end?"|":"")+r.terminatorEnd)),t.illegal&&(o.illegalRe=n(t.illegal)),t.contains||(t.contains=[]),t.contains=[].concat(...t.contains.map((function(e){return se("self"===e?t:e)}))),t.contains.forEach((function(e){s(e,o)})),t.starts&&s(t.starts,r),o.matcher=i(o),o}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=l(e.classNameAliases||{}),s(e)}function ie(e){return!!e&&(e.endsWithParent||ie(e.starts))}function se(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return l(e,{variants:null},t)}))),e.cachedVariants?e.cachedVariants:ie(e)?l(e,{starts:e.starts?l(e.starts):null}):Object.isFrozen(e)?l(e):e}var ae="10.7.3";function le(e){return Boolean(e||""===e)}function ce(e){const t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,a(this.code);let t={};return this.autoDetect?(t=e.highlightAuto(this.code),this.detectedLanguage=t.language):(t=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),t.value},autoDetect(){return!this.language||le(this.autodetect)},ignoreIllegals(){return!0}},render(e){return e("pre",{},[e("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}},n={install(e){e.component("highlightjs",t)}};return{Component:t,VuePlugin:n}}const ue={"after:highlightElement":({el:e,result:t,text:n})=>{const r=pe(e);if(!r.length)return;const o=document.createElement("div");o.innerHTML=t.value,t.value=he(r,pe(o),n)}};function de(e){return e.nodeName.toLowerCase()}function pe(e){const t=[];return function e(n,r){for(let o=n.firstChild;o;o=o.nextSibling)3===o.nodeType?r+=o.nodeValue.length:1===o.nodeType&&(t.push({event:"start",offset:r,node:o}),r=e(o,r),de(o).match(/br|hr|img|input/)||t.push({event:"stop",offset:r,node:o}));return r}(e,0),t}function he(e,t,n){let r=0,o="";const i=[];function s(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function l(e){function t(e){return" "+e.nodeName+'="'+a(e.value)+'"'}o+="<"+de(e)+[].map.call(e.attributes,t).join("")+">"}function c(e){o+="</"+de(e)+">"}function u(e){("start"===e.event?l:c)(e.node)}while(e.length||t.length){let t=s();if(o+=a(n.substring(r,t[0].offset)),r=t[0].offset,t===e){i.reverse().forEach(c);do{u(t.splice(0,1)[0]),t=s()}while(t===e&&t.length&&t[0].offset===r);i.reverse().forEach(l)}else"start"===t[0].event?i.push(t[0].node):i.pop(),u(t.splice(0,1)[0])}return o+a(n.substr(r))}const fe={},me=e=>{console.error(e)},ve=(e,...t)=>{console.log(`WARN: ${e}`,...t)},ge=(e,t)=>{fe[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),fe[`${e}/${t}`]=!0)},ye=a,be=l,we=Symbol("nomatch"),ke=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const a=/(^(<[^>]+>|\t|)+|\n)/gm,l="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let u={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:h};function d(e){return u.noHighlightRe.test(e)}function p(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=u.languageDetectRe.exec(t);if(n){const t=z(n[1]);return t||(ve(l.replace("{}",n[1])),ve("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>d(e)||z(e)))}function m(e,t,n,r){let o="",i="";"object"===typeof t?(o=e,n=t.ignoreIllegals,i=t.language,r=void 0):(ge("10.7.0","highlight(lang, code, ...args) has been deprecated."),ge("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=e,o=t);const s={code:o,language:i};L("before:highlight",s);const a=s.result?s.result:v(s.language,s.code,n,r);return a.code=s.code,L("after:highlight",a),a}function v(e,n,o,a){function c(e,t){const n=O.case_insensitive?t[0].toLowerCase():t[0];return Object.prototype.hasOwnProperty.call(e.keywords,n)&&e.keywords[n]}function d(){if(!T.keywords)return void N.addText(D);let e=0;T.keywordPatternRe.lastIndex=0;let t=T.keywordPatternRe.exec(D),n="";while(t){n+=D.substring(e,t.index);const r=c(T,t);if(r){const[e,o]=r;if(N.addText(n),n="",R+=o,e.startsWith("_"))n+=t[0];else{const n=O.classNameAliases[e]||e;N.addKeyword(t[0],n)}}else n+=t[0];e=T.keywordPatternRe.lastIndex,t=T.keywordPatternRe.exec(D)}n+=D.substr(e),N.addText(n)}function p(){if(""===D)return;let e=null;if("string"===typeof T.subLanguage){if(!t[T.subLanguage])return void N.addText(D);e=v(T.subLanguage,D,!0,A[T.subLanguage]),A[T.subLanguage]=e.top}else e=y(D,T.subLanguage.length?T.subLanguage:null);T.relevance>0&&(R+=e.relevance),N.addSublanguage(e.emitter,e.language)}function h(){null!=T.subLanguage?p():d(),D=""}function m(e){return e.className&&N.openNode(O.classNameAliases[e.className]||e.className),T=Object.create(e,{parent:{value:T}}),T}function g(e,t,n){let r=b(e.endRe,n);if(r){if(e["on:end"]){const n=new s(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){while(e.endsParent&&e.parent)e=e.parent;return e}}if(e.endsWithParent)return g(e.parent,t,n)}function w(e){return 0===T.matcher.regexIndex?(D+=e[0],1):($=!0,0)}function k(e){const t=e[0],n=e.rule,r=new s(n),o=[n.__beforeBegin,n["on:begin"]];for(const i of o)if(i&&(i(e,r),r.isMatchIgnored))return w(t);return n&&n.endSameAsBegin&&(n.endRe=f(t)),n.skip?D+=t:(n.excludeBegin&&(D+=t),h(),n.returnBegin||n.excludeBegin||(D=t)),m(n),n.returnBegin?0:t.length}function x(e){const t=e[0],r=n.substr(e.index),o=g(T,e,r);if(!o)return we;const i=T;i.skip?D+=t:(i.returnEnd||i.excludeEnd||(D+=t),h(),i.excludeEnd&&(D=t));do{T.className&&N.closeNode(),T.skip||T.subLanguage||(R+=T.relevance),T=T.parent}while(T!==o.parent);return o.starts&&(o.endSameAsBegin&&(o.starts.endRe=o.endRe),m(o.starts)),i.returnEnd?0:t.length}function S(){const e=[];for(let t=T;t!==O;t=t.parent)t.className&&e.unshift(t.className);e.forEach((e=>N.openNode(e)))}let C={};function _(t,r){const s=r&&r[0];if(D+=t,null==s)return h(),0;if("begin"===C.type&&"end"===r.type&&C.index===r.index&&""===s){if(D+=n.slice(r.index,r.index+1),!i){const t=new Error("0 width match regex");throw t.languageName=e,t.badRule=C.rule,t}return 1}if(C=r,"begin"===r.type)return k(r);if("illegal"===r.type&&!o){const e=new Error('Illegal lexeme "'+s+'" for mode "'+(T.className||"<unnamed>")+'"');throw e.mode=T,e}if("end"===r.type){const e=x(r);if(e!==we)return e}if("illegal"===r.type&&""===s)return 1;if(P>1e5&&P>3*r.index){const e=new Error("potential infinite loop, way more iterations than matches");throw e}return D+=s,s.length}const O=z(e);if(!O)throw me(l.replace("{}",e)),new Error('Unknown language: "'+e+'"');const M=oe(O,{plugins:r});let E="",T=a||M;const A={},N=new u.__emitter(u);S();let D="",R=0,I=0,P=0,$=!1;try{for(T.matcher.considerAll();;){P++,$?$=!1:T.matcher.considerAll(),T.matcher.lastIndex=I;const e=T.matcher.exec(n);if(!e)break;const t=n.substring(I,e.index),r=_(t,e);I=e.index+r}return _(n.substr(I)),N.closeAllNodes(),N.finalize(),E=N.toHTML(),{relevance:Math.floor(R),value:E,language:e,illegal:!1,emitter:N,top:T}}catch(j){if(j.message&&j.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:j.message,context:n.slice(I-100,I+100),mode:j.mode},sofar:E,relevance:0,value:ye(n),emitter:N};if(i)return{illegal:!1,relevance:0,value:ye(n),emitter:N,language:e,top:T,errorRaised:j};throw j}}function g(e){const t={relevance:0,emitter:new u.__emitter(u),value:ye(e),illegal:!1,top:c};return t.emitter.addText(e),t}function y(e,n){n=n||u.languages||Object.keys(t);const r=g(e),o=n.filter(z).filter(j).map((t=>v(t,e,!1)));o.unshift(r);const i=o.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(z(e.language).supersetOf===t.language)return 1;if(z(t.language).supersetOf===e.language)return-1}return 0})),[s,a]=i,l=s;return l.second_best=a,l}function w(e){return u.tabReplace||u.useBR?e.replace(a,(e=>"\n"===e?u.useBR?"<br>":e:u.tabReplace?e.replace(/\t/g,u.tabReplace):e)):e}function k(e,t,r){const o=t?n[t]:r;e.classList.add("hljs"),o&&e.classList.add(o)}const x={"before:highlightElement":({el:e})=>{u.useBR&&(e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":({result:e})=>{u.useBR&&(e.value=e.value.replace(/\n/g,"<br>"))}},S=/^(<[^>]+>|\t)+/gm,C={"after:highlightElement":({result:e})=>{u.tabReplace&&(e.value=e.value.replace(S,(e=>e.replace(/\t/g,u.tabReplace))))}};function _(e){let t=null;const n=p(e);if(d(n))return;L("before:highlightElement",{el:e,language:n}),t=e;const r=t.textContent,o=n?m(r,{language:n,ignoreIllegals:!0}):y(r);L("after:highlightElement",{el:e,result:o,text:r}),e.innerHTML=o.value,k(e,n,o.language),e.result={language:o.language,re:o.relevance,relavance:o.relevance},o.second_best&&(e.second_best={language:o.second_best.language,re:o.second_best.relevance,relavance:o.second_best.relevance})}function O(e){e.useBR&&(ge("10.3.0","'useBR' will be removed entirely in v11.0"),ge("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),u=be(u,e)}const M=()=>{if(M.called)return;M.called=!0,ge("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead.");const e=document.querySelectorAll("pre code");e.forEach(_)};function E(){ge("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),T=!0}let T=!1;function A(){if("loading"===document.readyState)return void(T=!0);const e=document.querySelectorAll("pre code");e.forEach(_)}function N(){T&&A()}function D(n,r){let o=null;try{o=r(e)}catch(s){if(me("Language definition for '{}' could not be registered.".replace("{}",n)),!i)throw s;me(s),o=c}o.name||(o.name=n),t[n]=o,o.rawDefinition=r.bind(null,e),o.aliases&&$(o.aliases,{languageName:n})}function R(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]}function I(){return Object.keys(t)}function P(e){ge("10.4.0","requireLanguage will be removed entirely in v11."),ge("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const t=z(e);if(t)return t;const n=new Error("The '{}' language is required, but not loaded.".replace("{}",e));throw n}function z(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function $(e,{languageName:t}){"string"===typeof e&&(e=[e]),e.forEach((e=>{n[e.toLowerCase()]=t}))}function j(e){const t=z(e);return t&&!t.disableAutodetect}function F(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}function B(e){F(e),r.push(e)}function L(e,t){const n=e;r.forEach((function(e){e[n]&&e[n](t)}))}function V(e){return ge("10.2.0","fixMarkup will be removed entirely in v11.0"),ge("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),w(e)}function q(e){return ge("10.7.0","highlightBlock will be removed entirely in v12.0"),ge("10.7.0","Please use highlightElement now."),_(e)}"undefined"!==typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",N,!1),Object.assign(e,{highlight:m,highlightAuto:y,highlightAll:A,fixMarkup:V,highlightElement:_,highlightBlock:q,configure:O,initHighlighting:M,initHighlightingOnLoad:E,registerLanguage:D,unregisterLanguage:R,listLanguages:I,getLanguage:z,registerAliases:$,requireLanguage:P,autoDetection:j,inherit:be,addPlugin:B,vuePlugin:ce(e).VuePlugin}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=ae;for(const s in J)"object"===typeof J[s]&&o(J[s]);return Object.assign(e,J),e.addPlugin(x),e.addPlugin(ue),e.addPlugin(C),e};var xe=ke({});e.exports=xe},3413:function(e,t,n){"use strict";n(7658);var r=n(5089),o=n(154);d.prototype.addText=f,d.prototype.addKeyword=p,d.prototype.addSublanguage=h,d.prototype.openNode=m,d.prototype.closeNode=v,d.prototype.closeAllNodes=y,d.prototype.finalize=y,d.prototype.toHTML=g;var i="hljs-";function s(e,t,n){var s,a=r.configure({}),l=n||{},c=l.prefix;if("string"!==typeof e)throw o("Expected `string` for name, got `%s`",e);if(!r.getLanguage(e))throw o("Unknown language: `%s` is not registered",e);if("string"!==typeof t)throw o("Expected `string` for value, got `%s`",t);if(null!==c&&void 0!==c||i,r.configure({__emitter:d,classPrefix:c}),r.highlight(t,{language:e,ignoreIllegals:!0}),r.configure(a||{}),s.errorRaised)throw s.errorRaised;return{relevance:s.relevance,language:s.language,value:s.emitter.rootNode.children}}function a(e,t){var n,a,l,c,u=t||{},d=u.subset||r.listLanguages(),p=u.prefix,h=d.length,f=-1;if(null!==p&&void 0!==p||i,"string"!==typeof e)throw o("Expected `string` for value, got `%s`",e);({relevance:0,language:null,value:[]}),{relevance:0,language:null,value:[]};while(++f<h)d[f],r.getLanguage(c)&&(s(c,e,t),l.language=c,l.relevance>a.relevance&&l,l.relevance>n.relevance&&(n,l));return a.language&&(n.secondBest=a),n}function l(e,t){r.registerLanguage(e,t)}function c(){return r.listLanguages()}function u(e,t){var n,o=e;for(n in t&&({},o[e]=t),o)r.registerAliases(o[n],{languageName:n})}function d(e){this.options=e,this.rootNode={children:[]},this.stack=[this.rootNode]}function p(e,t){this.openNode(t),this.addText(e),this.closeNode()}function h(e,t){var n=this.stack,r=n[n.length-1],o=e.rootNode.children,i=t?{type:"element",tagName:"span",properties:{className:[t]},children:o}:o;r.children=r.children.concat(i)}function f(e){var t,n,r=this.stack;""!==e&&(t=r[r.length-1],n=t.children[t.children.length-1],n&&"text"===n.type?n.value+=e:t.children.push({type:"text",value:e}))}function m(e){var t=this.stack,n=this.options.classPrefix+e,r=t[t.length-1],o={type:"element",tagName:"span",properties:{className:[n]},children:[]};r.children.push(o),t.push(o)}function v(){this.stack.pop()}function g(){return""}function y(){}},8784:function(e,t,n){"use strict";n(7658),n(541),Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=n(2391),s=n(9222),a=n(9443),l=n(2843),c=n(7354);if("undefined"!=typeof WeakMap){var u=new WeakMap;r=function(e){return u.get(e)},o=function(e,t){return u.set(e,t),t}}else{var d=[],p=10,h=0;r=function(e){for(var t=0;t<d.length;t+=2)if(d[t]==e)return d[t+1]},o=function(e,t){return h==p&&(h=0),d[h++]=e,d[h++]=t}}var f=function(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r},m=function(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r};function v(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=g(e),n=e.childCount,r=[],o=0,i=null,s=[],a=0,l=t*n;a<l;a++)r[a]=0;for(var c=0,u=0;c<n;c++){var d=e.child(c);u++;for(var p=0;;p++){while(o<r.length&&0!=r[o])o++;if(p==d.childCount)break;for(var h=d.child(p),f=h.attrs,v=f.colspan,b=f.rowspan,w=f.colwidth,k=0;k<b;k++){if(k+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:b-k});break}for(var x=o+k*t,S=0;S<v;S++){0==r[x+S]?r[x+S]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:v-S});var C=w&&w[S];if(C){var _=(x+S)%t*2,O=s[_];null==O||O!=C&&1==s[_+1]?(s[_]=C,s[_+1]=1):O==C&&s[_+1]++}}}o+=v,u+=h.nodeSize}var M=(c+1)*t,E=0;while(o<M)0==r[o++]&&E++;E&&(i||(i=[])).push({type:"missing",row:c,n:E}),u++}for(var T=new m(t,n,r,i),A=!1,N=0;!A&&N<s.length;N+=2)null!=s[N]&&s[N+1]<n&&(A=!0);return A&&y(T,s,e),T}function g(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var o=e.child(r),i=0;if(n)for(var s=0;s<r;s++)for(var a=e.child(s),l=0;l<a.childCount;l++){var c=a.child(l);s+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}for(var u=0;u<o.childCount;u++){var d=o.child(u);i+=d.attrs.colspan,d.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}function y(e,t,n){e.problems||(e.problems=[]);for(var r=0,o={};r<e.map.length;r++){var i=e.map[r];if(!o[i]){o[i]=!0;for(var s=n.nodeAt(i),a=null,l=0;l<s.attrs.colspan;l++){var c=(r+l)%e.width,u=t[2*c];null==u||s.attrs.colwidth&&s.attrs.colwidth[l]==u||((a||(a=b(s.attrs)))[l]=u)}a&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:a})}}}function b(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}m.prototype.findCell=function(e){for(var t=this,n=0;n<this.map.length;n++){var r=t.map[n];if(r==e){for(var o=n%t.width,i=n/t.width|0,s=o+1,a=i+1,l=1;s<this.width&&this.map[n+l]==r;l++)s++;for(var c=1;a<this.height&&this.map[n+this.width*c]==r;c++)a++;return new f(o,i,s,a)}}throw new RangeError("No cell with offset "+e+" found")},m.prototype.colCount=function(e){for(var t=this,n=0;n<this.map.length;n++)if(t.map[n]==e)return n%t.width;throw new RangeError("No cell with offset "+e+" found")},m.prototype.nextCell=function(e,t,n){var r=this.findCell(e),o=r.left,i=r.right,s=r.top,a=r.bottom;return"horiz"==t?(n<0?0==o:i==this.width)?null:this.map[s*this.width+(n<0?o-1:i)]:(n<0?0==s:a==this.height)?null:this.map[o+this.width*(n<0?s-1:a)]},m.prototype.rectBetween=function(e,t){var n=this.findCell(e),r=n.left,o=n.right,i=n.top,s=n.bottom,a=this.findCell(t),l=a.left,c=a.right,u=a.top,d=a.bottom;return new f(Math.min(r,l),Math.min(i,u),Math.max(o,c),Math.max(s,d))},m.prototype.cellsInRect=function(e){for(var t=this,n=[],r={},o=e.top;o<e.bottom;o++)for(var i=e.left;i<e.right;i++){var s=o*t.width+i,a=t.map[s];r[a]||(r[a]=!0,i==e.left&&i&&t.map[s-1]==a||o==e.top&&o&&t.map[s-t.width]==a||n.push(a))}return n},m.prototype.positionAt=function(e,t,n){for(var r=this,o=0,i=0;;o++){var s=i+n.child(o).nodeSize;if(o==e){var a=t+e*r.width,l=(e+1)*r.width;while(a<l&&this.map[a]<i)a++;return a==l?s-1:r.map[a]}i=s}},m.get=function(e){return r(e)||o(e,v(e))};var w=new i.PluginKey("selectingCells");function k(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function x(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}function S(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function C(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:k(t.$head)||_(t.$head)}function _(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(var o=e.nodeBefore,i=e.pos;o;o=o.lastChild,i--){var s=o.type.spec.tableRole;if("cell"==s||"header_cell"==s)return e.doc.resolve(i-o.nodeSize)}}function O(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function M(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function E(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function T(e){return m.get(e.node(-1)).findCell(e.pos-e.start(-1))}function A(e){return m.get(e.node(-1)).colCount(e.pos-e.start(-1))}function N(e,t,n){var r=e.start(-1),o=m.get(e.node(-1)),i=o.nextCell(e.pos-r,t,n);return null==i?null:e.node(0).resolve(r+i)}function D(e,t,n){var r={};for(var o in e)r[o]=e[o];return r[t]=n,r}function R(e,t,n){void 0===n&&(n=1);var r=D(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((function(e){return e>0}))||(r.colwidth=null)),r}function I(e,t,n){void 0===n&&(n=1);var r=D(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}var P=function(e){function t(t,n){void 0===n&&(n=t);var r=t.node(-1),o=m.get(r),s=t.start(-1),a=o.rectBetween(t.pos-s,n.pos-s),l=t.node(0),c=o.cellsInRect(a).filter((function(e){return e!=n.pos-s}));c.unshift(n.pos-s);var u=c.map((function(e){var t=r.nodeAt(e),n=e+s+1;return new i.SelectionRange(l.resolve(n),l.resolve(n+t.content.size))}));e.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(O(r)&&O(o)&&E(r,o)){var s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?t.rowSelection(r,o):s&&this.isColSelection()?t.colSelection(r,o):new t(r,o)}return i.TextSelection.between(r,o)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=m.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],s=r.top;s<r.bottom;s++){for(var l=[],c=s*t.width+r.left,u=r.left;u<r.right;u++,c++){var d=t.map[c];if(!o[d]){o[d]=!0;var p=t.findCell(d),h=e.nodeAt(d),f=r.left-p.left,v=p.right-r.right;if(f>0||v>0){var g=h.attrs;f>0&&(g=R(g,0,f)),v>0&&(g=R(g,g.colspan-v,v)),h=p.left<r.left?h.type.createAndFill(g):h.type.create(g,h.content)}if(p.top<r.top||p.bottom>r.bottom){var y=D(h.attrs,"rowspan",Math.min(p.bottom,r.bottom)-Math.max(p.top,r.top));h=p.top<r.top?h.type.createAndFill(y):h.type.create(y,h.content)}l.push(h)}}i.push(e.child(s).copy(a.Fragment.from(l)))}var b=this.isColSelection()&&this.isRowSelection()?e:i;return new a.Slice(a.Fragment.from(b),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=a.Slice.empty);for(var r=t.steps.length,o=this.ranges,i=0;i<o.length;i++){var s=o[i],l=s.$from,c=s.$to,u=t.mapping.slice(r);t.replace(u.map(l.pos),u.map(c.pos),i?a.Slice.empty:n)}var d=e.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);d&&t.setSelection(d)},t.prototype.replaceWith=function(e,t){this.replace(e,new a.Slice(a.Fragment.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=m.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var r=m.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),s=r.findCell(n.pos-o),a=e.node(0);return i.top<=s.top?(i.top>0&&(e=a.resolve(o+r.map[i.left])),s.bottom<r.height&&(n=a.resolve(o+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(o+r.map[s.left])),i.bottom<r.height&&(e=a.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=m.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var r=m.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),s=r.findCell(n.pos-o),a=e.node(0);return i.left<=s.left?(i.left>0&&(e=a.resolve(o+r.map[i.top*r.width])),s.right<r.width&&(n=a.resolve(o+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(o+r.map[s.top*r.width])),i.right<r.width&&(e=a.resolve(o+r.map[r.width*(i.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,r){return void 0===r&&(r=n),new t(e.resolve(n),e.resolve(r))},t.prototype.getBookmark=function(){return new z(this.$anchorCell.pos,this.$headCell.pos)},t}(i.Selection);P.prototype.visible=!1,i.Selection.jsonID("cell",P);var z=function(e,t){this.anchor=e,this.head=t};function $(e){if(!(e.selection instanceof P))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(s.Decoration.node(n,n+e.nodeSize,{class:"selectedCell"}))})),s.DecorationSet.create(e.doc,t)}function j(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,o=n.pos,i=t.depth;i>=0;i--,r++)if(t.after(i+1)<t.end(i))break;for(var s=n.depth;s>=0;s--,o--)if(n.before(s+1)>n.start(s))break;return r==o&&/row|table/.test(t.node(i).type.spec.tableRole)}function F(e){for(var t,n,r=e.$from,o=e.$to,i=r.depth;i>0;i--){var s=r.node(i);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){t=s;break}}for(var a=o.depth;a>0;a--){var l=o.node(a);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return t!==n&&0===o.parentOffset}function B(e,t,n){var r,o,s=(t||e).selection,a=(t||e).doc;if(s instanceof i.NodeSelection&&(o=s.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=P.create(a,s.from);else if("row"==o){var l=a.resolve(s.from+1);r=P.rowSelection(l,l)}else if(!n){var c=m.get(s.node),u=s.from+1,d=u+c.map[c.width*c.height-1];r=P.create(a,u+1,d)}}else s instanceof i.TextSelection&&j(s)?r=i.TextSelection.create(a,s.from):s instanceof i.TextSelection&&F(s)&&(r=i.TextSelection.create(a,s.$from.start(),s.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}function L(e,t){var n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(var s in t){var a=t[s].getFromDOM,l=a&&a(e);null!=l&&(i[s]=l)}return i}function V(e,t){var n={};for(var r in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function q(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return L(e,t)}}],toDOM:function(e){return["td",V(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return L(e,t)}}],toDOM:function(e){return["th",V(e,t),0]}}}}function H(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}return t}function W(e){if(!e.size)return null;var t=e.content,n=e.openStart,r=e.openEnd;while(1==t.childCount&&(n>0&&r>0||"table"==t.firstChild.type.spec.tableRole))n--,r--,t=t.firstChild.content;var o=t.firstChild,i=o.type.spec.tableRole,s=o.type.schema,l=[];if("row"==i)for(var c=0;c<t.childCount;c++){var u=t.child(c).content,d=c?0:Math.max(0,n-1),p=c<t.childCount-1?0:Math.max(0,r-1);(d||p)&&(u=J(H(s).row,new a.Slice(u,d,p)).content),l.push(u)}else{if("cell"!=i&&"header_cell"!=i)return null;l.push(n||r?J(H(s).row,new a.Slice(t,n,r)).content:t)}return U(s,l)}function U(e,t){for(var n=[],r=0;r<t.length;r++)for(var o=t[r],i=o.childCount-1;i>=0;i--)for(var s=o.child(i).attrs,l=s.rowspan,c=s.colspan,u=r;u<r+l;u++)n[u]=(n[u]||0)+c;for(var d=0,p=0;p<n.length;p++)d=Math.max(d,n[p]);for(var h=0;h<n.length;h++)if(h>=t.length&&t.push(a.Fragment.empty),n[h]<d){for(var f=H(e).cell.createAndFill(),m=[],v=n[h];v<d;v++)m.push(f);t[h]=t[h].append(a.Fragment.from(m))}return{height:t.length,width:d,rows:t}}function J(e,t){var n=e.createAndFill(),r=new l.Transform(n).replace(0,n.content.size,t);return r.doc}function K(e,t,n){var r=e.width,o=e.height,i=e.rows;if(r!=t){for(var s=[],l=[],c=0;c<i.length;c++){for(var u=i[c],d=[],p=s[c]||0,h=0;p<t;h++){var f=u.child(h%u.childCount);p+f.attrs.colspan>t&&(f=f.type.create(R(f.attrs,f.attrs.colspan,p+f.attrs.colspan-t),f.content)),d.push(f),p+=f.attrs.colspan;for(var m=1;m<f.attrs.rowspan;m++)s[c+m]=(s[c+m]||0)+f.attrs.colspan}l.push(a.Fragment.from(d))}i=l,r=t}if(o!=n){for(var v=[],g=0,y=0;g<n;g++,y++){for(var b=[],w=i[y%o],k=0;k<w.childCount;k++){var x=w.child(k);g+x.attrs.rowspan>n&&(x=x.type.create(D(x.attrs,"rowspan",n-x.attrs.rowspan),x.content)),b.push(x)}v.push(a.Fragment.from(b))}i=v,o=n}return{width:r,height:o,rows:i}}function G(e,t,n,r,o,i,s){var l,c,u=e.doc.type.schema,d=H(u);if(o>t.width)for(var p=0,h=0;p<t.height;p++){var f=n.child(p);h+=f.nodeSize;var m=[],v=void 0;v=null==f.lastChild||f.lastChild.type==d.cell?l||(l=d.cell.createAndFill()):c||(c=d.header_cell.createAndFill());for(var g=t.width;g<o;g++)m.push(v);e.insert(e.mapping.slice(s).map(h-1+r),m)}if(i>t.height){for(var y=[],b=0,w=(t.height-1)*t.width;b<Math.max(t.width,o);b++){var k=!(b>=t.width)&&n.nodeAt(t.map[w+b]).type==d.header_cell;y.push(k?c||(c=d.header_cell.createAndFill()):l||(l=d.cell.createAndFill()))}for(var x=d.row.create(null,a.Fragment.from(y)),S=[],C=t.height;C<i;C++)S.push(x);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),S)}return!(!l&&!c)}function X(e,t,n,r,o,i,s,a){if(0==s||s==t.height)return!1;for(var l=!1,c=o;c<i;c++){var u=s*t.width+c,d=t.map[u];if(t.map[u-t.width]==d){l=!0;var p=n.nodeAt(d),h=t.findCell(d),f=h.top,m=h.left;e.setNodeMarkup(e.mapping.slice(a).map(d+r),null,D(p.attrs,"rowspan",s-f)),e.insert(e.mapping.slice(a).map(t.positionAt(s,m,n)),p.type.createAndFill(D(p.attrs,"rowspan",f+p.attrs.rowspan-s))),c+=p.attrs.colspan-1}}return l}function Z(e,t,n,r,o,i,s,a){if(0==s||s==t.width)return!1;for(var l=!1,c=o;c<i;c++){var u=c*t.width+s,d=t.map[u];if(t.map[u-1]==d){l=!0;var p=n.nodeAt(d),h=t.colCount(d),f=e.mapping.slice(a).map(d+r);e.setNodeMarkup(f,null,R(p.attrs,s-h,p.attrs.colspan-(s-h))),e.insert(f+p.nodeSize,p.type.createAndFill(R(p.attrs,0,s-h))),c+=p.attrs.rowspan-1}}return l}function Y(e,t,n,r,o){var i=n?e.doc.nodeAt(n-1):e.doc,s=m.get(i),l=r.top,c=r.left,u=c+o.width,d=l+o.height,p=e.tr,h=0;function f(){i=n?p.doc.nodeAt(n-1):p.doc,s=m.get(i),h=p.mapping.maps.length}G(p,s,i,n,u,d,h)&&f(),X(p,s,i,n,c,u,l,h)&&f(),X(p,s,i,n,c,u,d,h)&&f(),Z(p,s,i,n,l,d,c,h)&&f(),Z(p,s,i,n,l,d,u,h)&&f();for(var v=l;v<d;v++){var g=s.positionAt(v,c,i),y=s.positionAt(v,u,i);p.replace(p.mapping.slice(h).map(g+n),p.mapping.slice(h).map(y+n),new a.Slice(o.rows[v-l],0,0))}f(),p.setSelection(new P(p.doc.resolve(n+s.positionAt(l,c,i)),p.doc.resolve(n+s.positionAt(d-1,u-1,i)))),t(p)}z.prototype.map=function(e){return new z(e.map(this.anchor),e.map(this.head))},z.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&E(t,n)?new P(t,n):i.Selection.near(n,1)};var Q=c.keydownHandler({ArrowLeft:te("horiz",-1),ArrowRight:te("horiz",1),ArrowUp:te("vert",-1),ArrowDown:te("vert",1),"Shift-ArrowLeft":ne("horiz",-1),"Shift-ArrowRight":ne("horiz",1),"Shift-ArrowUp":ne("vert",-1),"Shift-ArrowDown":ne("vert",1),Backspace:re,"Mod-Backspace":re,Delete:re,"Mod-Delete":re});function ee(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function te(e,t){return function(n,r,o){var s=n.selection;if(s instanceof P)return ee(n,r,i.Selection.near(s.$headCell,t));if("horiz"!=e&&!s.empty)return!1;var a=ae(o,e,t);if(null==a)return!1;if("horiz"==e)return ee(n,r,i.Selection.near(n.doc.resolve(s.head+t),t));var l,c=n.doc.resolve(a),u=N(c,e,t);return l=u?i.Selection.near(u,1):t<0?i.Selection.near(n.doc.resolve(c.before(-1)),-1):i.Selection.near(n.doc.resolve(c.after(-1)),1),ee(n,r,l)}}function ne(e,t){return function(n,r,o){var i=n.selection;if(!(i instanceof P)){var s=ae(o,e,t);if(null==s)return!1;i=new P(n.doc.resolve(s))}var a=N(i.$headCell,e,t);return!!a&&ee(n,r,new P(i.$anchorCell,a))}}function re(e,t){var n=e.selection;if(!(n instanceof P))return!1;if(t){var r=e.tr,o=H(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new a.Slice(o,0,0))})),r.docChanged&&t(r)}return!0}function oe(e,t){var n=e.state.doc,r=k(n.resolve(t));return!!r&&(e.dispatch(e.state.tr.setSelection(new P(r))),!0)}function ie(e,t,n){if(!S(e.state))return!1;var r=W(n),o=e.state.selection;if(o instanceof P){r||(r={width:1,height:1,rows:[a.Fragment.from(J(H(e.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),l=m.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=K(r,l.right-l.left,l.bottom-l.top),Y(e.state,e.dispatch,s,l,r),!0}if(r){var c=C(e.state),u=c.start(-1);return Y(e.state,e.dispatch,u,m.get(c.node(-1)).findCell(c.pos-u),r),!0}return!1}function se(e,t){if(!t.ctrlKey&&!t.metaKey){var n,r=le(e,t.target);if(t.shiftKey&&e.state.selection instanceof P)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(n=k(e.state.selection.$anchor))&&ce(e,t).pos!=n.pos)o(n,t),t.preventDefault();else if(!r)return;e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",s)}function o(t,n){var r=ce(e,n),o=null==w.getState(e.state);if(!r||!E(t,r)){if(!o)return;r=t}var i=new P(t,r);if(o||!e.state.selection.eq(i)){var s=e.state.tr.setSelection(i);o&&s.setMeta(w,t.pos),e.dispatch(s)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",s),null!=w.getState(e.state)&&e.dispatch(e.state.tr.setMeta(w,-1))}function s(n){var s,a=w.getState(e.state);if(null!=a)s=e.state.doc.resolve(a);else if(le(e,n.target)!=r&&(s=ce(e,t),!s))return i();s&&o(s,n)}}function ae(e,t,n){if(!(e.state.selection instanceof i.TextSelection))return null;for(var r=e.state.selection,o=r.$head,s=o.depth-1;s>=0;s--){var a=o.node(s),l=n<0?o.index(s):o.indexAfter(s);if(l!=(n<0?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var c=o.before(s),u="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(u)?c:null}}return null}function le(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function ce(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?k(e.state.doc.resolve(n.pos)):null}var ue=new i.PluginKey("fix-tables");function de(e,t,n,r){var o=e.childCount,i=t.childCount;e:for(var s=0,a=0;s<i;s++){for(var l=t.child(s),c=a,u=Math.min(o,s+3);c<u;c++)if(e.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<o&&e.child(a).sameMarkup(l)?de(e.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function pe(e,t){var n,r=function(t,r){"table"==t.type.spec.tableRole&&(n=he(e,t,r,n))};return t?t.doc!=e.doc&&de(t.doc,e.doc,0,r):e.doc.descendants(r),n}function he(e,t,n,r){var o=m.get(t);if(!o.problems)return r;r||(r=e.tr);for(var i,s,a=[],l=0;l<o.height;l++)a.push(0);for(var c=0;c<o.problems.length;c++){var u=o.problems[c];if("collision"==u.type){for(var d=t.nodeAt(u.pos),p=0;p<d.attrs.rowspan;p++)a[u.row+p]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,R(d.attrs,d.attrs.colspan-u.n,u.n))}else if("missing"==u.type)a[u.row]+=u.n;else if("overlong_rowspan"==u.type){var h=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,D(h.attrs,"rowspan",h.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var f=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,D(f.attrs,"colwidth",u.colwidth))}}for(var v=0;v<a.length;v++)a[v]&&(null==i&&(i=v),s=v);for(var g=0,y=n+1;g<o.height;g++){var b=t.child(g),w=y+b.nodeSize,k=a[g];if(k>0){var x="cell";b.firstChild&&(x=b.firstChild.type.spec.tableRole);for(var S=[],C=0;C<k;C++)S.push(H(e.schema)[x].createAndFill());var _=0!=g&&i!=g-1||s!=g?w-1:y+1;r.insert(r.mapping.map(_),S)}y=w}return r.setMeta(ue,{fixTables:!0})}function fe(e){var t,n=e.selection,r=C(e),o=r.node(-1),i=r.start(-1),s=m.get(o);return t=n instanceof P?s.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):s.findCell(r.pos-i),t.tableStart=i,t.map=s,t.table=o,t}function me(e,t,n){for(var r=H(t.type.schema).header_cell,o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0}function ve(e,t,n){var r=t.map,o=t.tableStart,i=t.table,s=n>0?-1:0;me(r,i,n+s)&&(s=0==n||n==r.width?null:0);for(var a=0;a<r.height;a++){var l=a*r.width+n;if(n>0&&n<r.width&&r.map[l-1]==r.map[l]){var c=r.map[l],u=i.nodeAt(c);e.setNodeMarkup(e.mapping.map(o+c),null,I(u.attrs,n-r.colCount(c))),a+=u.attrs.rowspan-1}else{var d=null==s?H(i.type.schema).cell:i.nodeAt(r.map[l+s]).type,p=r.positionAt(a,n,i);e.insert(e.mapping.map(o+p),d.createAndFill())}}return e}function ge(e,t){if(!S(e))return!1;if(t){var n=fe(e);t(ve(e.tr,n,n.left))}return!0}function ye(e,t){if(!S(e))return!1;if(t){var n=fe(e);t(ve(e.tr,n,n.right))}return!0}function be(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,s=e.mapping.maps.length,a=0;a<r.height;){var l=a*r.width+n,c=r.map[l],u=o.nodeAt(c);if(n>0&&r.map[l-1]==c||n<r.width-1&&r.map[l+1]==c)e.setNodeMarkup(e.mapping.slice(s).map(i+c),null,R(u.attrs,n-r.colCount(c)));else{var d=e.mapping.slice(s).map(i+c);e.delete(d,d+u.nodeSize)}a+=u.attrs.rowspan}}function we(e,t){if(!S(e))return!1;if(t){var n=fe(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;;o--){if(be(r,n,o),o==n.left)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table)}t(r)}return!0}function ke(e,t,n){for(var r=H(t.type.schema).header_cell,o=0;o<e.width;o++)if(t.nodeAt(e.map[o+n*e.width]).type!=r)return!1;return!0}function xe(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,s=o,a=0;a<n;a++)s+=i.child(a).nodeSize;var l=[],c=n>0?-1:0;ke(r,i,n+c)&&(c=0==n||n==r.height?null:0);for(var u=0,d=r.width*n;u<r.width;u++,d++)if(n>0&&n<r.height&&r.map[d]==r.map[d-r.width]){var p=r.map[d],h=i.nodeAt(p).attrs;e.setNodeMarkup(o+p,null,D(h,"rowspan",h.rowspan+1)),u+=h.colspan-1}else{var f=null==c?H(i.type.schema).cell:i.nodeAt(r.map[d+c*r.width]).type;l.push(f.createAndFill())}return e.insert(s,H(i.type.schema).row.create(null,l)),e}function Se(e,t){if(!S(e))return!1;if(t){var n=fe(e);t(xe(e.tr,n,n.top))}return!0}function Ce(e,t){if(!S(e))return!1;if(t){var n=fe(e);t(xe(e.tr,n,n.bottom))}return!0}function _e(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,s=0,a=0;a<n;a++)s+=o.child(a).nodeSize;var l=s+o.child(n).nodeSize,c=e.mapping.maps.length;e.delete(s+i,l+i);for(var u=0,d=n*r.width;u<r.width;u++,d++){var p=r.map[d];if(n>0&&p==r.map[d-r.width]){var h=o.nodeAt(p).attrs;e.setNodeMarkup(e.mapping.slice(c).map(p+i),null,D(h,"rowspan",h.rowspan-1)),u+=h.colspan-1}else if(n<r.width&&p==r.map[d+r.width]){var f=o.nodeAt(p),m=f.type.create(D(f.attrs,"rowspan",f.attrs.rowspan-1),f.content),v=r.positionAt(n+1,u,o);e.insert(e.mapping.slice(c).map(i+v),m),u+=f.attrs.colspan-1}}}function Oe(e,t){if(!S(e))return!1;if(t){var n=fe(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;;o--){if(_e(r,n,o),o==n.top)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=m.get(n.table)}t(r)}return!0}function Me(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function Ee(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,s=i,a=(t.bottom-1)*n+t.left,l=i+(t.right-t.left-1),c=t.top;c<t.bottom;c++){if(t.left>0&&o[s]==o[s-1]||t.right<n&&o[l]==o[l+1])return!0;s+=n,l+=n}for(var u=t.left;u<t.right;u++){if(t.top>0&&o[i]==o[i-n]||t.bottom<r&&o[a]==o[a+n])return!0;i++,a++}return!1}function Te(e,t){var n=e.selection;if(!(n instanceof P)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=fe(e),o=r.map;if(Ee(o,r))return!1;if(t){for(var i,s,l=e.tr,c={},u=a.Fragment.empty,d=r.top;d<r.bottom;d++)for(var p=r.left;p<r.right;p++){var h=o.map[d*o.width+p],f=r.table.nodeAt(h);if(!c[h])if(c[h]=!0,null==i)i=h,s=f;else{Me(f)||(u=u.append(f.content));var m=l.mapping.map(h+r.tableStart);l.delete(m,m+f.nodeSize)}}if(l.setNodeMarkup(i+r.tableStart,null,D(I(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),"rowspan",r.bottom-r.top)),u.size){var v=i+1+s.content.size,g=Me(s)?i+1:v;l.replaceWith(g+r.tableStart,v+r.tableStart,u)}l.setSelection(new P(l.doc.resolve(i+r.tableStart))),t(l)}return!0}function Ae(e,t){var n=H(e.schema);return Ne((function(e){var t=e.node;return n[t.type.spec.tableRole]}))(e,t)}function Ne(e){return function(t,n){var r,o,i=t.selection;if(i instanceof P){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(r=x(i.$from),!r)return!1;o=k(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var s=r.attrs,a=[],l=s.colwidth;s.rowspan>1&&(s=D(s,"rowspan",1)),s.colspan>1&&(s=D(s,"colspan",1));for(var c,u=fe(t),d=t.tr,p=0;p<u.right-u.left;p++)a.push(l?D(s,"colwidth",l&&l[p]?[l[p]]:null):s);for(var h=u.top;h<u.bottom;h++){var f=u.map.positionAt(h,u.left,u.table);h==u.top&&(f+=r.nodeSize);for(var m=u.left,v=0;m<u.right;m++,v++)m==u.left&&h==u.top||d.insert(c=d.mapping.map(f+u.tableStart,1),e({node:r,row:h,col:m}).createAndFill(a[v]))}d.setNodeMarkup(o,e({node:r,row:u.top,col:u.left}),a[0]),i instanceof P&&d.setSelection(new P(d.doc.resolve(i.$anchorCell.pos),c&&d.doc.resolve(c))),n(d)}return!0}}function De(e,t){return function(n,r){if(!S(n))return!1;var o=C(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){var i=n.tr;n.selection instanceof P?n.selection.forEachCell((function(n,r){n.attrs[e]!==t&&i.setNodeMarkup(r,null,D(n.attrs,e,t))})):i.setNodeMarkup(o.pos,null,D(o.nodeAfter.attrs,e,t)),r(i)}return!0}}function Re(e){return function(t,n){if(!S(t))return!1;if(n){for(var r=H(t.schema),o=fe(t),i=t.tr,s=o.map.cellsInRect("column"==e?new f(o.left,0,o.right,o.map.height):"row"==e?new f(0,o.top,o.map.width,o.bottom):o),a=s.map((function(e){return o.table.nodeAt(e)})),l=0;l<s.length;l++)a[l].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[l],r.cell,a[l].attrs);if(0==i.steps.length)for(var c=0;c<s.length;c++)i.setNodeMarkup(o.tableStart+s[c],r.header_cell,a[c].attrs);n(i)}return!0}}function Ie(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),o=0;o<r.length;o++){var i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function Pe(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?Re(e):function(t,n){if(!S(t))return!1;if(n){var r=H(t.schema),o=fe(t),i=t.tr,s=Ie("row",o,r),a=Ie("column",o,r),l="column"===e?s:"row"===e&&a,c=l?1:0,u="column"==e?new f(0,c,1,o.map.height):"row"==e?new f(c,0,o.map.width,1):o,d="column"==e?a?r.cell:r.header_cell:"row"==e?s?r.cell:r.header_cell:r.cell;o.map.cellsInRect(u).forEach((function(e){var t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,d,n.attrs)})),n(i)}return!0}}var ze=Pe("row",{useDeprecatedLogic:!0}),$e=Pe("column",{useDeprecatedLogic:!0}),je=Pe("cell",{useDeprecatedLogic:!0});function Fe(e,t){if(t<0){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r=e.index(-1)-1,o=e.before();r>=0;r--){var i=e.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var s=e.node(-1),a=e.indexAfter(-1),l=e.after();a<s.childCount;a++){var c=s.child(a);if(c.childCount)return l+1;l+=c.nodeSize}}}function Be(e){return function(t,n){if(!S(t))return!1;var r=Fe(C(t),e);if(null!=r){if(n){var o=t.doc.resolve(r);n(t.tr.setSelection(i.TextSelection.between(o,M(o))).scrollIntoView())}return!0}}}function Le(e,t){for(var n=e.selection.$anchor,r=n.depth;r>0;r--){var o=n.node(r);if("table"==o.type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}var Ve=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),qe(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function qe(e,t,n,r,o,i){for(var s=0,a=!0,l=t.firstChild,c=e.firstChild,u=0,d=0;u<c.childCount;u++)for(var p=c.child(u).attrs,h=p.colspan,f=p.colwidth,m=0;m<h;m++,d++){var v=o==d?i:f&&f[m],g=v?v+"px":"";s+=v||r,v||(a=!1),l?(l.style.width!=g&&(l.style.width=g),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=g}while(l){var y=l.nextSibling;l.parentNode.removeChild(l),l=y}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}Ve.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,qe(e,this.colgroup,this.table,this.cellMinWidth),!0)},Ve.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var He=new i.PluginKey("tableColumnResizing");function We(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var n=e.cellMinWidth;void 0===n&&(n=25);var r=e.View;void 0===r&&(r=Ve);var o=e.lastColumnResizable;void 0===o&&(o=!0);var s=new i.Plugin({key:He,state:{init:function(e,t){return this.spec.props.nodeViews[H(t.schema).table.name]=function(e,t){return new r(e,n,t)},new Ue(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){var t=He.getState(e);return t.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,r){Je(e,r,t,n,o)},mouseleave:function(e){Ke(e)},mousedown:function(e,t){Ge(e,t,n)}},decorations:function(e){var t=He.getState(e);if(t.activeHandle>-1)return ot(e,t.activeHandle)},nodeViews:{}}});return s}var Ue=function(e,t){this.activeHandle=e,this.dragging=t};function Je(e,t,n,r,o){var i=He.getState(e.state);if(!i.dragging){var s=Ze(t.target),a=-1;if(s){var l=s.getBoundingClientRect(),c=l.left,u=l.right;t.clientX-c<=n?a=Ye(e,t,"left"):u-t.clientX<=n&&(a=Ye(e,t,"right"))}if(a!=i.activeHandle){if(!o&&-1!==a){var d=e.state.doc.resolve(a),p=d.node(-1),h=m.get(p),f=d.start(-1),v=h.colCount(d.pos-f)+d.nodeAfter.attrs.colspan-1;if(v==h.width-1)return}et(e,a)}}}function Ke(e){var t=He.getState(e.state);t.activeHandle>-1&&!t.dragging&&et(e,-1)}function Ge(e,t,n){var r=He.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;var o=e.state.doc.nodeAt(r.activeHandle),i=Xe(e,r.activeHandle,o.attrs);function s(t){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);var r=He.getState(e.state);r.dragging&&(tt(e,r.activeHandle,Qe(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(He,{setDragging:null})))}function a(t){if(!t.which)return s(t);var r=He.getState(e.state),o=Qe(r.dragging,t,n);nt(e,r.activeHandle,o,n)}return e.dispatch(e.state.tr.setMeta(He,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),t.preventDefault(),!0}function Xe(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var s=e.domAtPos(t),a=s.node.childNodes[s.offset],l=a.offsetWidth,c=r;if(o)for(var u=0;u<r;u++)o[u]&&(l-=o[u],c--);return l/c}function Ze(e){while(e&&"TD"!=e.nodeName&&"TH"!=e.nodeName)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}function Ye(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY}),o=r.pos,i=k(e.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var s=m.get(i.node(-1)),a=i.start(-1),l=s.map.indexOf(i.pos-a);return l%s.width==0?-1:a+s.map[l-1]}function Qe(e,t,n){var r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function et(e,t){e.dispatch(e.state.tr.setMeta(He,{setHandle:t}))}function tt(e,t,n){for(var r=e.state.doc.resolve(t),o=r.node(-1),i=m.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=e.state.tr,c=0;c<i.height;c++){var u=c*i.width+a;if(!c||i.map[u]!=i.map[u-i.width]){var d=i.map[u],p=o.nodeAt(d),h=p.attrs,f=1==h.colspan?0:a-i.colCount(d);if(!h.colwidth||h.colwidth[f]!=n){var v=h.colwidth?h.colwidth.slice():rt(h.colspan);v[f]=n,l.setNodeMarkup(s+d,null,D(h,"colwidth",v))}}}l.docChanged&&e.dispatch(l)}function nt(e,t,n,r){var o=e.state.doc.resolve(t),i=o.node(-1),s=o.start(-1),a=m.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,l=e.domAtPos(o.start(-1)).node;while("TABLE"!=l.nodeName)l=l.parentNode;qe(i,l.firstChild,l,r,a,n)}function rt(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function ot(e,t){for(var n=[],r=e.doc.resolve(t),o=r.node(-1),i=m.get(o),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan,c=0;c<i.height;c++){var u=l+c*i.width-1;if((l==i.width||i.map[u]!=i.map[u+1])&&(0==c||i.map[u-1]!=i.map[u-1-i.width])){var d=i.map[u],p=a+d+o.nodeAt(d).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",n.push(s.Decoration.widget(p,h))}}return s.DecorationSet.create(e.doc,n)}function it(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new i.Plugin({key:w,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(w);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var r=e.mapping.mapResult(t),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:$,handleDOMEvents:{mousedown:se},createSelectionBetween:function(e){if(null!=w.getState(e.state))return e.state.selection},handleTripleClick:oe,handleKeyDown:Q,handlePaste:ie},appendTransaction:function(e,n,r){return B(r,pe(r,n),t)}})}Ue.prototype.apply=function(e){var t=this,n=e.getMeta(He);if(n&&null!=n.setHandle)return new Ue(n.setHandle,null);if(n&&void 0!==n.setDragging)return new Ue(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var r=e.mapping.map(t.activeHandle,-1);O(e.doc.resolve(r))||(r=null),t=new Ue(r,t.dragging)}return t},t.tableEditing=it,t.fixTables=pe,t.handlePaste=ie,t.fixTablesKey=ue,t.tableEditingKey=w,t.cellAround=k,t.isInTable=S,t.selectionCell=C,t.moveCellForward=M,t.inSameTable=E,t.findCell=T,t.colCount=A,t.nextCell=N,t.tableNodes=q,t.CellSelection=P,t.TableMap=m,t.columnResizing=We,t.columnResizingPluginKey=He,t.updateColumnsOnResize=qe,t.__pastedCells=W,t.__insertCells=Y,t.__clipCells=K,t.addColumn=ve,t.addColumnBefore=ge,t.addColumnAfter=ye,t.removeColumn=be,t.deleteColumn=we,t.addRow=xe,t.addRowBefore=Se,t.addRowAfter=Ce,t.removeRow=_e,t.deleteRow=Oe,t.mergeCells=Te,t.splitCell=Ae,t.splitCellWithType=Ne,t.setCellAttr=De,t.toggleHeader=Pe,t.toggleHeaderRow=ze,t.toggleHeaderColumn=$e,t.toggleHeaderCell=je,t.goToNextCell=Be,t.deleteTable=Le},3235:function(e,t,n){"use strict";n(7658);var r=n(2391),o=n(9443),i=n(8784),s=function(e){return function(t){var n=L(e)(t.selection);return n?S(n.pos)(t):t}},a=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++){var i=L(e[r])(n.selection);if(i){var s=k(i.pos,t)(n);if(s!==n)return s}}return n}},l=function(e){if(y(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return w(e.delete(t,n))}return e},c=function(e){return function(t){if(y(t.selection)){var n=t.selection,i=n.$from,s=n.$to;if(e instanceof o.Fragment&&i.parent.canReplace(i.index(),i.indexAfter(),e)||i.parent.canReplaceWith(i.index(),i.indexAfter(),e.type))return w(t.replaceWith(i.pos,s.pos,e).setSelection(new r.NodeSelection(t.doc.resolve(i.pos))))}return t}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var o=r.Selection.findFrom(n.doc.resolve(e),t,!0);return o?n.setSelection(o):n}},d=function(e){return e.type&&e.type.spec.selectable},p=function(e){return d(e)&&e.type.isLeaf},h=function(e,t,n){return p(e)?n.setSelection(new r.NodeSelection(n.doc.resolve(t))):u(t)(n)},f=function(e,t,n){return function(r){var o="number"===typeof t,i=r.selection.$from,s=o?r.doc.resolve(t):y(r.selection)?r.doc.resolve(i.pos+1):i,l=s.parent;if(y(r.selection)&&n){var u=r;if(r=c(e)(r),u!==r)return r}if(O(l)){var p=r;if(r=a(l.type,e)(r),p!==r){var f=d(e)?s.before(s.depth):s.pos;return h(e,f,r)}}if(_(s,e)){r.insert(s.pos,e);var m=o?s.pos:d(e)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return w(h(e,m,r))}for(var v=s.depth;v>0;v--){var g=s.after(v),b=r.doc.resolve(g);if(_(b,e))return r.insert(g,e),w(h(e,g,r))}return r}},m=function(e,t,n,r){return function(o){var i=L(e)(o.selection);return i?w(o.setNodeMarkup(i.pos,t,Object.assign({},i.node.attrs,n),r)):o}},v=function(e){return function(t){if(!y(t.selection)){var n=L(e)(t.selection);if(n)return w(t.setSelection(r.NodeSelection.create(t.doc,n.pos)))}return t}},g=function(e){var t=U(e.selection);return"number"===typeof t?S(t)(e):e},y=function(e){return e instanceof r.NodeSelection},b=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},w=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},k=function(e,t){return function(n){var r=n.doc.nodeAt(e),o=n.doc.resolve(e);if(x(o,t)){n=n.replaceWith(e,e+r.nodeSize,t);var i=n.selection.$from.pos-1;return n=u(Math.max(i,0),-1)(n),n=u(n.selection.$from.start())(n),w(n)}return n}},x=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof o.Fragment?t:o.Fragment.from(t))},S=function(e){return function(t){var n=t.doc.nodeAt(e);return w(t.delete(e,e+n.nodeSize))}},C=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;var t={};return Object.keys(e.nodes).forEach((function(n){var r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t},_=function(e,t){var n=e.index();return t instanceof o.Fragment?e.parent.canReplace(n,n,t):t instanceof o.Node&&e.parent.canReplaceWith(n,n,t.type)},O=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},M=function(e){var t=function(e){return e.type.spec.tableRole&&/table/i.test(e.type.spec.tableRole)};return j(e,t)},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?e.createChecked(null,t):e.createAndFill()},T=function(e){return function(t){for(var n=i.TableMap.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),o=n.cellsInRect(e),s=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r)),a=0,l=o.length;a<l;a++)if(-1===s.indexOf(o[a]))return!1;return!0}},A=function(e){return e[0].map((function(t,n){return e.map((function(e){return e[n]}))}))},N=function(e){for(var t=i.TableMap.get(e),n=[],r=0;r<t.height;r++){for(var o=[],s={},a=0;a<t.width;a++){var l=t.map[r*t.width+a],c=e.nodeAt(l),u=t.findCell(l);s[l]||u.top!==r?o.push(null):(s[l]=!0,o.push(c))}n.push(o)}return n},D=function(e,t){for(var n=[],r=i.TableMap.get(e),o=0;o<r.height;o++){for(var s=e.child(o),a=[],l=0;l<r.width;l++)if(t[o][l]){var c=r.map[o*r.width+l],u=t[o][l],d=e.nodeAt(c),p=d.type.createChecked(Object.assign({},u.attrs),u.content,u.marks);a.push(p)}n.push(s.type.createChecked(s.attrs,a,s.marks))}var h=e.type.createChecked(e.attrs,n,e.marks);return h},R=function(e,t,n,r){var o=A(N(e.node));return o=P(o,t,n,r),o=A(o),D(e.node,o)},I=function(e,t,n,r){var o=N(e.node);return o=P(o,t,n,r),D(e.node,o)},P=function(e,t,n,r){var o=t[0]>n[0]?-1:1,i=e.splice(t[0],t.length),s=i.length%2===0?1:0,a=void 0;return a=-1===r&&1===o?n[0]-1:1===r&&-1===o?n[n.length-1]-s+1:-1===o?n[0]:n[n.length-1]-s,e.splice.apply(e,[a,0].concat(i)),e},z=function(e,t,n,r){var o=e>t?-1:1,i="Target position is invalid, you can't move the "+r+" "+e+" to "+t+", the target can't be split. You could use tryToFit option.";if(1===o){if(-1!==n.slice(0,n.length-1).indexOf(t))throw new Error(i)}else if(-1!==n.slice(1).indexOf(t))throw new Error(i);return!0},$=function(e){return function(t){var n=t.$from;return j(n,e)}},j=function(e,t){for(var n=e.depth;n>0;n--){var r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},F=function(e,t){return function(n){var r=$(e)(n);if(r)return J(r.pos,t)}},B=function(e){return function(t){return!!$(e)(t)}},L=function(e){return function(t){return $((function(t){return b(e,t)}))(t)}},V=function(e,t){return j(e,(function(e){return b(t,e)}))},q=function(e){return function(t){return B((function(t){return b(e,t)}))(t)}},H=function(e,t){return function(n){return F((function(t){return b(e,t)}),t)(n)}},W=function(e){return function(t){if(y(t)){var n=t.node,r=t.$from;if(b(e,n))return{node:n,pos:r.pos,depth:r.depth}}}},U=function(e){var t=e.$from.nodeBefore,n=r.Selection.findFrom(e.$from,-1);if(n&&t){var o=L(t.type)(n);return o?o.pos:n.$from.pos}},J=function(e,t){var n=t(e),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},K=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants((function(e,r){if(n.push({node:e,pos:r}),!t)return!1})),n},G=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return K(e,n).filter((function(e){return t(e.node)}))},X=function(e,t){return G(e,(function(e){return e.isText}),t)},Z=function(e,t){return G(e,(function(e){return e.isInline}),t)},Y=function(e,t){return G(e,(function(e){return e.isBlock}),t)},Q=function(e,t,n){return G(e,(function(e){return!!t(e.attrs)}),n)},ee=function(e,t,n){return G(e,(function(e){return e.type===t}),n)},te=function(e,t,n){return G(e,(function(e){return t.isInSet(e.marks)}),n)},ne=function(e,t){return!!ee(e,t).length};function re(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var oe=function(e){return $((function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))(e)},ie=function(e){return e instanceof i.CellSelection},se=function(e){if(ie(e)){var t=e.$anchorCell.start(-1),n=i.TableMap.get(e.$anchorCell.node(-1));return n.rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},ae=function(e){return function(t){if(ie(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return T({left:e,right:e+1,top:0,bottom:n.height})(t)}return!1}},le=function(e){return function(t){if(ie(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return T({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},ce=function(e){if(ie(e)){var t=i.TableMap.get(e.$anchorCell.node(-1));return T({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1},ue=function(e){return function(t){var n=oe(t);if(n){var r=i.TableMap.get(n.node),o=Array.isArray(e)?e:Array.from([e]);return o.reduce((function(e,t){if(t>=0&&t<=r.width-1){var o=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},de=function(e){return function(t){var n=oe(t);if(n){var r=i.TableMap.get(n.node),o=Array.isArray(e)?e:Array.from([e]);return o.reduce((function(e,t){if(t>=0&&t<=r.height-1){var o=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},pe=function(e){var t=oe(e);if(t){var n=i.TableMap.get(t.node),r=n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height});return r.map((function(e){var n=t.node.nodeAt(e),r=e+t.start;return{pos:r,start:r+1,node:n}}))}},he=function(e){return function(t,n){return function(r){var o=oe(r.selection),s="row"===e;if(o){var a=i.TableMap.get(o.node);if(t>=0&&t<(s?a.height:a.width)){var l=s?0:t,c=s?t:0,u=s?a.width:t+1,d=s?t+1:a.height;if(n){var p=Ie(r.selection.$from);if(!p)return r;var h=a.findCell(p.pos-o.start);s?(c=Math.min(c,h.top),d=Math.max(d,h.bottom)):(l=Math.min(l,h.left),u=Math.max(u,h.right))}var f=a.cellsInRect({left:l,top:c,right:s?u:l+1,bottom:s?c+1:d}),m=d-c===1?f:a.cellsInRect({left:s?l:u-1,top:s?d-1:c,right:u,bottom:d}),v=o.start+f[0],g=o.start+m[m.length-1],y=r.doc.resolve(v),b=r.doc.resolve(g);return w(r.setSelection(new i.CellSelection(b,y)))}}return r}}},fe=he("column"),me=he("row"),ve=function(e){var t=oe(e.selection);if(t){var n=i.TableMap.get(t.node),r=n.map;if(r&&r.length){var o=t.start+r[0],s=t.start+r[r.length-1],a=e.doc.resolve(o),l=e.doc.resolve(s);return w(e.setSelection(new i.CellSelection(l,a)))}}return e},ge=function(e,t){return function(n){if(e){var r=C(t).cell.createAndFill(),o=r.content;if(!e.node.content.eq(o))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,o),w(n)}return n}},ye=function(e){return function(t){var n=oe(t.selection);if(n){var r=i.TableMap.get(n.node);if(e>=0&&e<=r.width)return w(i.addColumn(t,{map:r,tableStart:n.start,table:n.node},e))}return t}},be=function(e,t,n){return function(r){var o={tryToFit:!1,direction:0},i=Object.assign(o,n),s=oe(r.selection);if(!s)return r;var a=je(e)(r),l=a.indexes,c=je(t)(r),u=c.indexes;if(l.indexOf(t)>-1)return r;!i.tryToFit&&u.length>1&&z(e,t,u,"row");var d=I(s,l,u,i.direction);return w(r).replaceWith(s.pos,s.pos+s.node.nodeSize,d)}},we=function(e,t,n){return function(r){var o={tryToFit:!1,direction:0},i=Object.assign(o,n),s=oe(r.selection);if(!s)return r;var a=$e(e)(r),l=a.indexes,c=$e(t)(r),u=c.indexes;if(l.indexOf(t)>-1)return r;!i.tryToFit&&u.length>1&&z(e,t,u,"column");var d=R(s,l,u,i.direction);return w(r).replaceWith(s.pos,s.pos+s.node.nodeSize,d)}},ke=function(e,t){return function(n){var r=oe(n.selection);if(r){var o=i.TableMap.get(r.node),s=e-1;if(t&&s>=0)return w(xe(s)(n));if(e>=0&&e<=o.height)return w(i.addRow(n,{map:o,tableStart:r.start,table:r.node},e))}return n}},xe=function(e){return function(t){var n=oe(t.selection);if(n){var r=i.TableMap.get(n.node);if(e>=0&&e<=r.height){for(var o=n.node,s=C(o.type.schema),a=n.start,l=0;l<e+1;l++)a+=o.child(l).nodeSize;var c=o.child(e),u=[],d=0;if(c.forEach((function(e){1===e.attrs.rowspan&&(d+=e.attrs.colspan,u.push(s[e.type.spec.tableRole].createAndFill(e.attrs,e.marks)))})),d<r.width){for(var p=[],h=function(n){var r=ze(n,(function(t,r){var o=t.node.attrs.rowspan,i=n+o;return o>1&&i>e}))(t);p.push.apply(p,re(r))},m=e;m>=0;m--)h(m);p.length&&p.forEach((function(e){t=De(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return f(s.row.create(c.attrs,u),a)(t)}}return t}},Se=function(e){return function(t){var n=oe(t.selection);if(n){var r=i.TableMap.get(n.node);if(0===e&&1===r.width)return _e(t);if(e>=0&&e<=r.width)return i.removeColumn(t,{map:r,tableStart:n.start,table:n.node},e),w(t)}return t}},Ce=function(e){return function(t){var n=oe(t.selection);if(n){var r=i.TableMap.get(n.node);if(0===e&&1===r.height)return _e(t);if(e>=0&&e<=r.height)return i.removeRow(t,{map:r,tableStart:n.start,table:n.node},e),w(t)}return t}},_e=function(e){for(var t=e.selection.$from,n=t.depth;n>0;n--){var r=t.node(n);if("table"===r.type.spec.tableRole)return w(e.delete(t.before(n),t.after(n)))}return e},Oe=function(e){var t=e.selection;if(ce(t))return _e(e);if(ie(t)){var n=oe(t);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.left&&o.right==r.width)return!1;for(var s=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),a=s.right-1;;a--){if(i.removeColumn(e,s,a),a===s.left)break;s.table=s.tableStart?e.doc.nodeAt(s.tableStart-1):e.doc,s.map=i.TableMap.get(s.table)}return w(e)}}return e},Me=function(e){var t=e.selection;if(ce(t))return _e(e);if(ie(t)){var n=oe(t);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.top&&o.bottom==r.height)return!1;for(var s=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),a=s.bottom-1;;a--){if(i.removeRow(e,s,a),a===s.top)break;s.table=s.tableStart?e.doc.nodeAt(s.tableStart-1):e.doc,s.map=i.TableMap.get(s.table)}return w(e)}}return e},Ee=function(e){return function(t){var n=Pe(e);return n?Se(n.left)(u(e.pos)(t)):t}},Te=function(e){return function(t){var n=Pe(e);return n?Ce(n.top)(u(e.pos)(t)):t}},Ae=function(e,t,n){return function(o){var i=ue(e)(o.selection);if(i){for(var s=i.length-1;s>=0;s--)o=t(i[s],o);if(n){var a=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(a))}return w(o)}return o}},Ne=function(e,t,n){return function(o){var i=de(e)(o.selection);if(i){for(var s=i.length-1;s>=0;s--)o=t(i[s],o);if(n){var a=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(a))}}return o}},De=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,null,Object.assign({},e.node.attrs,t)),w(n)):n}},Re=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=C(e),s=i.cell,a=i.header_cell,l=i.row,c=i.table,u=[],d=[],p=0;p<n;p++)u.push(E(s,o)),r&&d.push(E(a,o));for(var h=[],f=0;f<t;f++)h.push(l.createChecked(null,r&&0===f?d:u));return c.createChecked(null,h)},Ie=function(e){var t=function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)};return j(e,t)},Pe=function(e){var t=Ie(e);if(t){var n=M(e),r=i.TableMap.get(n.node),o=t.pos-n.start;return r.rectBetween(o,o)}},ze=function(e,t){return function(n){var r=[],o=de(e)(n.selection);if(o)for(var i=o.length-1;i>=0;i--)t(o[i],n)&&r.push(o[i]);return r}},$e=function(e){return function(t){for(var n=e,r=e,o=function(e){var o=ue(e)(t.selection);o&&o.forEach((function(t){var o=t.node.attrs.colspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;i>=0;i--)o(i);var s=function(e){var n=ue(e)(t.selection);n&&n.forEach((function(t){var n=t.node.attrs.colspan+e-1;t.node.attrs.colspan>1&&n>r&&(r=n)}))};for(i=e;i<=r;i++)s(i);var a=[];for(i=n;i<=r;i++){var l=ue(i)(t.selection);l&&l.length&&a.push(i)}n=a[0],r=a[a.length-1];for(var c=ue(n)(t.selection),u=de(0)(t.selection),d=t.doc.resolve(c[c.length-1].pos),p=void 0,h=r;h>=n;h--){var f=ue(h)(t.selection);if(f&&f.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===f[0].pos){p=f[0];break}if(p)break}}var v=t.doc.resolve(p.pos);return{$anchor:d,$head:v,indexes:a}}},je=function(e){return function(t){for(var n=e,r=e,o=function(e){var o=de(e)(t.selection);o.forEach((function(t){var o=t.node.attrs.rowspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;i>=0;i--)o(i);var s=function(e){var n=de(e)(t.selection);n.forEach((function(t){var n=t.node.attrs.rowspan+e-1;t.node.attrs.rowspan>1&&n>r&&(r=n)}))};for(i=e;i<=r;i++)s(i);var a=[];for(i=n;i<=r;i++){var l=de(i)(t.selection);l&&l.length&&a.push(i)}n=a[0],r=a[a.length-1];for(var c=de(n)(t.selection),u=ue(0)(t.selection),d=t.doc.resolve(c[c.length-1].pos),p=void 0,h=r;h>=n;h--){var f=de(h)(t.selection);if(f&&f.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===f[0].pos){p=f[0];break}if(p)break}}var v=t.doc.resolve(p.pos);return{$anchor:d,$head:v,indexes:a}}};t.Tr=L},6365:function(e,t,n){var r=n(8714);e.exports=function(e,t,n){return void 0===n?r(e,t,!1):r(e,n,!1!==t)}},8714:function(e){e.exports=function(e,t,n,r){var o,i=0;function s(){var s=this,a=Number(new Date)-i,l=arguments;function c(){i=Number(new Date),n.apply(s,l)}function u(){o=void 0}r&&!o&&c(),o&&clearTimeout(o),void 0===r&&a>e?c():!0!==t&&(o=setTimeout(r?u:c,void 0===r?e-a:e))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),s}},7203:function(t){"use strict";t.exports=e},6586:function(e){"use strict";function t(e){this.content=e}t.prototype={constructor:t,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,n,r){var o=r&&r!=e?this.remove(r):this,i=o.find(e),s=o.content.slice();return-1==i?s.push(r||e,n):(s[i+1]=n,r&&(s[i]=r)),new t(s)},remove:function(e){var n=this.find(e);if(-1==n)return this;var r=this.content.slice();return r.splice(n,2),new t(r)},addToStart:function(e,n){return new t([e,n].concat(this.remove(e).content))},addToEnd:function(e,n){var r=this.remove(e).content.slice();return r.push(e,n),new t(r)},addBefore:function(e,n,r){var o=this.remove(n),i=o.content.slice(),s=o.find(e);return i.splice(-1==s?i.length:s,0,n,r),new t(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=t.from(e),e.size?new t(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=t.from(e),e.size?new t(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var n=this;e=t.from(e);for(var r=0;r<e.content.length;r+=2)n=n.remove(e.content[r]);return n},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},t.from=function(e){if(e instanceof t)return e;var n=[];if(e)for(var r in e)n.push(r,e[r]);return new t(n)},e.exports=t},7354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6691),o=n(2391),i="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function s(e){var t,n,r,o,s=e.split(/-(?!$)/),a=s[s.length-1];"Space"==a&&(a=" ");for(var l=0;l<s.length-1;l++){var c=s[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))t=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);i?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function a(e){var t=Object.create(null);for(var n in e)t[s(n)]=e[n];return t}function l(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function c(e){return new o.Plugin({props:{handleKeyDown:u(e)}})}function u(e){var t=a(e);return function(e,n){var o,i=r.keyName(n),s=1==i.length&&" "!=i,a=t[l(i,n,!s)];if(a&&a(e.state,e.dispatch,e))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(o=r.base[n.keyCode])&&o!=i){var c=t[l(o,n,!0)];if(c&&c(e.state,e.dispatch,e))return!0}else if(s&&n.shiftKey){var u=t[l(i,n,!0)];if(u&&u(e.state,e.dispatch,e))return!0}return!1}}t.keydownHandler=u,t.keymap=c},9443:function(e,t,n){"use strict";function r(){return r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=o(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},r.apply(this,arguments)}function o(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=f(e),null===e)break;return e}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function s(e){var t=d();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"===typeof Map?new Map:void 0;return c=function(e){if(null===e||!p(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,f(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)},c(e)}function u(e,t,n){return u=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),i=new o;return n&&h(i,n.prototype),i},u.apply(null,arguments)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}Object.defineProperty(t,"__esModule",{value:!0});var b=n(6586);function w(e){return e&&"object"===y(e)&&"default"in e?e:{default:e}}var k=w(b);function x(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var a=x(o.content,i.content,n+1);if(null!=a)return a}n+=o.nodeSize}else n+=o.nodeSize}}function S(e,t,n,r){for(var o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};var s=e.child(--o),a=t.child(--i),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){var c=0,u=Math.min(s.text.length,a.text.length);while(c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1])c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){var d=S(s.content,a.content,n-1,r-1);if(d)return d}n-=l,r-=l}else n-=l,r-=l}}var C=function(){function e(t,n){if(m(this,e),this.content=t,this.size=n||0,null==n)for(var r=0;r<t.length;r++)this.size+=t[r].nodeSize}return g(e,[{key:"nodesBetween",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,i=0,s=0;s<t;i++){var a=this.content[i],l=s+a.nodeSize;if(l>e&&!1!==n(a,r+s,o||null,i)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,t-c),n,r+c)}s=l}}},{key:"descendants",value:function(e){this.nodesBetween(0,this.size,e)}},{key:"textBetween",value:function(e,t,n,r){var o="",i=!0;return this.nodesBetween(e,t,(function(s,a){s.isText?(o+=s.text.slice(Math.max(e,a)-a,t-a),i=!n):s.isLeaf?(r?o+="function"===typeof r?r(s):r:s.type.spec.leafText&&(o+=s.type.spec.leafText(s)),i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o}},{key:"append",value:function(t){if(!t.size)return this;if(!this.size)return t;var n=this.lastChild,r=t.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)o.push(t.content[i]);return new e(o,this.size+t.size)}},{key:"cut",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==t&&n==this.size)return this;var r=[],o=0;if(n>t)for(var i=0,s=0;s<n;i++){var a=this.content[i],l=s+a.nodeSize;l>t&&((s<t||l>n)&&(a=a.isText?a.cut(Math.max(0,t-s),Math.min(a.text.length,n-s)):a.cut(Math.max(0,t-s-1),Math.min(a.content.size,n-s-1))),r.push(a),o+=a.nodeSize),s=l}return new e(r,o)}},{key:"cutByIndex",value:function(t,n){return t==n?e.empty:0==t&&n==this.content.length?this:new e(this.content.slice(t,n))}},{key:"replaceChild",value:function(t,n){var r=this.content[t];if(r==n)return this;var o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[t]=n,new e(o,i)}},{key:"addToStart",value:function(t){return new e([t].concat(this.content),this.size+t.nodeSize)}},{key:"addToEnd",value:function(t){return new e(this.content.concat(t),this.size+t.nodeSize)}},{key:"eq",value:function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}},{key:"maybeChild",value:function(e){return this.content[e]||null}},{key:"forEach",value:function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}}},{key:"findDiffStart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return x(this,e,t)}},{key:"findDiffEnd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size;return S(this,e,t,n)}},{key:"findIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0==e)return O(0,e);if(e==this.size)return O(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(var n=0,r=0;;n++){var o=this.child(n),i=r+o.nodeSize;if(i>=e)return i==e||t>0?O(n+1,i):O(n,r);r=i}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null}}],[{key:"fromJSON",value:function(t,n){if(!n)return e.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new e(n.map(t.nodeFromJSON))}},{key:"fromArray",value:function(t){if(!t.length)return e.empty;for(var n,r=0,o=0;o<t.length;o++){var i=t[o];r+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(n||(n=t.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new e(n||t,r)}},{key:"from",value:function(t){if(!t)return e.empty;if(t instanceof e)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new e([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),e}();C.empty=new C([],0);var _={index:0,offset:0};function O(e,t){return _.index=e,_.offset=t,_}function M(e,t){if(e===t)return!0;if(!e||"object"!=y(e)||!t||"object"!=y(t))return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!M(e[r],t[r]))return!1}else{for(var o in e)if(!(o in t)||!M(e[o],t[o]))return!1;for(var i in t)if(!(i in e))return!1}return!0}var E=function(){function e(t,n){m(this,e),this.type=t,this.attrs=n}return g(e,[{key:"addToSet",value:function(e){for(var t,n=!1,r=0;r<e.length;r++){var o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}},{key:"removeFromSet",value:function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}},{key:"isInSet",value:function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}},{key:"eq",value:function(e){return this==e||this.type==e.type&&M(this.attrs,e.attrs)}},{key:"toJSON",value:function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e}}],[{key:"fromJSON",value:function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type ".concat(t.type," in this schema"));return n.create(t.attrs)}},{key:"sameSet",value:function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}},{key:"setFrom",value:function(t){if(!t||Array.isArray(t)&&0==t.length)return e.none;if(t instanceof e)return[t];var n=t.slice();return n.sort((function(e,t){return e.type.rank-t.type.rank})),n}}]),e}();E.none=[];var T=function(e){i(n,e);var t=s(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n)}(c(Error)),A=function(){function e(t,n,r){m(this,e),this.content=t,this.openStart=n,this.openEnd=r}return g(e,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(t,n){var r=D(this.content,t+this.openStart,n);return r&&new e(r,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(t,n){return new e(N(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}}],[{key:"fromJSON",value:function(t,n){if(!n)return e.empty;var r=n.openStart||0,o=n.openEnd||0;if("number"!=typeof r||"number"!=typeof o)throw new RangeError("Invalid input for Slice.fromJSON");return new e(C.fromJSON(t,n.content),r,o)}},{key:"maxOpen",value:function(t){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=0,o=0,i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(var s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new e(t,r,o)}}]),e}();function N(e,t,n){var r=e.findIndex(t),o=r.index,i=r.offset,s=e.maybeChild(o),a=e.findIndex(n),l=a.index,c=a.offset;if(i==t||s.isText){if(c!=n&&!e.child(l).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(o!=l)throw new RangeError("Removing non-flat range");return e.replaceChild(o,s.copy(N(s.content,t-i-1,n-i-1)))}function D(e,t,n,r){var o=e.findIndex(t),i=o.index,s=o.offset,a=e.maybeChild(i);if(s==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));var l=D(a.content,t-s-1,n);return l&&e.replaceChild(i,a.copy(l))}function R(e,t,n){if(n.openStart>e.depth)throw new T("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new T("Inconsistent open depths");return I(e,t,n,0)}function I(e,t,n,r){var o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){var s=I(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){var a=V(n,e),l=a.start,c=a.end;return F(i,B(e,l,c,t,r))}var u=e.parent,d=u.content;return F(u,d.cut(0,e.parentOffset).append(n.content).append(d.cut(t.parentOffset)))}return F(i,L(e,t,r))}function P(e,t){if(!t.type.compatibleContent(e.type))throw new T("Cannot join "+t.type.name+" onto "+e.type.name)}function z(e,t,n){var r=e.node(n);return P(r,t.node(n)),r}function $(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function j(e,t,n,r){var o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&($(e.nodeAfter,r),i++));for(var a=i;a<s;a++)$(o.child(a),r);t&&t.depth==n&&t.textOffset&&$(t.nodeBefore,r)}function F(e,t){if(!e.type.validContent(t))throw new T("Invalid content for node "+e.type.name);return e.copy(t)}function B(e,t,n,r,o){var i=e.depth>o&&z(e,t,o+1),s=r.depth>o&&z(n,r,o+1),a=[];return j(null,e,o,a),i&&s&&t.index(o)==n.index(o)?(P(i,s),$(F(i,B(e,t,n,r,o+1)),a)):(i&&$(F(i,L(e,t,o+1)),a),j(t,n,o,a),s&&$(F(s,L(n,r,o+1)),a)),j(r,null,o,a),new C(a)}function L(e,t,n){var r=[];if(j(null,e,n,r),e.depth>n){var o=z(e,t,n+1);$(F(o,L(e,t,n+1)),r)}return j(t,null,n,r),new C(r)}function V(e,t){for(var n=t.depth-e.openStart,r=t.node(n),o=r.copy(e.content),i=n-1;i>=0;i--)o=t.node(i).copy(C.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}A.empty=new A(C.empty,0,0);var q=function(){function e(t,n,r){m(this,e),this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}return g(e,[{key:"resolveDepth",value:function(e){return null==e?this.depth:e<0?this.depth+e:e}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(e){return this.path[3*this.resolveDepth(e)]}},{key:"index",value:function(e){return this.path[3*this.resolveDepth(e)+1]}},{key:"indexAfter",value:function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}},{key:"start",value:function(e){return e=this.resolveDepth(e),0==e?0:this.path[3*e-1]+1}},{key:"end",value:function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}},{key:"before",value:function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}},{key:"after",value:function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}},{key:"nodeBefore",get:function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}},{key:"posAtIndex",value:function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)r+=n.child(o).nodeSize;return r}},{key:"marks",value:function(){var e=this.parent,t=this.index();if(0==e.content.size)return E.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i}},{key:"marksAcross",value:function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}},{key:"sharedDepth",value:function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}},{key:"blockRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1?arguments[1]:void 0;if(e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new J(this,e,n);return null}},{key:"sameParent",value:function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}},{key:"max",value:function(e){return e.pos>this.pos?e:this}},{key:"min",value:function(e){return e.pos<this.pos?e:this}},{key:"toString",value:function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}}],[{key:"resolve",value:function(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");for(var r=[],o=0,i=n,s=t;;){var a=s.content.findIndex(i),l=a.index,c=a.offset,u=i-c;if(r.push(s,l,o+c),!u)break;if(s=s.child(l),s.isText)break;i=u-1,o+=c+1}return new e(n,r,i)}},{key:"resolveCached",value:function(t,n){for(var r=0;r<H.length;r++){var o=H[r];if(o.pos==n&&o.doc==t)return o}var i=H[W]=e.resolve(t,n);return W=(W+1)%U,i}}]),e}(),H=[],W=0,U=12,J=function(){function e(t,n,r){m(this,e),this.$from=t,this.$to=n,this.depth=r}return g(e,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),e}(),K=Object.create(null),G=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.none;m(this,e),this.type=t,this.attrs=n,this.marks=o,this.content=r||C.empty}return g(e,[{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(e){return this.content.child(e)}},{key:"maybeChild",value:function(e){return this.content.maybeChild(e)}},{key:"forEach",value:function(e){this.content.forEach(e)}},{key:"nodesBetween",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(e,t,n,r,this)}},{key:"descendants",value:function(e){this.nodesBetween(0,this.content.size,e)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(e,t,n,r){return this.content.textBetween(e,t,n,r)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}},{key:"sameMarkup",value:function(e){return this.hasMarkup(e.type,e.attrs,e.marks)}},{key:"hasMarkup",value:function(e,t,n){return this.type==e&&M(this.attrs,t||e.defaultAttrs||K)&&E.sameSet(this.marks,n||E.none)}},{key:"copy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t==this.content?this:new e(this.type,this.attrs,t,this.marks)}},{key:"mark",value:function(t){return t==this.marks?this:new e(this.type,this.attrs,this.content,t)}},{key:"cut",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}},{key:"slice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e==t)return A.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),s=r.start(i),a=r.node(i),l=a.content.cut(r.pos-s,o.pos-s);return new A(l,r.depth-i,o.depth-i)}},{key:"replace",value:function(e,t,n){return R(this.resolve(e),this.resolve(t),n)}},{key:"nodeAt",value:function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(t=t.maybeChild(r),!t)return null;if(o==e||t.isText)return t;e-=o+1}}},{key:"childAfter",value:function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}}},{key:"childBefore",value:function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}},{key:"resolve",value:function(e){return q.resolveCached(this,e)}},{key:"resolveNoCache",value:function(e){return q.resolve(this,e)}},{key:"rangeHasMark",value:function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Z(this.marks,e)}},{key:"contentMatchAt",value:function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}},{key:"canReplace",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.empty,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,i=this.contentMatchAt(e).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}},{key:"canReplaceWith",value:function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}},{key:"canAppend",value:function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}},{key:"check",value:function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node ".concat(this.type.name,": ").concat(this.content.toString().slice(0,50)));for(var e=E.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!E.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map((function(e){return e.type.name}))));this.content.forEach((function(e){return e.check()}))}},{key:"toJSON",value:function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e}}],[{key:"fromJSON",value:function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=C.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}]),e}();G.prototype.text=void 0;var X=function(e){i(n,e);var t=s(n);function n(e,r,o,i){var s;if(m(this,n),s=t.call(this,e,r,null,i),!o)throw new RangeError("Empty text nodes are not allowed");return s.text=o,s}return g(n,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Z(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(e,t){return this.text.slice(e,t)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(e){return e==this.marks?this:new n(this.type,this.attrs,this.text,e)}},{key:"withText",value:function(e){return e==this.text?this:new n(this.type,this.attrs,e,this.marks)}},{key:"cut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}},{key:"eq",value:function(e){return this.sameMarkup(e)&&this.text==e.text}},{key:"toJSON",value:function(){var e=r(f(n.prototype),"toJSON",this).call(this);return e.text=this.text,e}}]),n}(G);function Z(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var Y=function(){function e(t){m(this,e),this.validEnd=t,this.next=[],this.wrapCache=[]}return g(e,[{key:"matchType",value:function(e){for(var t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}},{key:"matchFragment",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.childCount,r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}},{key:"inlineContent",get:function(){return this.next.length&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var e=0;e<this.next.length;e++){var t=this.next[e].type;if(!t.isText&&!t.hasRequiredAttrs())return t}return null}},{key:"compatible",value:function(e){for(var t=0;t<this.next.length;t++)for(var n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}},{key:"fillBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[this];function o(i,s){var a=i.matchFragment(e,n);if(a&&(!t||a.validEnd))return C.from(s.map((function(e){return e.createAndFill()})));for(var l=0;l<i.next.length;l++){var c=i.next[l],u=c.type,d=c.next;if(!u.isText&&!u.hasRequiredAttrs()&&-1==r.indexOf(d)){r.push(d);var p=o(d,s.concat(u));if(p)return p}}return null}return o(this,[])}},{key:"findWrapping",value:function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}},{key:"computeWrapping",value:function(e){var t=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a++){var l=o.next[a],c=l.type,u=l.next;c.isLeaf||c.hasRequiredAttrs()||c.name in t||r.type&&!u.validEnd||(n.push({match:c.contentMatch,type:c,via:r}),t[c.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(e){if(e>=this.next.length)throw new RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}},{key:"toString",value:function(){var e=[];function t(n){e.push(n);for(var r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}return t(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o++)r+=(o?", ":"")+t.next[o].type.name+"->"+e.indexOf(t.next[o].next);return r})).join("\n")}}],[{key:"parse",value:function(t,n){var r=new Q(t,n);if(null==r.next)return e.empty;var o=ee(r);r.next&&r.err("Unexpected trailing text");var i=ue(ae(o));return de(i,r),i}}]),e}();Y.empty=new Y(!0);var Q=function(){function e(t,n){m(this,e),this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}return g(e,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(e){return this.next==e&&(this.pos++||!0)}},{key:"err",value:function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}]),e}();function ee(e){var t=[];do{t.push(te(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function te(e){var t=[];do{t.push(ne(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function ne(e){for(var t=se(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=oe(e,t)}return t}function re(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function oe(e,t){var n=re(e),r=n;return e.eat(",")&&(r="}"!=e.next?re(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function ie(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(t)>-1&&o.push(s)}return 0==o.length&&e.err("No node type or group '"+t+"' found"),o}function se(e){if(e.eat("(")){var t=ee(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=ie(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}function ae(e){var t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}function i(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(i(n,t))}),[]);if("seq"!=e.type){if("star"==e.type){var s=n();return r(t,s),o(i(e.expr,s),s),[r(s)]}if("plus"==e.type){var a=n();return o(i(e.expr,t),a),o(i(e.expr,a),a),[r(a)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){for(var l=t,c=0;c<e.min;c++){var u=n();o(i(e.expr,l),u),l=u}if(-1==e.max)o(i(e.expr,l),l);else for(var d=e.min;d<e.max;d++){var p=n();r(l,p),o(i(e.expr,l),p),l=p}return[r(l)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(var h=0;;h++){var f=i(e.exprs[h],t);if(h==e.exprs.length-1)return f;o(f,t=n())}}}function le(e,t){return t-e}function ce(e,t){var n=[];return r(t),n.sort(le);function r(t){var o=e[t];if(1==o.length&&!o[0].term)return r(o[0].to);n.push(t);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,l=s.to;a||-1!=n.indexOf(l)||r(l)}}}function ue(e){var t=Object.create(null);return n(ce(e,0));function n(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){for(var i,s=0;s<o.length;s++)o[s][0]==n&&(i=o[s][1]);ce(e,r).forEach((function(e){i||o.push([n,i=[]]),-1==i.indexOf(e)&&i.push(e)}))}}))}));for(var i=t[r.join(",")]=new Y(r.indexOf(e.length-1)>-1),s=0;s<o.length;s++){var a=o[s][1].sort(le);i.next.push({type:o[s][0],next:t[a.join(",")]||n(a)})}return i}}function de(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a++){var l=o.next[a],c=l.type,u=l.next;s.push(c.name),!i||c.isText||c.hasRequiredAttrs()||(i=!1),-1==r.indexOf(u)&&r.push(u)}i&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function pe(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r["default"]}return t}function he(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i["default"]}n[r]=o}return n}function fe(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new ve(e[n]);return t}var me=function(){function e(t,n,r){m(this,e),this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=fe(r.attrs),this.defaultAttrs=pe(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}return g(e,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==Y.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(e){return this==e||this.contentMatch.compatible(e.contentMatch)}},{key:"computeAttrs",value:function(e){return!e&&this.defaultAttrs?this.defaultAttrs:he(this.attrs,e)}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new G(this,this.computeAttrs(e),C.from(t),E.setFrom(n))}},{key:"createChecked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(t=C.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new G(this,this.computeAttrs(e),t,E.setFrom(n))}},{key:"createAndFill",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e=this.computeAttrs(e),t=C.from(t),t.size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t),i=o&&o.fillBefore(C.empty,!0);return i?new G(this,e,t.append(i),E.setFrom(n)):null}},{key:"validContent",value:function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}},{key:"allowsMarkType",value:function(e){return null==this.markSet||this.markSet.indexOf(e)>-1}},{key:"allowsMarks",value:function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}},{key:"allowedMarks",value:function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:E.none:e}}],[{key:"compile",value:function(t,n){var r=Object.create(null);t.forEach((function(t,o){return r[t]=new e(t,n,o)}));var o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}]),e}(),ve=function(){function e(t){m(this,e),this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this["default"]=t["default"]}return g(e,[{key:"isRequired",get:function(){return!this.hasDefault}}]),e}(),ge=function(){function e(t,n,r,o){m(this,e),this.name=t,this.rank=n,this.schema=r,this.spec=o,this.attrs=fe(o.attrs),this.excluded=null;var i=pe(this.attrs);this.instance=i?new E(this,i):null}return g(e,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!e&&this.instance?this.instance:new E(this,he(this.attrs,e))}},{key:"removeFromSet",value:function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}},{key:"isInSet",value:function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]}},{key:"excludes",value:function(e){return this.excluded.indexOf(e)>-1}}],[{key:"compile",value:function(t,n){var r=Object.create(null),o=0;return t.forEach((function(t,i){return r[t]=new e(t,o++,n,i)})),r}}]),e}(),ye=function(){function e(t){m(this,e),this.cached=Object.create(null),this.spec={nodes:k["default"].from(t.nodes),marks:k["default"].from(t.marks||{}),topNode:t.topNode},this.nodes=me.compile(this.spec.nodes,this),this.marks=ge.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],i=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[i]||(n[i]=Y.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==s?null:s?be(this,s.split(" ")):""!=s&&o.inlineContent?null:[]}for(var a in this.marks){var l=this.marks[a],c=l.spec.excludes;l.excluded=null==c?[l]:""==c?[]:be(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return g(e,[{key:"node",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof me))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}},{key:"text",value:function(e,t){var n=this.nodes.text;return new X(n,n.defaultAttrs,e,E.setFrom(t))}},{key:"mark",value:function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}},{key:"nodeFromJSON",value:function(e){return G.fromJSON(this,e)}},{key:"markFromJSON",value:function(e){return E.fromJSON(this,e)}},{key:"nodeType",value:function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}]),e}();function be(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(var a in e.marks){var l=e.marks[a];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}var we=function(){function e(t,n){var r=this;m(this,e),this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach((function(e){e.tag?r.tags.push(e):e.style&&r.styles.push(e)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))}return g(e,[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Te(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}},{key:"parseSlice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Te(this,t,!0);return n.addAll(e,t.from,t.to),A.maxOpen(n.finish())}},{key:"matchTag",value:function(e,t,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(Ne(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i||void 0}return o}}}},{key:"matchStyle",value:function(e,t,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o],s=i.style;if(!(0!=s.indexOf(e)||i.context&&!n.matchesContext(i.context)||s.length>e.length&&(61!=s.charCodeAt(e.length)||s.slice(e.length+1)!=t))){if(i.getAttrs){var a=i.getAttrs(t);if(!1===a)continue;i.attrs=a||void 0}return i}}}}],[{key:"schemaRules",value:function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var o=t[r],i=null==o.priority?50:o.priority;if(i<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=Re(e)),e.mark=t}))};for(var o in e.marks)r(o);var i=function(t){var r=e.nodes[t].spec.parseDOM;r&&r.forEach((function(e){n(e=Re(e)),e.node=t}))};for(var s in e.nodes)i(s);return t}},{key:"fromSchema",value:function(t){return t.cached.domParser||(t.cached.domParser=new e(t,e.schemaRules(t)))}}]),e}(),ke={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},xe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Se={ol:!0,ul:!0},Ce=1,_e=2,Oe=4;function Me(e,t,n){return null!=t?(t?Ce:0)|("full"===t?_e:0):e&&"pre"==e.whitespace?Ce|_e:n&~Oe}var Ee=function(){function e(t,n,r,o,i,s,a){m(this,e),this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=o,this.solid=i,this.options=a,this.content=[],this.activeMarks=E.none,this.stashMarks=[],this.match=s||(a&Oe?null:t.contentMatch)}return g(e,[{key:"findWrapping",value:function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(C.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}},{key:"finish",value:function(e){if(!(this.options&Ce)){var t,n=this.content[this.content.length-1];if(n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))){var r=n;n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-t[0].length))}}var o=C.from(this.content);return!e&&this.match&&(o=o.append(this.match.fillBefore(C.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o}},{key:"popFromStashMark",value:function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}},{key:"applyPending",value:function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):Ie(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}},{key:"inlineContext",value:function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!ke.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}]),e}(),Te=function(){function e(t,n,r){m(this,e),this.parser=t,this.options=n,this.isOpen=r,this.open=0;var o,i=n.topNode,s=Me(null,n.preserveWhitespace,0)|(r?Oe:0);o=i?new Ee(i.type,i.attrs,E.none,E.none,!0,n.topMatch||i.type.contentMatch,s):new Ee(r?null:t.schema.topNodeType,null,E.none,E.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}return g(e,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(De(t)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}}},{key:"addTextNode",value:function(e){var t=e.nodeValue,n=this.top;if(n.options&_e||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&Ce)t=n.options&_e?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}},{key:"addElement",value:function(e,t){var n,r=e.nodeName.toLowerCase();Se.hasOwnProperty(r)&&this.parser.normalizeLists&&Ae(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:xe.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var i,s=this.top,a=this.needsBlock;if(ke.hasOwnProperty(r))i=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),i&&this.sync(s),this.needsBlock=a}else this.addElementByRule(e,o,!1===o.consuming?n:void 0)}},{key:"leafFallback",value:function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}},{key:"ignoreFallback",value:function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}},{key:"readStyles",value:function(e){var t=E.none;e:for(var n=0;n<e.length;n+=2)for(var r=void 0;;){var o=this.parser.matchStyle(e[n],e[n+1],this,r);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;r=o}return t}},{key:"addElementByRule",value:function(e,t,n){var r,o,i,s=this;if(t.node)o=this.parser.schema.nodes[t.node],o.isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs||null,t.preserveWhitespace);else{var a=this.parser.schema.marks[t.mark];i=a.create(t.attrs),this.addPendingMark(i)}var l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return s.insertNode(e)}));else{var c=e;"string"==typeof t.contentElement?c=e.querySelector(t.contentElement):"function"==typeof t.contentElement?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c)}r&&this.sync(l)&&this.open--,i&&this.removePendingMark(i,l)}},{key:"addAll",value:function(e,t,n){for(var r=t||0,o=t?e.childNodes[t]:e.firstChild,i=null==n?null:e.childNodes[n];o!=i;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o);this.findAtPoint(e,r)}},{key:"findPlace",value:function(e){for(var t,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var s=0;s<t.length;s++)this.enterInner(t[s],null,!1);return!0}},{key:"insertNode",value:function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}},{key:"enter",value:function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}},{key:"enterInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);var i=Me(e,r,o.options);o.options&Oe&&0==o.content.length&&(i|=Oe),this.nodes.push(new Ee(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++}},{key:"closeExtra",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}},{key:"sync",value:function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e}},{key:"findAtPoint",value:function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}},{key:"findInside",value:function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}},{key:"findAround",value:function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){var o=t.compareDocumentPosition(this.find[r].node);o&(n?2:4)&&(this.find[r].pos=this.currentPos)}}},{key:"findInText",value:function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}},{key:"matchesContext",value:function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function e(s,a){for(;s>=0;s--){var l=n[s];if(""==l){if(s==n.length-1||0==s)continue;for(;a>=i;a--)if(e(s-1,a))return!0;return!1}var c=a>0||0==a&&o?t.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;a--}return!0};return s(n.length-1,this.open)}},{key:"textblockFromContext",value:function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}}},{key:"addPendingMark",value:function(e){var t=Pe(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}},{key:"removePendingMark",value:function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n],o=r.pendingMarks.lastIndexOf(e);if(o>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var i=r.popFromStashMark(e);i&&r.type&&r.type.allowsMarkType(i.type)&&(r.activeMarks=i.addToSet(r.activeMarks))}if(r==t)break}}}]),e}();function Ae(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&Se.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}function Ne(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function De(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(t=n.exec(e))r.push(t[1],t[2].trim());return r}function Re(e){var t={};for(var n in e)t[n]=e[n];return t}function Ie(e,t){var n=t.schema.nodes,r=function(r){var o=n[r];if(!o.allowsMarkType(e))return"continue";var i=[],s=function e(n){i.push(n);for(var r=0;r<n.edgeCount;r++){var o=n.edge(r),s=o.type,a=o.next;if(s==t)return!0;if(i.indexOf(a)<0&&e(a))return!0}};return s(o.contentMatch)?{v:!0}:void 0};for(var o in n){var i=r(o);if("continue"!==i&&"object"===y(i))return i.v}}function Pe(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}var ze=function(){function e(t,n){m(this,e),this.nodes=t,this.marks=n}return g(e,[{key:"serializeFragment",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;r||(r=je(n).createDocumentFragment());var o=r,i=[];return e.forEach((function(e){if(i.length||e.marks.length){var r=0,s=0;while(r<i.length&&s<e.marks.length){var a=e.marks[s];if(t.marks[a.type.name]){if(!a.eq(i[r][0])||!1===a.type.spec.spanning)break;r++,s++}else s++}while(r<i.length)o=i.pop()[1];while(s<e.marks.length){var l=e.marks[s++],c=t.serializeMark(l,e.isInline,n);c&&(i.push([l,o]),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(t.serializeNodeInner(e,n))})),r}},{key:"serializeNodeInner",value:function(t,n){var r=e.renderSpec(je(n),this.nodes[t.type.name](t)),o=r.dom,i=r.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return o}},{key:"serializeNode",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(e,t),r=e.marks.length-1;r>=0;r--){var o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}},{key:"serializeMark",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.marks[t.type.name];return o&&e.renderSpec(je(r),o(t,n))}}],[{key:"renderSpec",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"==typeof n)return{dom:t.createTextNode(n)};if(null!=n.nodeType)return{dom:n};if(n.dom&&null!=n.dom.nodeType)return n;var o,i=n[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));var a=r?t.createElementNS(r,i):t.createElement(i),l=n[1],c=1;if(l&&"object"==y(l)&&null==l.nodeType&&!Array.isArray(l))for(var u in c=2,l)if(null!=l[u]){var d=u.indexOf(" ");d>0?a.setAttributeNS(u.slice(0,d),u.slice(d+1),l[u]):a.setAttribute(u,l[u])}for(var p=c;p<n.length;p++){var h=n[p];if(0===h){if(p<n.length-1||p>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var f=e.renderSpec(t,h,r),m=f.dom,v=f.contentDOM;if(a.appendChild(m),v){if(o)throw new RangeError("Multiple content holes");o=v}}return{dom:a,contentDOM:o}}},{key:"fromSchema",value:function(t){return t.cached.domSerializer||(t.cached.domSerializer=new e(this.nodesFromSchema(t),this.marksFromSchema(t)))}},{key:"nodesFromSchema",value:function(e){var t=$e(e.nodes);return t.text||(t.text=function(e){return e.text}),t}},{key:"marksFromSchema",value:function(e){return $e(e.marks)}}]),e}();function $e(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function je(e){return e.document||window.document}t.ContentMatch=Y,t.DOMParser=we,t.DOMSerializer=ze,t.Fragment=C,t.Mark=E,t.MarkType=ge,t.Node=G,t.NodeRange=J,t.NodeType=me,t.ReplaceError=T,t.ResolvedPos=q,t.Schema=ye,t.Slice=A},2391:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}function i(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=p(e),null===e)break;return e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0});var v=n(9443),g=n(2843),y=Object.create(null),b=function(){function e(t,n,r){h(this,e),this.$anchor=t,this.$head=n,this.ranges=r||[new w(t.min(n),t.max(n))]}return m(e,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.Slice.empty,n=t.content.lastChild,r=null,o=0;o<t.openEnd;o++)r=n,n=n.lastChild;for(var i=e.steps.length,s=this.ranges,a=0;a<s.length;a++){var l=s[a],c=l.$from,u=l.$to,d=e.mapping.slice(i);e.replaceRange(d.map(c.pos),d.map(u.pos),a?v.Slice.empty:t),0==a&&A(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],s=i.$from,a=i.$to,l=e.mapping.slice(n),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),A(e,n,t.isInline?-1:1))}}},{key:"getBookmark",value:function(){return S.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.parent.inlineContent?new S(e):T(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?T(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):T(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}return null}},{key:"near",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(e,t)||this.findFrom(e,-t)||new M(e.node(0))}},{key:"atStart",value:function(e){return T(e,e,0,0,1)||new M(e)}},{key:"atEnd",value:function(e){return T(e,e,e.content.size,e.childCount,-1)||new M(e)}},{key:"fromJSON",value:function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=y[t.type];if(!n)throw new RangeError("No selection type ".concat(t.type," defined"));return n.fromJSON(e,t)}},{key:"jsonID",value:function(e,t){if(e in y)throw new RangeError("Duplicate use of selection JSON ID "+e);return y[e]=t,t.prototype.jsonID=e,t}}]),e}();b.prototype.visible=!0;var w=m((function e(t,n){h(this,e),this.$from=t,this.$to=n})),k=!1;function x(e){k||e.parent.inlineContent||(k=!0,console["warn"]("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}var S=function(e){s(n,e);var t=l(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return h(this,n),x(e),x(r),t.call(this,e,r)}return m(n,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(e,t){var r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return b.near(r);var o=e.resolve(t.map(this.anchor));return new n(o.parent.inlineContent?o:r,r)}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.Slice.empty;if(o(p(n.prototype),"replace",this).call(this,e,t),t==v.Slice.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}},{key:"eq",value:function(e){return e instanceof n&&e.anchor==this.anchor&&e.head==this.head}},{key:"getBookmark",value:function(){return new C(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new n(e.resolve(t.anchor),e.resolve(t.head))}},{key:"create",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}},{key:"between",value:function(e,t,r){var o=e.pos-t.pos;if(r&&!o||(r=o>=0?1:-1),!t.parent.inlineContent){var i=b.findFrom(t,r,!0)||b.findFrom(t,-r,!0);if(!i)return b.near(t,r);t=i.$head}return e.parent.inlineContent||(0==o?e=t:(e=(b.findFrom(e,-r,!0)||b.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=o<0&&(e=t))),new n(e,t)}}]),n}(b);b.jsonID("text",S);var C=function(){function e(t,n){h(this,e),this.anchor=t,this.head=n}return m(e,[{key:"map",value:function(t){return new e(t.map(this.anchor),t.map(this.head))}},{key:"resolve",value:function(e){return S.between(e.resolve(this.anchor),e.resolve(this.head))}}]),e}(),_=function(e){s(n,e);var t=l(n);function n(e){var r;h(this,n);var o=e.nodeAfter,i=e.node(0).resolve(e.pos+o.nodeSize);return r=t.call(this,e,i),r.node=o,r}return m(n,[{key:"map",value:function(e,t){var r=t.mapResult(this.anchor),o=r.deleted,i=r.pos,s=e.resolve(i);return o?b.near(s):new n(s)}},{key:"content",value:function(){return new v.Slice(v.Fragment.from(this.node),0,0)}},{key:"eq",value:function(e){return e instanceof n&&e.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new O(this.anchor)}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new n(e.resolve(t.anchor))}},{key:"create",value:function(e,t){return new n(e.resolve(t))}},{key:"isSelectable",value:function(e){return!e.isText&&!1!==e.type.spec.selectable}}]),n}(b);_.prototype.visible=!1,b.jsonID("node",_);var O=function(){function e(t){h(this,e),this.anchor=t}return m(e,[{key:"map",value:function(t){var n=t.mapResult(this.anchor),r=n.deleted,o=n.pos;return r?new C(o,o):new e(o)}},{key:"resolve",value:function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&_.isSelectable(n)?new _(t):b.near(t)}}]),e}(),M=function(e){s(n,e);var t=l(n);function n(e){return h(this,n),t.call(this,e.resolve(0),e.resolve(e.content.size))}return m(n,[{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.Slice.empty;if(t==v.Slice.empty){e["delete"](0,e.doc.content.size);var r=b.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else o(p(n.prototype),"replace",this).call(this,e,t)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(e){return new n(e)}},{key:"eq",value:function(e){return e instanceof n}},{key:"getBookmark",value:function(){return E}}],[{key:"fromJSON",value:function(e){return new n(e)}}]),n}(b);b.jsonID("all",M);var E={map:function(){return this},resolve:function(e){return new M(e)}};function T(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t.inlineContent)return S.create(e,n);for(var s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){var a=t.child(s);if(a.isAtom){if(!i&&_.isSelectable(a))return _.create(e,n-(o<0?a.nodeSize:0))}else{var l=T(e,a,n+o,o<0?a.childCount:0,o,i);if(l)return l}n+=a.nodeSize*o}return null}function A(e,t,n){var r=e.steps.length-1;if(!(r<t)){var o=e.steps[r];if(o instanceof g.ReplaceStep||o instanceof g.ReplaceAroundStep){var i,s=e.mapping.maps[r];s.forEach((function(e,t,n,r){null==i&&(i=r)})),e.setSelection(b.near(e.doc.resolve(i),n))}}}var N=1,D=2,R=4,I=function(e){s(n,e);var t=l(n);function n(e){var r;return h(this,n),r=t.call(this,e.doc),r.curSelectionFor=0,r.updated=0,r.meta=Object.create(null),r.time=Date.now(),r.curSelection=e.selection,r.storedMarks=e.storedMarks,r}return m(n,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|N)&~D,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(this.updated&N)>0}},{key:"setStoredMarks",value:function(e){return this.storedMarks=e,this.updated|=D,this}},{key:"ensureMarks",value:function(e){return v.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}},{key:"addStoredMark",value:function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(this.updated&D)>0}},{key:"addStep",value:function(e,t){o(p(n.prototype),"addStep",this).call(this,e,t),this.updated=this.updated&~D,this.storedMarks=null}},{key:"setTime",value:function(e){return this.time=e,this}},{key:"replaceSelection",value:function(e){return this.selection.replace(this,e),this}},{key:"replaceSelectionWith",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||v.Mark.none))),n.replaceWith(this,e),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(e,t,n){var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(b.near(this.selection.$to)),this}},{key:"setMeta",value:function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}},{key:"getMeta",value:function(e){return this.meta["string"==typeof e?e:e.key]}},{key:"isGeneric",get:function(){for(var e in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=R,this}},{key:"scrolledIntoView",get:function(){return(this.updated&R)>0}}]),n}(g.Transform);function P(e,t){return t&&e?e.bind(t):e}var z=m((function e(t,n,r){h(this,e),this.name=t,this.init=P(n.init,r),this.apply=P(n.apply,r)})),$=[new z("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new z("selection",{init:function(e,t){return e.selection||b.atStart(t.doc)},apply:function(e){return e.selection}}),new z("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new z("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],j=m((function e(t,n){var r=this;h(this,e),this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=$.slice(),n&&n.forEach((function(e){if(r.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");r.plugins.push(e),r.pluginsByKey[e.key]=e,e.spec.state&&r.fields.push(new z(e.key,e.spec.state,e))}))})),F=function(){function e(t){h(this,e),this.config=t}return m(e,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(e){return this.applyTransaction(e).state}},{key:"filterTransaction",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}},{key:"applyTransaction",value:function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=r?r[i].n:0,l=r?r[i].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}},{key:"applyInner",value:function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new e(this.config),r=this.config.fields,o=0;o<r.length;o++){var i=r[o];n[i.name]=i.apply(t,this[i.name],this,n)}return n}},{key:"tr",get:function(){return new I(this)}},{key:"reconfigure",value:function(t){for(var n=new j(this.schema,t.plugins),r=n.fields,o=new e(n),i=0;i<r.length;i++){var s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(t,o)}return o}},{key:"toJSON",value:function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==r(e))for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=e[n],i=o.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(o,this[o.key]))}return t}}],[{key:"create",value:function(t){for(var n=new j(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new e(n),o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(t,r);return r}},{key:"fromJSON",value:function(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var o=new j(t.schema,t.plugins),i=new e(o);return o.fields.forEach((function(e){if("doc"==e.name)i.doc=v.Node.fromJSON(t.schema,n.doc);else if("selection"==e.name)i.selection=b.fromJSON(i.doc,n.selection);else if("storedMarks"==e.name)n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(var o in r){var s=r[o],a=s.spec.state;if(s.key==e.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(n,o))return void(i[e.name]=a.fromJSON.call(s,t,n[o],i))}i[e.name]=e.init(t,i)}})),i}}]),e}();function B(e,t,n){for(var r in e){var o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=B(o,t,{})),n[r]=o}return n}var L=function(){function e(t){h(this,e),this.spec=t,this.props={},t.props&&B(t.props,this,this.props),this.key=t.key?t.key.key:q("plugin")}return m(e,[{key:"getState",value:function(e){return e[this.key]}}]),e}(),V=Object.create(null);function q(e){return e in V?e+"$"+ ++V[e]:(V[e]=0,e+"$")}var H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";h(this,e),this.key=q(t)}return m(e,[{key:"get",value:function(e){return e.config.pluginsByKey[this.key]}},{key:"getState",value:function(e){return e[this.key]}}]),e}();t.AllSelection=M,t.EditorState=F,t.NodeSelection=_,t.Plugin=L,t.PluginKey=H,t.Selection=b,t.SelectionRange=w,t.TextSelection=S,t.Transaction=I},2843:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||!s(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,h(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},o(e)}function i(e,t,n){return i=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),i=new o;return n&&l(i,n.prototype),i},i.apply(null,arguments)}function s(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0});var g=n(9443),y=65535,b=Math.pow(2,16);function w(e,t){return e+t*b}function k(e){return e&y}function x(e){return(e-(e&y))/b}var S=1,C=2,_=4,O=8,M=function(){function e(t,n,r){f(this,e),this.pos=t,this.delInfo=n,this.recover=r}return v(e,[{key:"deleted",get:function(){return(this.delInfo&O)>0}},{key:"deletedBefore",get:function(){return(this.delInfo&(S|_))>0}},{key:"deletedAfter",get:function(){return(this.delInfo&(C|_))>0}},{key:"deletedAcross",get:function(){return(this.delInfo&_)>0}}]),e}(),E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(f(this,e),this.ranges=t,this.inverted=n,!t.length&&e.empty)return e.empty}return v(e,[{key:"recover",value:function(e){var t=0,n=k(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+x(e)}},{key:"mapResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!0)}},{key:"_map",value:function(e,t,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>e)break;var l=this.ranges[s+o],c=this.ranges[s+i],u=a+l;if(e<=u){var d=l?e==a?-1:e==u?1:t:t,p=a+r+(d<0?0:c);if(n)return p;var h=e==(t<0?a:u)?null:w(s/3,e-a),f=e==a?C:e==u?S:_;return(t<0?e!=a:e!=u)&&(f|=O),new M(p,f,h)}r+=c-l}return n?e+r:new M(e+r,0,null)}},{key:"touches",value:function(e,t){for(var n=0,r=k(t),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>e)break;var l=this.ranges[s+o],c=a+l;if(e<=c&&s==3*r)return!0;n+=this.ranges[s+i]-l}return!1}},{key:"forEach",value:function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,a,a+c),o+=c-l}}},{key:"invert",value:function(){return new e(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(t){return 0==t?e.empty:new e(t<0?[0,-t,0]:[0,0,t])}}]),e}();E.empty=new E([]);var T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;f(this,e),this.maps=t,this.mirror=n,this.from=r,this.to=o}return v(e,[{key:"slice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new e(this.maps,this.mirror,t,n)}},{key:"copy",value:function(){return new e(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}},{key:"appendMap",value:function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}},{key:"appendMapping",value:function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}},{key:"getMirror",value:function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}},{key:"setMirror",value:function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}},{key:"appendMappingInverted",value:function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}},{key:"invert",value:function(){var t=new e;return t.appendMappingInverted(this),t}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}},{key:"mapResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}},{key:"_map",value:function(e,t,n){for(var r=0,o=this.from;o<this.to;o++){var i=this.maps[o],s=i.mapResult(e,t);if(null!=s.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,e=this.maps[a].recover(s.recover);continue}}r|=s.delInfo,e=s.pos}return n?e:new M(e,r,null)}}]),e}(),A=Object.create(null),N=function(){function e(){f(this,e)}return v(e,[{key:"getMap",value:function(){return E.empty}},{key:"merge",value:function(e){return null}}],[{key:"fromJSON",value:function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=A[t.stepType];if(!n)throw new RangeError("No step type ".concat(t.stepType," defined"));return n.fromJSON(e,t)}},{key:"jsonID",value:function(e,t){if(e in A)throw new RangeError("Duplicate use of step JSON ID "+e);return A[e]=t,t.prototype.jsonID=e,t}}]),e}(),D=function(){function e(t,n){f(this,e),this.doc=t,this.failed=n}return v(e,null,[{key:"ok",value:function(t){return new e(t,null)}},{key:"fail",value:function(t){return new e(null,t)}},{key:"fromReplace",value:function(t,n,r,o){try{return e.ok(t.replace(n,r,o))}catch(i){if(i instanceof g.ReplaceError)return e.fail(i.message);throw i}}}]),e}();function R(e,t,n){for(var r=[],o=0;o<e.childCount;o++){var i=e.child(o);i.content.size&&(i=i.copy(R(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return g.Fragment.fromArray(r)}var I=function(e){a(n,e);var t=c(n);function n(e,r,o){var i;return f(this,n),i=t.call(this),i.from=e,i.to=r,i.mark=o,i}return v(n,[{key:"apply",value:function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new g.Slice(R(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),o),n.openStart,n.openEnd);return D.fromReplace(e,this.from,this.to,i)}},{key:"invert",value:function(){return new P(this.from,this.to,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new n(t.pos,r.pos,this.mark)}},{key:"merge",value:function(e){return e instanceof n&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new n(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new n(t.from,t.to,e.markFromJSON(t.mark))}}]),n}(N);N.jsonID("addMark",I);var P=function(e){a(n,e);var t=c(n);function n(e,r,o){var i;return f(this,n),i=t.call(this),i.from=e,i.to=r,i.mark=o,i}return v(n,[{key:"apply",value:function(e){var t=this,n=e.slice(this.from,this.to),r=new g.Slice(R(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))}),e),n.openStart,n.openEnd);return D.fromReplace(e,this.from,this.to,r)}},{key:"invert",value:function(){return new I(this.from,this.to,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new n(t.pos,r.pos,this.mark)}},{key:"merge",value:function(e){return e instanceof n&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new n(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new n(t.from,t.to,e.markFromJSON(t.mark))}}]),n}(N);N.jsonID("removeMark",P);var z=function(e){a(n,e);var t=c(n);function n(e,r){var o;return f(this,n),o=t.call(this),o.pos=e,o.mark=r,o}return v(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return D.fail("No node at mark step's position");var n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return D.fromReplace(e,this.pos,this.pos+1,new g.Slice(g.Fragment.from(n),0,t.isLeaf?0:1))}},{key:"invert",value:function(e){var t=e.nodeAt(this.pos);if(t){var r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(var o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new n(this.pos,t.marks[o]);return new n(this.pos,this.mark)}}return new $(this.pos,this.mark)}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new n(t.pos,e.markFromJSON(t.mark))}}]),n}(N);N.jsonID("addNodeMark",z);var $=function(e){a(n,e);var t=c(n);function n(e,r){var o;return f(this,n),o=t.call(this),o.pos=e,o.mark=r,o}return v(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return D.fail("No node at mark step's position");var n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return D.fromReplace(e,this.pos,this.pos+1,new g.Slice(g.Fragment.from(n),0,t.isLeaf?0:1))}},{key:"invert",value:function(e){var t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new z(this.pos,this.mark):this}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new n(t.pos,e.markFromJSON(t.mark))}}]),n}(N);N.jsonID("removeNodeMark",$);var j=function(e){a(n,e);var t=c(n);function n(e,r,o){var i,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return f(this,n),i=t.call(this),i.from=e,i.to=r,i.slice=o,i.structure=s,i}return v(n,[{key:"apply",value:function(e){return this.structure&&B(e,this.from,this.to)?D.fail("Structure replace would overwrite content"):D.fromReplace(e,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new E([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(e){return new n(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new n(t.pos,Math.max(t.pos,r.pos),this.slice)}},{key:"merge",value:function(e){if(!(e instanceof n)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var t=this.slice.size+e.slice.size==0?g.Slice.empty:new g.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new n(e.from,this.to,t,this.structure)}var r=this.slice.size+e.slice.size==0?g.Slice.empty:new g.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new n(this.from,this.to+(e.to-e.from),r,this.structure)}},{key:"toJSON",value:function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new n(t.from,t.to,g.Slice.fromJSON(e,t.slice),!!t.structure)}}]),n}(N);N.jsonID("replace",j);var F=function(e){a(n,e);var t=c(n);function n(e,r,o,i,s,a){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return f(this,n),l=t.call(this),l.from=e,l.to=r,l.gapFrom=o,l.gapTo=i,l.slice=s,l.insert=a,l.structure=c,l}return v(n,[{key:"apply",value:function(e){if(this.structure&&(B(e,this.from,this.gapFrom)||B(e,this.gapTo,this.to)))return D.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return D.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?D.fromReplace(e,this.from,this.to,n):D.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new E([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(e){var t=this.gapTo-this.gapFrom;return new n(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(e){var t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||i>r.pos?null:new n(t.pos,r.pos,o,i,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new n(t.from,t.to,t.gapFrom,t.gapTo,g.Slice.fromJSON(e,t.slice),t.insert,!!t.structure)}}]),n}(N);function B(e,t,n){var r=e.resolve(t),o=n-t,i=r.depth;while(o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount)i--,o--;if(o>0){var s=r.node(i).maybeChild(r.indexAfter(i));while(o>0){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function L(e,t,n,r){var o,i,s=[],a=[];e.doc.nodesBetween(t,n,(function(e,l,c){if(e.isInline){var u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){for(var d=Math.max(l,t),p=Math.min(l+e.nodeSize,n),h=r.addToSet(u),f=0;f<u.length;f++)u[f].isInSet(h)||(o&&o.to==d&&o.mark.eq(u[f])?o.to=p:s.push(o=new P(d,p,u[f])));i&&i.to==d?i.to=p:a.push(i=new I(d,p,r))}}})),s.forEach((function(t){return e.step(t)})),a.forEach((function(t){return e.step(t)}))}function V(e,t,n,r){var o=[],i=0;e.doc.nodesBetween(t,n,(function(e,s){if(e.isInline){i++;var a=null;if(r instanceof g.MarkType){var l,c=e.marks;while(l=r.isInSet(c))(a||(a=[])).push(l),c=l.removeFromSet(c)}else r?r.isInSet(e.marks)&&(a=[r]):a=e.marks;if(a&&a.length)for(var u=Math.min(s+e.nodeSize,n),d=0;d<a.length;d++){for(var p=a[d],h=void 0,f=0;f<o.length;f++){var m=o[f];m.step==i-1&&p.eq(o[f].style)&&(h=m)}h?(h.to=u,h.step=i):o.push({style:p,from:Math.max(s,t),to:u,step:i})}}})),o.forEach((function(t){return e.step(new P(t.from,t.to,t.style))}))}function q(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,o=e.doc.nodeAt(t),i=[],s=t+1,a=0;a<o.childCount;a++){var l=o.child(a),c=s+l.nodeSize,u=r.matchType(l.type);if(u){r=u;for(var d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||e.step(new P(s,c,l.marks[d]))}else i.push(new j(s,c,g.Slice.empty));s=c}if(!r.validEnd){var p=r.fillBefore(g.Fragment.empty,!0);e.replace(s,s,new g.Slice(p,0,0))}for(var h=i.length-1;h>=0;h--)e.step(i[h])}function H(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function W(e){for(var t=e.parent,n=t.content.cutByIndex(e.startIndex,e.endIndex),r=e.depth;;--r){var o=e.$from.node(r),i=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&o.canReplace(i,s,n))return r;if(0==r||o.type.spec.isolating||!H(o,i,s))break}return null}function U(e,t,n){for(var r=t.$from,o=t.$to,i=t.depth,s=r.before(i+1),a=o.after(i+1),l=s,c=a,u=g.Fragment.empty,d=0,p=i,h=!1;p>n;p--)h||r.index(p)>0?(h=!0,u=g.Fragment.from(r.node(p).copy(u)),d++):l--;for(var f=g.Fragment.empty,m=0,v=i,y=!1;v>n;v--)y||o.after(v+1)<o.end(v)?(y=!0,f=g.Fragment.from(o.node(v).copy(f)),m++):c++;e.step(new F(l,c,s,a,new g.Slice(u.append(f),d,m),u.size-d,!0))}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=G(e,t),i=o&&X(r,t);return i?o.map(K).concat({type:t,attrs:n}).concat(i.map(K)):null}function K(e){return{type:e,attrs:null}}function G(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var s=i.length?i[0]:t;return n.canReplaceWith(r,o,s)?i:null}function X(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),s=t.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=s.length?s[s.length-1]:t,l=a.contentMatch,c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return l&&l.validEnd?s:null}function Z(e,t,n){for(var r=g.Fragment.empty,o=n.length-1;o>=0;o--){if(r.size){var i=n[o].type.contentMatch.matchFragment(r);if(!i||!i.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=g.Fragment.from(n[o].type.create(n[o].attrs,r))}var s=t.start,a=t.end;e.step(new F(s,a,s,a,new g.Slice(r,0,0),n.length,!0))}function Y(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=e.steps.length;e.doc.nodesBetween(t,n,(function(t,n){if(t.isTextblock&&!t.hasMarkup(r,o)&&Q(e.doc,e.mapping.slice(i).map(n),r)){e.clearIncompatible(e.mapping.slice(i).map(n,1),r);var s=e.mapping.slice(i),a=s.map(n,1),l=s.map(n+t.nodeSize,1);return e.step(new F(a,l,a+1,l-1,new g.Slice(g.Fragment.from(r.create(o,null,t.marks)),0,0),1,!0)),!1}}))}function Q(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function ee(e,t,n,r,o){var i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);var s=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new F(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new g.Slice(g.Fragment.from(s),0,0),1,!0))}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,l=n-2;a>i;a--,l--){var c=o.node(a),u=o.index(a);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(u,c.childCount),p=r&&r[l]||c;if(p!=c&&(d=d.replaceChild(0,p.type.create(p.attrs))),!c.canReplace(u+1,c.childCount)||!p.type.validContent(d))return!1}var h=o.indexAfter(i),f=r&&r[0];return o.node(i).canReplaceWith(h,h,f?f.type:o.node(i+1).type)}function ne(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.doc.resolve(t),i=g.Fragment.empty,s=g.Fragment.empty,a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){i=g.Fragment.from(o.node(a).copy(i));var u=r&&r[c];s=g.Fragment.from(u?u.type.create(u.attrs,s):o.node(a).copy(s))}e.step(new j(t,t,new g.Slice(i.append(s),n,n),!0))}function re(e,t){var n=e.resolve(t),r=n.index();return oe(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function oe(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function ie(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=e.resolve(t),o=r.depth;;o--){var i=void 0,s=void 0,a=r.index(o);if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),a++,s=r.node(o).maybeChild(a)):(i=r.node(o).maybeChild(a-1),s=r.node(o+1)),i&&!i.isTextblock&&oe(i,s)&&r.node(o).canReplace(a,a+1))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}}function se(e,t,n){var r=new j(t-n,t+n,g.Slice.empty,!0);e.step(r)}function ae(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}return null}function le(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0),u=r.node(a),d=!1;if(1==s)d=u.canReplace(c,c,o);else{var p=u.contentMatchAt(c).findWrapping(o.firstChild.type);d=p&&u.canReplaceWith(c,c,p[0])}if(d)return 0==l?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.Slice.empty;if(t==n&&!r.size)return null;var o=e.resolve(t),i=e.resolve(n);return ue(o,i,r)?new j(t,n,r):new de(o,i,r).fit()}function ue(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}N.jsonID("replaceAround",F);var de=function(){function e(t,n,r){f(this,e),this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=g.Fragment.empty;for(var o=0;o<=t.depth;o++){var i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}for(var s=t.depth;s>0;s--)this.placed=g.Fragment.from(t.node(s).copy(this.placed))}return v(e,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){while(this.unplaced.size){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;var i=this.placed,s=r.depth,a=o.depth;while(s&&a&&1==i.childCount)i=i.firstChild.content,s--,a--;var l=new g.Slice(i,s,a);return t>-1?new F(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new j(r.pos,o.pos,l):null}},{key:"findFittable",value:function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--){var n=void 0,r=null;t?(r=fe(this.unplaced.content,t-1).firstChild,n=r.content):n=this.unplaced.content;for(var o=n.firstChild,i=this.depth;i>=0;i--){var s=this.frontier[i],a=s.type,l=s.match,c=void 0,u=null;if(1==e&&(o?l.matchType(o.type)||(u=l.fillBefore(g.Fragment.from(o),!1)):r&&a.compatibleContent(r.type)))return{sliceDepth:t,frontierDepth:i,parent:r,inject:u};if(2==e&&o&&(c=l.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:i,parent:r,wrap:c};if(r&&l.matchType(r.type))break}}}},{key:"openMore",value:function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=fe(t,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new g.Slice(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}},{key:"dropNode",value:function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=fe(t,n);if(o.childCount<=1&&n>0){var i=t.size-n<=n+o.size;this.unplaced=new g.Slice(pe(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new g.Slice(pe(t,n,1),n,r)}},{key:"placeNodes",value:function(e){var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,o=e.inject,i=e.wrap;while(this.depth>n)this.closeFrontierNode();if(i)for(var s=0;s<i.length;s++)this.openFrontierNode(i[s]);var a=this.unplaced,l=r?r.content:a.content,c=a.openStart-t,u=0,d=[],p=this.frontier[n],h=p.match,f=p.type;if(o){for(s=0;s<o.childCount;s++)d.push(o.child(s));h=h.matchFragment(o)}var m=l.size+t-(a.content.size-a.openEnd);while(u<l.childCount){var v=l.child(u),y=h.matchType(v.type);if(!y)break;u++,(u>1||0==c||v.content.size)&&(h=y,d.push(me(v.mark(f.allowedMarks(v.marks)),1==u?c:0,u==l.childCount?m:-1)))}var b=u==l.childCount;b||(m=-1),this.placed=he(this.placed,n,g.Fragment.from(d)),this.frontier[n].match=h,b&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var w=0,k=l;w<m;w++){var x=k.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),k=x.content}this.unplaced=b?0==t?g.Slice.empty:new g.Slice(pe(a.content,t-1,1),t-1,m<0?a.openEnd:t-1):new g.Slice(pe(a.content,t,u),a.openStart,a.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!ve(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;var n=this.$to.depth,r=this.$to.after(n);while(n>1&&r==this.$to.end(--n))++r;return r}},{key:"findCloseLevel",value:function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=ve(e,t,o,r,i);if(s){for(var a=t-1;a>=0;a--){var l=this.frontier[a],c=l.match,u=l.type,d=ve(e,a,u,c,!0);if(!d||d.childCount)continue e}return{depth:t,fit:s,move:i?e.doc.resolve(e.after(t+1)):e}}}}},{key:"close",value:function(e){var t=this.findCloseLevel(e);if(!t)return null;while(this.depth>t.depth)this.closeFrontierNode();t.fit.childCount&&(this.placed=he(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e}},{key:"openFrontierNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=he(this.placed,this.depth,g.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}},{key:"closeFrontierNode",value:function(){var e=this.frontier.pop(),t=e.match.fillBefore(g.Fragment.empty,!0);t.childCount&&(this.placed=he(this.placed,this.frontier.length,t))}}]),e}();function pe(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(pe(e.firstChild.content,t-1,n)))}function he(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(he(e.lastChild.content,t-1,n)))}function fe(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function me(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,me(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(g.Fragment.empty,!0)))),e.copy(r)}function ve(e,t,n,r,o){var i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!ge(n,i.content,s)?a:null}function ge(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function ye(e){return e.spec.defining||e.spec.definingForContent}function be(e,t,n,r){if(!r.size)return e.deleteRange(t,n);var o=e.doc.resolve(t),i=e.doc.resolve(n);if(ue(o,i,r))return e.step(new j(t,n,r));var s=Se(o,e.doc.resolve(n));0==s[s.length-1]&&s.pop();var a=-(o.depth+1);s.unshift(a);for(var l=o.depth,c=o.pos-1;l>0;l--,c--){var u=o.node(l).type.spec;if(u.defining||u.definingAsContext||u.isolating)break;s.indexOf(l)>-1?a=l:o.before(l)==c&&s.splice(1,0,-l)}for(var d=s.indexOf(a),p=[],h=r.openStart,f=r.content,m=0;;m++){var v=f.firstChild;if(p.push(v),m==r.openStart)break;f=v.content}for(var y=h-1;y>=0;y--){var b=p[y].type,w=ye(b);if(w&&o.node(d).type!=b)h=y;else if(w||!b.isTextblock)break}for(var k=r.openStart;k>=0;k--){var x=(k+h+1)%(r.openStart+1),S=p[x];if(S)for(var C=0;C<s.length;C++){var _=s[(C+d)%s.length],O=!0;_<0&&(O=!1,_=-_);var M=o.node(_-1),E=o.index(_-1);if(M.canReplaceWith(E,E,S.type,S.marks))return e.replace(o.before(_),O?i.after(_):n,new g.Slice(we(r.content,0,r.openStart,x),x,r.openEnd))}}for(var T=e.steps.length,A=s.length-1;A>=0;A--){if(e.replace(t,n,r),e.steps.length>T)break;var N=s[A];N<0||(t=o.before(N),n=i.after(N))}}function we(e,t,n,r,o){if(t<n){var i=e.firstChild;e=e.replaceChild(0,i.copy(we(i.content,t+1,n,r,i)))}if(t>r){var s=o.contentMatchAt(0),a=s.fillBefore(e).append(e);e=a.append(s.matchFragment(a).fillBefore(g.Fragment.empty,!0))}return e}function ke(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){var o=ae(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new g.Slice(g.Fragment.from(r),0,0))}function xe(e,t,n){for(var r=e.doc.resolve(t),o=e.doc.resolve(n),i=Se(r,o),s=0;s<i.length;s++){var a=i[s],l=s==i.length-1;if(l&&0==a||r.node(a).type.contentMatch.validEnd)return e["delete"](r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return e["delete"](r.before(a),o.after(a))}for(var c=1;c<=r.depth&&c<=o.depth;c++)if(t-r.start(c)==r.depth-c&&n>r.end(c)&&o.end(c)-n!=o.depth-c)return e["delete"](r.before(c),n);e["delete"](t,n)}function Se(e,t){for(var n=[],r=Math.min(e.depth,t.depth),o=r;o>=0;o--){var i=e.start(o);if(i<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(i==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==i-1)&&n.push(o)}return n}var Ce=function(e){a(n,e);var t=c(n);function n(e,r,o){var i;return f(this,n),i=t.call(this),i.pos=e,i.attr=r,i.value=o,i}return v(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return D.fail("No node at attribute step's position");var n=Object.create(null);for(var r in t.attrs)n[r]=t.attrs[r];n[this.attr]=this.value;var o=t.type.create(n,null,t.marks);return D.fromReplace(e,this.pos,this.pos+1,new g.Slice(g.Fragment.from(o),0,t.isLeaf?0:1))}},{key:"getMap",value:function(){return E.empty}},{key:"invert",value:function(e){return new n(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deletedAfter?null:new n(t.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new n(t.pos,t.attr,t.value)}}]),n}(N);N.jsonID("attr",Ce),t.TransformError=function(e){a(n,e);var t=c(n);function n(){return f(this,n),t.apply(this,arguments)}return v(n)}(o(Error)),t.TransformError=function e(t){var n=Error.call(this,t);return n.__proto__=e.prototype,n},t.TransformError.prototype=Object.create(Error.prototype),t.TransformError.prototype.constructor=t.TransformError,t.TransformError.prototype.name="TransformError";var _e=function(){function e(t){f(this,e),this.doc=t,this.steps=[],this.docs=[],this.mapping=new T}return v(e,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(e){var n=this.maybeStep(e);if(n.failed)throw new t.TransformError(n.failed);return this}},{key:"maybeStep",value:function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.Slice.empty,r=ce(this.doc,e,t,n);return r&&this.step(r),this}},{key:"replaceWith",value:function(e,t,n){return this.replace(e,t,new g.Slice(g.Fragment.from(n),0,0))}},{key:"delete",value:function(e,t){return this.replace(e,t,g.Slice.empty)}},{key:"insert",value:function(e,t){return this.replaceWith(e,e,t)}},{key:"replaceRange",value:function(e,t,n){return be(this,e,t,n),this}},{key:"replaceRangeWith",value:function(e,t,n){return ke(this,e,t,n),this}},{key:"deleteRange",value:function(e,t){return xe(this,e,t),this}},{key:"lift",value:function(e,t){return U(this,e,t),this}},{key:"join",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return se(this,e,t),this}},{key:"wrap",value:function(e,t){return Z(this,e,t),this}},{key:"setBlockType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Y(this,e,t,n,r),this}},{key:"setNodeMarkup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ee(this,e,t,n,r),this}},{key:"setNodeAttribute",value:function(e,t,n){return this.step(new Ce(e,t,n)),this}},{key:"addNodeMark",value:function(e,t){return this.step(new z(e,t)),this}},{key:"removeNodeMark",value:function(e,t){if(!(t instanceof g.Mark)){var n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new $(e,t)),this}},{key:"split",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;return ne(this,e,t,n),this}},{key:"addMark",value:function(e,t,n){return L(this,e,t,n),this}},{key:"removeMark",value:function(e,t,n){return V(this,e,t,n),this}},{key:"clearIncompatible",value:function(e,t,n){return q(this,e,t,n),this}}]),e}();t.AddMarkStep=I,t.AddNodeMarkStep=z,t.AttrStep=Ce,t.MapResult=M,t.Mapping=T,t.RemoveMarkStep=P,t.RemoveNodeMarkStep=$,t.ReplaceAroundStep=F,t.ReplaceStep=j,t.Step=N,t.StepMap=E,t.StepResult=D,t.Transform=_e,t.canJoin=re,t.canSplit=te,t.dropPoint=le,t.findWrapping=J,t.insertPoint=ae,t.joinPoint=ie,t.liftTarget=W,t.replaceStep=ce},9222:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}function i(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=p(e),null===e)break;return e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0});var v=n(2391),g=n(9443),y=n(2843),b=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},w=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},k=null,x=function(e,t,n){var r=k||(k=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},S=function(e,t,n,r){return n&&(_(e,t,n,r,-1)||_(e,t,n,r,1))},C=/^(img|br|input|textarea|hr)$/i;function _(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:O(e))){var i=e.parentNode;if(!i||1!=i.nodeType||E(e)||C.test(e.nodeName)||"false"==e.contentEditable)return!1;t=b(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if(e=e.childNodes[t+(o<0?-1:0)],"false"==e.contentEditable)return!1;t=o<0?O(e):0}}}function O(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function M(e,t,n){for(var r=0==t,o=t==O(e);r||o;){if(e==n)return!0;var i=b(e);if(e=e.parentNode,!e)return!1;r=r&&0==i,o=o&&i==O(e)}}function E(e){for(var t,n=e;n;n=n.parentNode)if(t=n.pmViewDesc)break;return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var T=function(e){return e.focusNode&&S(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function A(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function N(e){var t=e.activeElement;while(t&&t.shadowRoot)t=t.shadowRoot.activeElement;return t}var D="undefined"!=typeof navigator?navigator:null,R="undefined"!=typeof document?document:null,I=D&&D.userAgent||"",P=/Edge\/(\d+)/.exec(I),z=/MSIE \d/.exec(I),$=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(I),j=!!(z||$||P),F=z?document.documentMode:$?+$[1]:P?+P[1]:0,B=!j&&/gecko\/(\d+)/i.test(I);B&&(/Firefox\/(\d+)/.exec(I)||[0,0])[1];var L=!j&&/Chrome\/(\d+)/.exec(I),V=!!L,q=L?+L[1]:0,H=!j&&!!D&&/Apple Computer/.test(D.vendor),W=H&&(/Mobile\/\w+/.test(I)||!!D&&D.maxTouchPoints>2),U=W||!!D&&/Mac/.test(D.platform),J=/Android \d/.test(I),K=!!R&&"webkitFontSmoothing"in R.documentElement.style,G=K?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function X(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Z(e,t){return"number"==typeof e?e:e[t]}function Y(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Q(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,s=n||e.dom;;s=w(s)){if(!s)break;if(1==s.nodeType){var a=s,l=a==i.body,c=l?X(i):Y(a),u=0,d=0;if(t.top<c.top+Z(r,"top")?d=-(c.top-t.top+Z(o,"top")):t.bottom>c.bottom-Z(r,"bottom")&&(d=t.bottom-c.bottom+Z(o,"bottom")),t.left<c.left+Z(r,"left")?u=-(c.left-t.left+Z(o,"left")):t.right>c.right-Z(r,"right")&&(u=t.right-c.right+Z(o,"right")),u||d)if(l)i.defaultView.scrollBy(u,d);else{var p=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);var f=a.scrollLeft-p,m=a.scrollTop-h;t={left:t.left-f,top:t.top-m,right:t.right-f,bottom:t.bottom-m}}if(l)break}}}function ee(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=e.root.elementFromPoint(i,s);if(a&&a!=e.dom&&e.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=o-20){t=a,n=l.top;break}}}return{refDOM:t,refTop:n,stack:te(e.dom)}}function te(e){for(var t=[],n=e.ownerDocument,r=e;r;r=w(r))if(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e==n)break;return t}function ne(e){var t=e.refDOM,n=e.refTop,r=e.stack,o=t?t.getBoundingClientRect().top:0;re(r,0==o?0:o-n)}function re(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,s=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=s&&(o.scrollLeft=s)}}var oe=null;function ie(e){if(e.setActive)return e.setActive();if(oe)return e.focus(oe);var t=te(e);e.focus(null==oe?{get preventScroll(){return oe={preventScroll:!0},!0}}:void 0),oe||(oe=!1,re(t,0))}function se(e,t){for(var n,r,o=2e8,i=0,s=t.top,a=t.top,l=e.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=x(l).getClientRects()}for(var d=0;d<u.length;d++){var p=u[d];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);var h=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(h<o){n=l,o=h,r=h&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==l.nodeType&&h&&(i=c+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=c+1)}}return n&&3==n.nodeType?ae(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:se(n,r)}function ae(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=fe(r,1);if(i.top!=i.bottom&&le(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function le(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function ce(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function ue(e,t,n){var r=se(t,n),o=r.node,i=r.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(o,i,s)}function de(e,t,n,r){for(var o=-1,i=t;;){if(i==e.dom)break;var s=e.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)o=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;o=s.posAfter}}i=s.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,1)}function pe(e,t,n){var r=e.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var s=e.childNodes[i];if(1==s.nodeType)for(var a=s.getClientRects(),l=0;l<a.length;l++){var c=a[l];if(le(t,c))return pe(s,t,c)}if((i=(i+1)%r)==o)break}return e}function he(e,t){var n,r=e.dom.ownerDocument,o=0;if(r.caretPositionFromPoint)try{var i=r.caretPositionFromPoint(t.left,t.top);i&&(n=i.offsetNode,o=i.offset)}catch(f){}if(!n&&r.caretRangeFromPoint){var s=r.caretRangeFromPoint(t.left,t.top);s&&(n=s.startContainer,o=s.startOffset)}var a,l=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!l||!e.dom.contains(1!=l.nodeType?l.parentNode:l)){var c=e.dom.getBoundingClientRect();if(!le(t,c))return null;if(l=pe(e.dom,t,c),!l)return null}if(H)for(var u=l;n&&u;u=w(u))u.draggable&&(n=void 0);if(l=ce(l,t),n){if(B&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){var d,p=n.childNodes[o];"IMG"==p.nodeName&&(d=p.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&o++}n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(a=de(e,n,o,t))}null==a&&(a=ue(e,l,t));var h=e.docView.nearestDesc(l,!0);return{pos:a,inside:h?h.posAtStart-h.border:-1}}function fe(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var me=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ve(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),o=r.node,i=r.offset,s=r.atom,a=K||B;if(3==o.nodeType){if(!a||!me.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==o.nodeValue.length?(l--,u=1):n<0?l--:c++,ge(fe(x(o,l,c),1),u<0)}var d=fe(x(o,i,i),n);if(B&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var p=fe(x(o,i-1,i-1),-1);if(p.top==d.top){var h=fe(x(o,i,i+1),-1);if(h.top!=d.top)return ge(h,h.left<p.left)}}return d}var f=e.state.doc.resolve(t-(s||0));if(!f.parent.inlineContent){if(null==s&&i&&(n<0||i==O(o))){var m=o.childNodes[i-1];if(1==m.nodeType)return ye(m.getBoundingClientRect(),!1)}if(null==s&&i<O(o)){var v=o.childNodes[i];if(1==v.nodeType)return ye(v.getBoundingClientRect(),!0)}return ye(o.getBoundingClientRect(),n>=0)}if(null==s&&i&&(n<0||i==O(o))){var g=o.childNodes[i-1],y=3==g.nodeType?x(g,O(g)-(a?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(y)return ge(fe(y,1),!1)}if(null==s&&i<O(o)){var b=o.childNodes[i];while(b.pmViewDesc&&b.pmViewDesc.ignoreForCoords)b=b.nextSibling;var w=b?3==b.nodeType?x(b,0,a?0:1):1==b.nodeType?b:null:null;if(w)return ge(fe(w,-1),!0)}return ge(fe(3==o.nodeType?x(o):o,-n),n>=0)}function ge(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function ye(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function be(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function we(e,t,n){var r=t.selection,o="up"==n?r.$from:r.$to;return be(e,t,(function(){for(var t=e.docView.domFromPos(o.pos,"up"==n?-1:1),r=t.node;;){var i=e.docView.nearestDesc(r,!0);if(!i)break;if(i.node.isBlock){r=i.dom;break}r=i.dom.parentNode}for(var s=ve(e,o.pos,1),a=r.firstChild;a;a=a.nextSibling){var l=void 0;if(1==a.nodeType)l=a.getClientRects();else{if(3!=a.nodeType)continue;l=x(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<l.length;c++){var u=l[c];if(u.bottom>u.top+1&&("up"==n?s.top-u.top>2*(u.bottom-s.top):u.bottom-s.bottom>2*(s.bottom-u.top)))return!1}}return!0}))}var ke=/[\u0590-\u08ac]/;function xe(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=e.domSelection();return ke.test(r.parent.textContent)&&a.modify?be(e,t,(function(){var t=e.domSelectionRange(),o=t.focusNode,i=t.focusOffset,s=t.anchorNode,l=t.anchorOffset,c=a.caretBidiLevel;a.modify("move",n,"character");var u=r.depth?e.docView.domAfterPos(r.before()):e.dom,d=e.domSelectionRange(),p=d.focusNode,h=d.focusOffset,f=p&&!u.contains(1==p.nodeType?p:p.parentNode)||o==p&&i==h;try{a.collapse(s,l),o&&(o!=s||i!=l)&&a.extend&&a.extend(o,i)}catch(m){}return null!=c&&(a.caretBidiLevel=c),f})):"left"==n||"backward"==n?i:s}var Se=null,Ce=null,_e=!1;function Oe(e,t,n){return Se==t&&Ce==n?_e:(Se=t,Ce=n,_e="up"==n||"down"==n?we(e,t,n):xe(e,t,n))}var Me=0,Ee=1,Te=2,Ae=3,Ne=function(){function e(t,n,r,o){h(this,e),this.parent=t,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=Me,r.pmViewDesc=this}return m(e,[{key:"matchesWidget",value:function(e){return!1}},{key:"matchesMark",value:function(e){return!1}},{key:"matchesNode",value:function(e,t,n){return!1}},{key:"matchesHack",value:function(e){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(e){return!1}},{key:"size",get:function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var e=0;e<this.children.length;e++)this.children[e].destroy()}},{key:"posBeforeChild",value:function(e){for(var t=0,n=this.posAtStart;;t++){var r=this.children[t];if(r==e)return n;n+=r.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{while(e.parentNode!=this.contentDOM)e=e.parentNode;r=e.previousSibling}while(r&&(!(o=r.pmViewDesc)||o.parent!=this))r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,s;if(e==this.contentDOM)i=e.childNodes[t];else{while(e.parentNode!=this.contentDOM)e=e.parentNode;i=e.nextSibling}while(i&&(!(s=i.pmViewDesc)||s.parent!=this))i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(e==this.dom&&this.contentDOM)a=t>b(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.previousSibling)break}if(null==a&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.nextSibling)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r),i=void 0;if(o&&(!t||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==e.nodeType?e:e.parentNode):i==e))return o;n=!1}}}},{key:"getDesc",value:function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t}},{key:"posFromDOM",value:function(e,t,n){for(var r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}},{key:"descAt",value:function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){while(!r.border&&r.children.length)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}}},{key:"domFromPos",value:function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};for(var n,r=0,o=0,i=0;r<this.children.length;r++){var s=this.children[r],a=i+s.size;if(a>e||s instanceof je){o=e-i;break}i=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof De&&n.side>=0;r--);if(t<=0){for(var l,c=!0;;r--,c=!1)if(l=r?this.children[r-1]:null,!l||l.dom.parentNode==this.contentDOM)break;return l&&t&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?b(l.dom)+1:0}}for(var u,d=!0;;r++,d=!1)if(u=r<this.children.length?this.children[r]:null,!u||u.dom.parentNode==this.contentDOM)break;return u&&d&&!u.border&&!u.domAtom?u.domFromPos(0,t):{node:this.contentDOM,offset:u?b(u.dom):this.contentDOM.childNodes.length}}},{key:"parseRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,s=0;;s++){var a=this.children[s],l=i+a.size;if(-1==r&&e<=l){var c=i+a.border;if(e>=c&&t<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,c);e=i;for(var u=s;u>0;u--){var d=this.children[u-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=b(d.dom)+1;break}e-=d.size}-1==r&&(r=0)}if(r>-1&&(l>t||s==this.children.length-1)){t=l;for(var p=s+1;p<this.children.length;p++){var h=this.children[p];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=b(h.dom);break}t+=h.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}},{key:"emptyChildAt",value:function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}},{key:"domAfterPos",value:function(e){var t=this.domFromPos(e,0),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}},{key:"setSelection",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Math.min(e,t),i=Math.max(e,t),s=0,a=0;s<this.children.length;s++){var l=this.children[s],c=a+l.size;if(o>a&&i<c)return l.setSelection(e-a-l.border,t-a-l.border,n,r);a=c}var u=this.domFromPos(e,e?-1:1),d=t==e?u:this.domFromPos(t,t?-1:1),p=n.getSelection(),h=!1;if((B||H)&&e==t){var f=u,m=f.node,v=f.offset;if(3==m.nodeType){if(h=!(!v||"\n"!=m.nodeValue[v-1]),h&&v==m.nodeValue.length)for(var g,y=m;y;y=y.parentNode){if(g=y.nextSibling){"BR"==g.nodeName&&(u=d={node:g.parentNode,offset:b(g)+1});break}var w=y.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{var k=m.childNodes[v-1];h=k&&("BR"==k.nodeName||"false"==k.contentEditable)}}if(B&&p.focusNode&&p.focusNode!=d.node&&1==p.focusNode.nodeType){var x=p.focusNode.childNodes[p.focusOffset];x&&"false"==x.contentEditable&&(r=!0)}if(r||h&&H||!S(u.node,u.offset,p.anchorNode,p.anchorOffset)||!S(d.node,d.offset,p.focusNode,p.focusOffset)){var C=!1;if((p.extend||e==t)&&!h){p.collapse(u.node,u.offset);try{e!=t&&p.extend(d.node,d.offset),C=!0}catch(M){}}if(!C){if(e>t){var _=u;u=d,d=_}var O=document.createRange();O.setEnd(d.node,d.offset),O.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(O)}}}},{key:"ignoreMutation",value:function(e){return!this.contentDOM&&"selection"!=e.type}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var s=n+o.border,a=i-o.border;if(e>=s&&t<=a)return this.dirty=e==n||t==i?Te:Ee,void(e!=s||t!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-s,t-s):o.dirty=Ae);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?Ae:Te}n=i}this.dirty=Te}},{key:"markParentsDirty",value:function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?Te:Ee;t.dirty<n&&(t.dirty=n)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}}]),e}(),De=function(e){s(n,e);var t=l(n);function n(e,r,o,i){var s;h(this,n);var a,l=r.type.toDOM;if("function"==typeof l&&(l=l(o,(function(){return a?a.parent?a.parent.posBeforeChild(a):void 0:i}))),!r.type.spec.raw){if(1!=l.nodeType){var c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}return s=t.call(this,e,[],l,null),s.widget=r,s.widget=r,a=u(s),s}return m(n,[{key:"matchesWidget",value:function(e){return this.dirty==Me&&e.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)}},{key:"ignoreMutation",value:function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),o(p(n.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"side",get:function(){return this.widget.type.side}}]),n}(Ne),Re=function(e){s(n,e);var t=l(n);function n(e,r,o,i){var s;return h(this,n),s=t.call(this,e,[],r,null),s.textDOM=o,s.text=i,s}return m(n,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}},{key:"domFromPos",value:function(e){return{node:this.textDOM,offset:e}}},{key:"ignoreMutation",value:function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}]),n}(Ne),Ie=function(e){s(n,e);var t=l(n);function n(e,r,o,i){var s;return h(this,n),s=t.call(this,e,[],o,i),s.mark=r,s}return m(n,[{key:"parseRule",value:function(){return this.dirty&Ae||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}},{key:"matchesMark",value:function(e){return this.dirty!=Ae&&this.mark.eq(e)}},{key:"markDirty",value:function(e,t){if(o(p(n.prototype),"markDirty",this).call(this,e,t),this.dirty!=Me){var r=this.parent;while(!r.node)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Me}}},{key:"slice",value:function(e,t,r){var o=n.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;t<s&&(i=nt(i,t,s,r)),e>0&&(i=nt(i,0,e,r));for(var a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o}}],[{key:"create",value:function(e,t,r,o){var i=o.nodeViews[t.type.name],s=i&&i(t,o,r);return s&&s.dom||(s=g.DOMSerializer.renderSpec(document,t.type.spec.toDOM(t,r))),new n(e,t,s.dom,s.contentDOM||s.dom)}}]),n}(Ne),Pe=function(e){s(n,e);var t=l(n);function n(e,r,o,i,s,a,l,c,u){var d;return h(this,n),d=t.call(this,e,[],s,a),d.node=r,d.outerDeco=o,d.innerDeco=i,d.nodeDOM=l,a&&d.updateChildren(c,u),d}return m(n,[{key:"parseRule",value:function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(var n=this.children.length-1;n>=0;n--){var r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=function(){return g.Fragment.empty})}else t.contentElement=this.contentDOM;else t.getContent=function(){return e.node.content};return t}},{key:"matchesNode",value:function(e,t,n){return this.dirty==Me&&e.eq(this.node)&&Je(t,this.outerDeco)&&n.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(e,t){var n=this,r=this.node.inlineContent,o=t,i=e.composing?this.localCompositionInfo(e,t):null,s=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new Ge(this,s&&s.node,e);Ye(this.node,this.innerDeco,(function(t,i,s){t.spec.marks?l.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!s&&l.syncToMarks(i==n.node.childCount?g.Mark.none:n.node.child(i).marks,r,e),l.placeWidget(t,e,o)}),(function(t,n,s,c){var u;l.syncToMarks(t.marks,r,e),l.findNodeMatch(t,n,s,c)||a&&e.state.selection.from>o&&e.state.selection.to<o+t.nodeSize&&(u=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(t,n,s,u,e)||l.updateNextNode(t,n,s,e,c)||l.addNode(t,n,s,e,o),o+=t.nodeSize})),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Te)&&(s&&this.protectLocalComposition(e,s),Be(this.contentDOM,this.children,e),W&&Qe(this.dom))}},{key:"localCompositionInfo",value:function(e,t){var n=e.state.selection,r=n.from,o=n.to;if(!(e.state.selection instanceof v.TextSelection)||r<t||o>t+this.node.content.size)return null;var i=e.domSelectionRange(),s=et(i.focusNode,i.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){var a=s.nodeValue,l=tt(this.node.content,a,r-t,o-t);return l<0?null:{node:s,pos:l,text:a}}return{node:s,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;;i=i.parentNode){if(i.parentNode==this.contentDOM)break;while(i.previousSibling)i.parentNode.removeChild(i.previousSibling);while(i.nextSibling)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}var s=new Re(this,i,n,o);e.input.compositionNodes.push(s),this.children=nt(this.children,r,r+o.length,e,s)}}},{key:"update",value:function(e,t,n,r){return!(this.dirty==Ae||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}},{key:"updateInner",value:function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Me}},{key:"updateOuterDeco",value:function(e){if(!Je(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=He(this.dom,this.nodeDOM,qe(this.outerDeco,this.node,t),qe(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}}},{key:"selectNode",value:function(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}},{key:"deselectNode",value:function(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(e,t,r,o,i,s){var a,l=i.nodeViews[t.type.name],c=l&&l(t,i,(function(){return a?a.parent?a.parent.posBeforeChild(a):void 0:s}),r,o),u=c&&c.dom,d=c&&c.contentDOM;if(t.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(t.text);else if(!u){var p=g.DOMSerializer.renderSpec(document,t.type.spec.toDOM(t));u=p.dom,d=p.contentDOM}d||t.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));var h=u;return u=Ue(u,r,t),c?a=new Fe(e,t,r,o,u,d||null,h,c,i,s+1):t.isText?new $e(e,t,r,o,u,h,i):new n(e,t,r,o,u,d||null,h,i,s+1)}}]),n}(Ne);function ze(e,t,n,r,o){return Ue(r,t,e),new Pe(void 0,e,t,n,r,r,r,o,0)}var $e=function(e){s(n,e);var t=l(n);function n(e,r,o,i,s,a,l){return h(this,n),t.call(this,e,r,o,i,s,null,a,l,0)}return m(n,[{key:"parseRule",value:function(){var e=this.nodeDOM.parentNode;while(e&&e!=this.dom&&!e.pmIsDeco)e=e.parentNode;return{skip:e||!0}}},{key:"update",value:function(e,t,n,r){return!(this.dirty==Ae||this.dirty!=Me&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),this.dirty==Me&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Me,!0)}},{key:"inParent",value:function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}},{key:"domFromPos",value:function(e){return{node:this.nodeDOM,offset:e}}},{key:"localPosFromDOM",value:function(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):o(p(n.prototype),"localPosFromDOM",this).call(this,e,t,r)}},{key:"ignoreMutation",value:function(e){return"characterData"!=e.type&&"selection"!=e.type}},{key:"slice",value:function(e,t,r){var o=this.node.cut(e,t),i=document.createTextNode(o.text);return new n(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}},{key:"markDirty",value:function(e,t){o(p(n.prototype),"markDirty",this).call(this,e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=Ae)}},{key:"domAtom",get:function(){return!1}}]),n}(Pe),je=function(e){s(n,e);var t=l(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(e){return this.dirty==Me&&this.dom.nodeName==e}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return"IMG"==this.dom.nodeName}}]),n}(Ne),Fe=function(e){s(n,e);var t=l(n);function n(e,r,o,i,s,a,l,c,u,d){var p;return h(this,n),p=t.call(this,e,r,o,i,s,a,l,u,d),p.spec=c,p}return m(n,[{key:"update",value:function(e,t,r,i){if(this.dirty==Ae)return!1;if(this.spec.update){var s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}return!(!this.contentDOM&&!e.isLeaf)&&o(p(n.prototype),"update",this).call(this,e,t,r,i)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():o(p(n.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():o(p(n.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r):o(p(n.prototype),"setSelection",this).call(this,e,t,r,i)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),o(p(n.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}},{key:"ignoreMutation",value:function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):o(p(n.prototype),"ignoreMutation",this).call(this,e)}}]),n}(Pe);function Be(e,t,n){for(var r=e.firstChild,o=!1,i=0;i<t.length;i++){var s=t[i],a=s.dom;if(a.parentNode==e){while(a!=r)r=Ke(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(a,r);if(s instanceof Ie){var l=r?r.previousSibling:e.lastChild;Be(s.contentDOM,s.children,n),r=l?l.nextSibling:e.firstChild}}while(r)r=Ke(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}var Le=function(e){e&&(this.nodeName=e)};Le.prototype=Object.create(null);var Ve=[new Le];function qe(e,t,n){if(0==e.length)return Ve;for(var r=n?Ve[0]:new Le,o=[r],i=0;i<e.length;i++){var s=e[i].type.attrs;if(s)for(var a in s.nodeName&&o.push(r=new Le(s.nodeName)),s){var l=s[a];null!=l&&(n&&1==o.length&&o.push(r=new Le(t.isInline?"span":"div")),"class"==a?r["class"]=(r["class"]?r["class"]+" ":"")+l:"style"==a?r.style=(r.style?r.style+";":"")+l:"nodeName"!=a&&(r[a]=l))}}return o}function He(e,t,n,r){if(n==Ve&&r==Ve)return t;for(var o=t,i=0;i<r.length;i++){var s=r[i],a=n[i];if(i){var l=void 0;a&&a.nodeName==s.nodeName&&o!=e&&(l=o.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=Ve[0]),o=l}We(o,a||Ve[0],s)}return o}function We(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t["class"]!=n["class"]){for(var i=t["class"]?t["class"].split(" ").filter(Boolean):[],s=n["class"]?n["class"].split(" ").filter(Boolean):[],a=0;a<i.length;a++)-1==s.indexOf(i[a])&&e.classList.remove(i[a]);for(var l=0;l<s.length;l++)-1==i.indexOf(s[l])&&e.classList.add(s[l]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(c=u.exec(t.style))e.style.removeProperty(c[1])}n.style&&(e.style.cssText+=n.style)}}function Ue(e,t,n){return He(e,e,Ve,qe(t,n,1!=e.nodeType))}function Je(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Ke(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var Ge=function(){function e(t,n,r){h(this,e),this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Xe(t.node.content,t)}return m(e,[{key:"destroyBetween",value:function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(e,t,n){var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);while(r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning)r++;while(r<o)this.destroyRest(),this.top.dirty=Me,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;while(o<e.length){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(e[o])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var l=Ie.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}},{key:"findNodeMatch",value:function(e,t,n,r){var o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(var s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){var l=this.top.children[s];if(l.matchesNode(e,t,n)&&!this.preMatch.matched.has(l)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}},{key:"updateNodeAt",value:function(e,t,n,r,o){var i=this.top.children[r];return i.dirty==Ae&&i.dom==i.contentDOM&&(i.dirty=Te),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}},{key:"findIndexWithChild",value:function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}e=t}}},{key:"updateNextNode",value:function(e,t,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var s=this.top.children[i];if(s instanceof Pe){var a=this.preMatch.matched.get(s);if(null!=a&&a!=o)return!1;var l=s.dom,c=this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=Ae&&Je(t,s.outerDeco));if(!c&&s.update(e,t,n,r))return this.destroyBetween(this.index,i),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}},{key:"addNode",value:function(e,t,n,r,o){this.top.children.splice(this.index++,0,Pe.create(this.top,e,t,n,r,o)),this.changed=!0}},{key:"placeWidget",value:function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new De(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++}},{key:"addTextblockHacks",value:function(){var e=this.top.children[this.index-1],t=this.top;while(e instanceof Ie)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof $e)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((H||V)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{var n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");var r=new je(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}}]),e}();function Xe(e,t){var n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:while(o>0){for(var a=void 0;;)if(r){var l=n.children[r-1];if(!(l instanceof Ie)){a=l,r--;break}n=l,r=l.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}var c=a.node;if(c){if(c!=e.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}function Ze(e,t){return e.type.side-t.type.side}function Ye(e,t,n,r){var o=t.locals(e),i=0;if(0!=o.length)for(var s=0,a=[],l=null,c=0;;){if(s<o.length&&o[s].to==i){var u=o[s++],d=void 0;while(s<o.length&&o[s].to==i)(d||(d=[u])).push(o[s++]);if(d){d.sort(Ze);for(var p=0;p<d.length;p++)n(d[p],c,!!l)}else n(u,c,!!l)}var h=void 0,f=void 0;if(l)f=-1,h=l,l=null;else{if(!(c<e.childCount))break;f=c,h=e.child(c++)}for(var m=0;m<a.length;m++)a[m].to<=i&&a.splice(m--,1);while(s<o.length&&o[s].from<=i&&o[s].to>i)a.push(o[s++]);var v=i+h.nodeSize;if(h.isText){var g=v;s<o.length&&o[s].from<g&&(g=o[s].from);for(var y=0;y<a.length;y++)a[y].to<g&&(g=a[y].to);g<v&&(l=h.cut(g-i),h=h.cut(0,g-i),v=g,f=-1)}var b=h.isInline&&!h.isLeaf?a.filter((function(e){return!e.inline})):a.slice();r(h,b,t.forChild(i,h),f),i=v}else for(var w=0;w<e.childCount;w++){var k=e.child(w);r(k,o,t.forChild(i,k),w),i+=k.nodeSize}}function Qe(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function et(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=O(e)}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}function tt(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var s=e.child(o++),a=i;if(i+=s.nodeSize,s.isText){var l=s.text;while(o<e.childCount){var c=e.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){var u=a<r?l.lastIndexOf(t,r-a-1):-1;if(u>=0&&u+t.length+a>=n)return a+u;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}}return-1}function nt(e,t,n,r,o){for(var i=[],s=0,a=0;s<e.length;s++){var l=e[s],c=a,u=a+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;var o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;var a,l,c=r.resolve(s);if(T(n)){a=c;while(o&&!o.node)o=o.parent;var u=o.node;if(o&&u.isAtom&&v.NodeSelection.isSelectable(u)&&o.parent&&(!u.isInline||!M(n.focusNode,n.focusOffset,o.dom))){var d=o.posBefore;l=new v.NodeSelection(s==d?c:r.resolve(d))}}else{var p=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(p<0)return null;a=r.resolve(p)}if(!l){var h="pointer"==t||e.state.selection.head<c.pos&&!i?1:-1;l=ft(e,a,c,h)}return l}function ot(e){return e.editable?e.hasFocus():vt(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function it(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.state.selection;if(pt(e,n),ot(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&V){var r=e.domSelectionRange(),o=e.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&S(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)dt(e);else{var i,s,a=n.anchor,l=n.head;!st||n instanceof v.TextSelection||(n.$from.parent.inlineContent||(i=at(e,n.from)),n.empty||n.$from.parent.inlineContent||(s=at(e,n.to))),e.docView.setSelection(a,l,e.root,t),st&&(i&&ct(i),s&&ct(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&ut(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}var st=H||V&&q<63;function at(e,t){var n=e.docView.domFromPos(t,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if(H&&i&&"false"==i.contentEditable)return lt(i);if((!i||"false"==i.contentEditable)&&(!s||"false"==s.contentEditable)){if(i)return lt(i);if(s)return lt(s)}}function lt(e){return e.contentEditable="true",H&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function ct(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ut(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);var n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((function(){ot(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}function dt(e){var t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,b(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&j&&F<=11&&(r.disabled=!0,r.disabled=!1)}function pt(e,t){if(t instanceof v.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(ht(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else ht(e)}function ht(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function ft(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||v.TextSelection.between(t,n,r)}function mt(e){return!(e.editable&&!e.hasFocus())&&vt(e)}function vt(e){var t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function gt(e){var t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return S(t.node,t.offset,n.anchorNode,n.anchorOffset)}function yt(e,t){var n=e.selection,r=n.$anchor,o=n.$head,i=t>0?r.max(o):r.min(o),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&v.Selection.findFrom(s,t)}function bt(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function wt(e,t,n){var r=e.state.selection;if(!(r instanceof v.TextSelection)){if(r instanceof v.NodeSelection&&r.node.isInline)return bt(e,new v.TextSelection(t>0?r.$to:r.$from));var o=yt(e.state,t);return!!o&&bt(e,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var i=yt(e.state,t);return!!(i&&i instanceof v.NodeSelection)&&bt(e,i)}if(!(U&&n.indexOf("m")>-1)){var s,a=r.$head,l=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText)return!1;var c=t<0?a.pos-l.nodeSize:a.pos;return!!(l.isAtom||(s=e.docView.descAt(c))&&!s.contentDOM)&&(v.NodeSelection.isSelectable(l)?bt(e,new v.NodeSelection(t<0?e.state.doc.resolve(a.pos-l.nodeSize):a)):!!K&&bt(e,new v.TextSelection(e.state.doc.resolve(t<0?c:c+l.nodeSize))))}}function kt(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function xt(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function St(e){var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,s=!1;for(B&&1==n.nodeType&&r<kt(n)&&xt(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var a=n.childNodes[r-1];if(xt(a))o=n,i=--r;else{if(3!=a.nodeType)break;n=a,r=n.nodeValue.length}}else{if(_t(n))break;var l=n.previousSibling;while(l&&xt(l))o=n.parentNode,i=b(l),l=l.previousSibling;if(l)n=l,r=kt(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}s?Ot(e,n,r):o&&Ot(e,o,i)}}function Ct(e){var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,s=kt(n);;)if(r<s){if(1!=n.nodeType)break;var a=n.childNodes[r];if(!xt(a))break;o=n,i=++r}else{if(_t(n))break;var l=n.nextSibling;while(l&&xt(l))o=l.parentNode,i=b(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=kt(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}o&&Ot(e,o,i)}}function _t(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Ot(e,t,n){var r=e.domSelection();if(T(r)){var o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();var i=e.state;setTimeout((function(){e.state==i&&it(e)}),50)}function Mt(e,t,n){var r=e.state.selection;if(r instanceof v.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;if(U&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var s=yt(e.state,t);if(s&&s instanceof v.NodeSelection)return bt(e,s)}if(!o.parent.inlineContent){var a=t<0?o:i,l=r instanceof v.AllSelection?v.Selection.near(a,t):v.Selection.findFrom(a,t);return!!l&&bt(e,l)}return!1}function Et(e,t){if(!(e.state.selection instanceof v.TextSelection))return!0;var n=e.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var s=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=e.state.tr;return t<0?a["delete"](r.pos-s.nodeSize,r.pos):a["delete"](r.pos,r.pos+s.nodeSize),e.dispatch(a),!0}return!1}function Tt(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function At(e){if(!H||e.state.selection.$head.parentOffset>0)return!1;var t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;Tt(e,o,"true"),setTimeout((function(){return Tt(e,o,"false")}),20)}return!1}function Nt(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Dt(e,t){var n=t.keyCode,r=Nt(t);return 8==n||U&&72==n&&"c"==r?Et(e,-1)||St(e):46==n||U&&68==n&&"c"==r?Et(e,1)||Ct(e):13==n||27==n||(37==n||U&&66==n&&"c"==r?wt(e,-1,r)||St(e):39==n||U&&70==n&&"c"==r?wt(e,1,r)||Ct(e):38==n||U&&80==n&&"c"==r?Mt(e,-1,r)||St(e):40==n||U&&78==n&&"c"==r?At(e)||Mt(e,1,r)||Ct(e):r==(U?"m":"c")&&(66==n||73==n||89==n||90==n))}function Rt(e,t){e.someProp("transformCopied",(function(n){t=n(t,e)}));var n=[],r=t,o=r.content,i=r.openStart,s=r.openEnd;while(i>1&&s>1&&1==o.childCount&&1==o.firstChild.childCount){i--,s--;var a=o.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),o=a.content}var l=e.someProp("clipboardSerializer")||g.DOMSerializer.fromSchema(e.state.schema),c=Ht(),u=c.createElement("div");u.appendChild(l.serializeFragment(o,{document:c}));var d,p=u.firstChild,h=0;while(p&&1==p.nodeType&&(d=Vt[p.nodeName.toLowerCase()])){for(var f=d.length-1;f>=0;f--){var m=c.createElement(d[f]);while(u.firstChild)m.appendChild(u.firstChild);u.appendChild(m),h++}p=u.firstChild}p&&1==p.nodeType&&p.setAttribute("data-pm-slice","".concat(i," ").concat(s).concat(h?" -".concat(h):""," ").concat(JSON.stringify(n)));var v=e.someProp("clipboardTextSerializer",(function(n){return n(t,e)}))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:u,text:v}}function It(e,t,n,r,o){var i,s,a=o.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(r||a||!n);if(l){if(e.someProp("transformPastedText",(function(n){t=n(t,a||r,e)})),a)return t?new g.Slice(g.Fragment.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):g.Slice.empty;var c=e.someProp("clipboardTextParser",(function(n){return n(t,o,r,e)}));if(c)s=c;else{var u=o.marks(),d=e.state.schema,p=g.DOMSerializer.fromSchema(d);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((function(e){var t=i.appendChild(document.createElement("p"));e&&t.appendChild(p.serializeNode(d.text(e,u)))}))}}else e.someProp("transformPastedHTML",(function(t){n=t(n,e)})),i=Wt(n),K&&Ut(i);var h=i&&i.querySelector("[data-pm-slice]"),f=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(f&&f[3])for(var m=+f[3];m>0;m--){var v=i.firstChild;while(v&&1!=v.nodeType)v=v.nextSibling;if(!v)break;i=v}if(!s){var y=e.someProp("clipboardParser")||e.someProp("domParser")||g.DOMParser.fromSchema(e.state.schema);s=y.parseSlice(i,{preserveWhitespace:!(!l&&!f),context:o,ruleFromNode:function(e){return"BR"!=e.nodeName||e.nextSibling||!e.parentNode||Pt.test(e.parentNode.nodeName)?null:{ignore:!0}}})}if(f)s=Jt(Lt(s,+f[1],+f[2]),f[4]);else if(s=g.Slice.maxOpen(zt(s.content,o),!0),s.openStart||s.openEnd){for(var b=0,w=0,k=s.content.firstChild;b<s.openStart&&!k.type.spec.isolating;b++,k=k.firstChild);for(var x=s.content.lastChild;w<s.openEnd&&!x.type.spec.isolating;w++,x=x.lastChild);s=Lt(s,b,w)}return e.someProp("transformPasted",(function(t){s=t(s,e)})),s}var Pt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function zt(e,t){if(e.childCount<2)return e;for(var n=function(n){var r=t.node(n),o=r.contentMatchAt(t.index(n)),i=void 0,s=[];if(e.forEach((function(e){if(s){var t,n=o.findWrapping(e.type);if(!n)return s=null;if(t=s.length&&i.length&&jt(n,i,e,s[s.length-1],0))s[s.length-1]=t;else{s.length&&(s[s.length-1]=Ft(s[s.length-1],i.length));var r=$t(e,n);s.push(r),o=o.matchType(r.type),i=n}}})),s)return{v:g.Fragment.from(s)}},o=t.depth;o>=0;o--){var i=n(o);if("object"===r(i))return i.v}return e}function $t(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.length-1;r>=n;r--)e=t[r].create(null,g.Fragment.from(e));return e}function jt(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){var i=jt(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));var s=r.contentMatchAt(r.childCount);if(s.matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(g.Fragment.from($t(n,e,o+1))))}}function Ft(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,Ft(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(g.Fragment.empty,!0);return e.copy(n.append(r))}function Bt(e,t,n,r,o,i){var s=t<0?e.firstChild:e.lastChild,a=s.content;return o<r-1&&(a=Bt(a,t,n,r,o+1,i)),o>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,e.childCount>1||i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(g.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function Lt(e,t,n){return t<e.openStart&&(e=new g.Slice(Bt(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new g.Slice(Bt(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var Vt={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},qt=null;function Ht(){return qt||(qt=document.implementation.createHTMLDocument("title"))}function Wt(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=Ht().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);if((n=o&&Vt[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join("")),r.innerHTML=e,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}function Ut(e){for(var t=e.querySelectorAll(V?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function Jt(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(c){return e}for(var o=e.content,i=e.openStart,s=e.openEnd,a=n.length-2;a>=0;a-=2){var l=r.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;o=g.Fragment.from(l.create(n[a+1],o)),i++,s++}return new g.Slice(o,i,s)}var Kt={},Gt={},Xt={touchstart:!0,touchmove:!0},Zt=m((function e(){h(this,e),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}));function Yt(e){var t=function(t){var n=Kt[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=function(t){!rn(e,t)||nn(e,t)||!e.editable&&t.type in Gt||n(e,t)},Xt[t]?{passive:!0}:void 0)};for(var n in Kt)t(n);H&&e.dom.addEventListener("input",(function(){return null})),tn(e)}function Qt(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function en(e){for(var t in e.domObserver.stop(),e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function tn(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=function(t){return nn(e,t)})}))}function nn(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function rn(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function on(e,t){nn(e,t)||!Kt[t.type]||!e.editable&&t.type in Gt||Kt[t.type](e,t)}function sn(e){return{left:e.clientX,top:e.clientY}}function an(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function ln(e,t,n,o,i){if(-1==o)return!1;for(var s=e.state.doc.resolve(o),a=function(r){if(e.someProp(t,(function(t){return r>s.depth?t(e,n,s.nodeAfter,s.before(r),i,!0):t(e,n,s.node(r),s.before(r),i,!1)})))return{v:!0}},l=s.depth+1;l>0;l--){var c=a(l);if("object"===r(c))return c.v}return!1}function cn(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function un(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&v.NodeSelection.isSelectable(r))&&(cn(e,new v.NodeSelection(n),"pointer"),!0)}function dn(e,t){if(-1==t)return!1;var n,r,o=e.state.selection;o instanceof v.NodeSelection&&(n=o.node);for(var i=e.state.doc.resolve(t),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(v.NodeSelection.isSelectable(a)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(cn(e,v.NodeSelection.create(e.state.doc,r),"pointer"),!0)}function pn(e,t,n,r,o){return ln(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(o?dn(e,n):un(e,n))}function hn(e,t,n,r){return ln(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function fn(e,t,n,r){return ln(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||mn(e,n,r)}function mn(e,t,n){if(0!=n.button)return!1;var r=e.state.doc;if(-1==t)return!!r.inlineContent&&(cn(e,v.TextSelection.create(r,0,r.content.size),"pointer"),!0);for(var o=r.resolve(t),i=o.depth+1;i>0;i--){var s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)cn(e,v.TextSelection.create(r,a+1,a+1+s.content.size),"pointer");else{if(!v.NodeSelection.isSelectable(s))continue;cn(e,v.NodeSelection.create(r,a),"pointer")}return!0}}function vn(e){return Cn(e)}Gt.keydown=function(e,t){var n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!bn(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!J||!V||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!W||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(function(t){return t(e,n)}))||Dt(e,n)?n.preventDefault():Qt(e,"key");else{var r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout((function(){e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",(function(t){return t(e,A(13,"Enter"))})),e.input.lastIOSEnter=0)}),200)}},Gt.keyup=function(e,t){16==t.keyCode&&(e.input.shiftKey=!1)},Gt.keypress=function(e,t){var n=t;if(!(bn(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||U&&n.metaKey))if(e.someProp("handleKeyPress",(function(t){return t(e,n)})))n.preventDefault();else{var r=e.state.selection;if(!(r instanceof v.TextSelection)||!r.$from.sameParent(r.$to)){var o=String.fromCharCode(n.charCode);e.someProp("handleTextInput",(function(t){return t(e,r.$from.pos,r.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}}};var gn=U?"metaKey":"ctrlKey";Kt.mousedown=function(e,t){var n=t;e.input.shiftKey=n.shiftKey;var r=vn(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&an(n,e.input.lastClick)&&!n[gn]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};var s=e.posAtCoords(sn(n));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new yn(e,s,n,!!r)):("doubleClick"==i?hn:fn)(e,s.pos,s.inside,n)?n.preventDefault():Qt(e,"pointer"))};var yn=function(){function e(t,n,r,o){var i,s,a=this;if(h(this,e),this.view=t,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[gn],this.allowDefault=r.shiftKey,n.inside>-1)i=t.state.doc.nodeAt(n.inside),s=n.inside;else{var l=t.state.doc.resolve(n.pos);i=l.parent,s=l.depth?l.before():0}var c=o?null:r.target,u=c?t.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null;var d=t.state.selection;(0==r.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||d instanceof v.NodeSelection&&d.from<=s&&d.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!B||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){a.view.input.mouseDown==a&&a.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Qt(t,"pointer")}return m(e,[{key:"done",value:function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return it(e.view)})),this.view.input.mouseDown=null}},{key:"up",value:function(e){if(this.done(),this.view.dom.contains(e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(sn(e))),this.updateAllowDefault(e),this.allowDefault||!t?Qt(this.view,"pointer"):pn(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||H&&this.mightDrag&&!this.mightDrag.node.isAtom||V&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(cn(this.view,v.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Qt(this.view,"pointer")}}},{key:"move",value:function(e){this.updateAllowDefault(e),Qt(this.view,"pointer"),0==e.buttons&&this.done()}},{key:"updateAllowDefault",value:function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}]),e}();function bn(e,t){return!!e.composing||!!(H&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}Kt.touchstart=function(e){e.input.lastTouch=Date.now(),vn(e),Qt(e,"pointer")},Kt.touchmove=function(e){e.input.lastTouch=Date.now(),Qt(e,"pointer")},Kt.contextmenu=function(e){return vn(e)};var wn=J?5e3:-1;function kn(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((function(){return Cn(e)}),t))}function xn(e){e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Sn());while(e.input.compositionNodes.length>0)e.input.compositionNodes.pop().markParentsDirty()}function Sn(){var e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(J&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),xn(e),t||e.docView&&e.docView.dirty){var n=rt(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function _n(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}Gt.compositionstart=Gt.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),Cn(e,!0),e.markCursor=null;else if(Cn(e),B&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.domSelectionRange(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(3==s.nodeType){e.domSelection().collapse(s,s.nodeValue.length);break}o=s,i=-1}e.input.composing=!0}kn(e,wn)},Gt.compositionend=function(e,t){e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,kn(e,20))};var On=j&&F<15||W&&G<604;function Mn(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}function En(e,t){if(e.dom.parentNode){var n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Tn(e,r.value,null,t):Tn(e,r.textContent,r.innerHTML,t)}),50)}}function Tn(e,t,n,r){var o=It(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,r,o||g.Slice.empty)})))return!0;if(!o)return!1;var i=Mn(o),s=i?e.state.tr.replaceSelectionWith(i,e.input.shiftKey):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Kt.copy=Gt.cut=function(e,t){var n=t,r=e.state.selection,o="cut"==n.type;if(!r.empty){var i=On?null:n.clipboardData,s=r.content(),a=Rt(e,s),l=a.dom,c=a.text;i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):_n(e,l),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Gt.paste=function(e,t){var n=t;if(!e.composing||J){var r=On?null:n.clipboardData;r&&Tn(e,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():En(e,n)}};var An=m((function e(t,n){h(this,e),this.slice=t,this.move=n})),Nn=U?"altKey":"ctrlKey";for(var Dn in Kt.dragstart=function(e,t){var n=t,r=e.input.mouseDown;if(r&&r.done(),n.dataTransfer){var o=e.state.selection,i=o.empty?null:e.posAtCoords(sn(n));if(i&&i.pos>=o.from&&i.pos<=(o instanceof v.NodeSelection?o.to-1:o.to));else if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(v.NodeSelection.create(e.state.doc,r.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){var s=e.docView.nearestDesc(n.target,!0);s&&s.node.type.spec.draggable&&s!=e.docView&&e.dispatch(e.state.tr.setSelection(v.NodeSelection.create(e.state.doc,s.posBefore)))}var a=e.state.selection.content(),l=Rt(e,a),c=l.dom,u=l.text;n.dataTransfer.clearData(),n.dataTransfer.setData(On?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",On||n.dataTransfer.setData("text/plain",u),e.dragging=new An(a,!n[Nn])}},Kt.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},Gt.dragover=Gt.dragenter=function(e,t){return t.preventDefault()},Gt.drop=function(e,t){var n=t,r=e.dragging;if(e.dragging=null,n.dataTransfer){var o=e.posAtCoords(sn(n));if(o){var i=e.state.doc.resolve(o.pos),s=r&&r.slice;s?e.someProp("transformPasted",(function(t){s=t(s,e)})):s=It(e,n.dataTransfer.getData(On?"Text":"text/plain"),On?null:n.dataTransfer.getData("text/html"),!1,i);var a=!(!r||n[Nn]);if(e.someProp("handleDrop",(function(t){return t(e,n,s||g.Slice.empty,a)})))n.preventDefault();else if(s){n.preventDefault();var l=s?y.dropPoint(e.state.doc,i.pos,s):i.pos;null==l&&(l=i.pos);var c=e.state.tr;a&&c.deleteSelection();var u=c.mapping.map(l),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,p=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),!c.doc.eq(p)){var h=c.doc.resolve(u);if(d&&v.NodeSelection.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new v.NodeSelection(h));else{var f=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((function(e,t,n,r){return f=r})),c.setSelection(ft(e,h,c.doc.resolve(f)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}}}}},Kt.focus=function(e){e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&it(e)}),20))},Kt.blur=function(e,t){var n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},Kt.beforeinput=function(e,t){var n=t;if(V&&J&&"deleteContentBackward"==n.inputType){e.domObserver.flushSoon();var r=e.input.domChangeCount;setTimeout((function(){if(e.input.domChangeCount==r&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,A(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr["delete"](t.pos-1,t.pos).scrollIntoView())}}),50)}},Gt)Kt[Dn]=Gt[Dn];function Rn(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var In=function(){function e(t,n){h(this,e),this.toDOM=t,this.spec=n||Fn,this.side=this.spec.side||0}return m(e,[{key:"map",value:function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos,s=o.deleted;return s?null:new $n(i-n,i-n,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(t){return this==t||t instanceof e&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Rn(this.spec,t.spec))}},{key:"destroy",value:function(e){this.spec.destroy&&this.spec.destroy(e)}}]),e}(),Pn=function(){function e(t,n){h(this,e),this.attrs=t,this.spec=n||Fn}return m(e,[{key:"map",value:function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new $n(o,i,this)}},{key:"valid",value:function(e,t){return t.from<t.to}},{key:"eq",value:function(t){return this==t||t instanceof e&&Rn(this.attrs,t.attrs)&&Rn(this.spec,t.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(t){return t.type instanceof e}}]),e}(),zn=function(){function e(t,n){h(this,e),this.attrs=t,this.spec=n||Fn}return m(e,[{key:"map",value:function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new $n(o.pos-n,i.pos-n,this)}},{key:"valid",value:function(e,t){var n,r=e.content.findIndex(t.from),o=r.index,i=r.offset;return i==t.from&&!(n=e.child(o)).isText&&i+n.nodeSize==t.to}},{key:"eq",value:function(t){return this==t||t instanceof e&&Rn(this.attrs,t.attrs)&&Rn(this.spec,t.spec)}},{key:"destroy",value:function(){}}]),e}(),$n=function(){function e(t,n,r){h(this,e),this.from=t,this.to=n,this.type=r}return m(e,[{key:"copy",value:function(t,n){return new e(t,n,this.type)}},{key:"eq",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}},{key:"map",value:function(e,t,n){return this.type.map(e,this,t,n)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof Pn}}],[{key:"widget",value:function(t,n,r){return new e(t,t,new In(n,r))}},{key:"inline",value:function(t,n,r,o){return new e(t,n,new Pn(r,o))}},{key:"node",value:function(t,n,r,o){return new e(t,n,new zn(r,o))}}]),e}(),jn=[],Fn={},Bn=function(){function e(t,n){h(this,e),this.local=t.length?t:jn,this.children=n.length?n:jn}return m(e,[{key:"find",value:function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}},{key:"findInner",value:function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=t&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){var l=this.children[a]+1;this.children[a+2].findInner(e-l,t-l,n,r+l,o)}}},{key:"map",value:function(e,t,n){return this==Ln||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Fn)}},{key:"mapInner",value:function(t,n,r,o,i){for(var s,a=0;a<this.local.length;a++){var l=this.local[a].map(t,r,o);l&&l.type.valid(n,l)?(s||(s=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?qn(this.children,s||[],t,n,r,o,i):s?new e(s.sort(Gn),jn):Ln}},{key:"add",value:function(t,n){return n.length?this==Ln?e.create(t,n):this.addInner(t,n,0):this}},{key:"addInner",value:function(t,n,r){var o,i=this,s=0;t.forEach((function(e,t){var a,l=t+r;if(a=Un(n,e,l)){o||(o=i.children.slice());while(s<o.length&&o[s]<t)s+=3;o[s]==t?o[s+2]=o[s+2].addInner(e,a,l+1):o.splice(s,0,t,t+e.nodeSize,Kn(a,e,l+1,Fn)),s+=3}}));for(var a=Hn(s?Jn(n):n,-r),l=0;l<a.length;l++)a[l].type.valid(t,a[l])||a.splice(l--,1);return new e(a.length?this.local.concat(a).sort(Gn):this.local,o||this.children)}},{key:"remove",value:function(e){return 0==e.length||this==Ln?this:this.removeInner(e,0)}},{key:"removeInner",value:function(t,n){for(var r=this.children,o=this.local,i=0;i<r.length;i+=3){for(var s,a=void 0,l=r[i]+n,c=r[i+1]+n,u=0;u<t.length;u++)(s=t[u])&&s.from>l&&s.to<c&&(t[u]=null,(a||(a=[])).push(s));if(a){r==this.children&&(r=this.children.slice());var d=r[i+2].removeInner(a,l+1);d!=Ln?r[i+2]=d:(r.splice(i,3),i-=3)}}if(o.length)for(var p,h=0;h<t.length;h++)if(p=t[h])for(var f=0;f<o.length;f++)o[f].eq(p,n)&&(o==this.local&&(o=this.local.slice()),o.splice(f--,1));return r==this.children&&o==this.local?this:o.length||r.length?new e(o,r):Ln}},{key:"forChild",value:function(t,n){if(this==Ln)return this;if(n.isLeaf)return e.empty;for(var r,o,i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(r=this.children[i+2]);break}for(var s=t+1,a=s+n.content.size,l=0;l<this.local.length;l++){var c=this.local[l];if(c.from<a&&c.to>s&&c.type instanceof Pn){var u=Math.max(s,c.from)-s,d=Math.min(a,c.to)-s;u<d&&(o||(o=[])).push(c.copy(u,d))}}if(o){var p=new e(o.sort(Gn),jn);return r?new Vn([p,r]):p}return r||Ln}},{key:"eq",value:function(t){if(this==t)return!0;if(!(t instanceof e)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;return!0}},{key:"locals",value:function(e){return Xn(this.localsInner(e))}},{key:"localsInner",value:function(e){if(this==Ln)return jn;if(e.inlineContent||!this.local.some(Pn.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Pn||t.push(this.local[n]);return t}}],[{key:"create",value:function(e,t){return t.length?Kn(t,e,0,Fn):Ln}}]),e}();Bn.empty=new Bn([],[]),Bn.removeOverlap=Xn;var Ln=Bn.empty,Vn=function(){function e(t){h(this,e),this.members=t}return m(e,[{key:"map",value:function(t,n){var r=this.members.map((function(e){return e.map(t,n,Fn)}));return e.from(r)}},{key:"forChild",value:function(t,n){if(n.isLeaf)return Bn.empty;for(var r=[],o=0;o<this.members.length;o++){var i=this.members[o].forChild(t,n);i!=Ln&&(i instanceof e?r=r.concat(i.members):r.push(i))}return e.from(r)}},{key:"eq",value:function(t){if(!(t instanceof e)||t.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}},{key:"locals",value:function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?Xn(n?t:t.sort(Gn)):jn}}],[{key:"from",value:function(t){switch(t.length){case 0:return Ln;case 1:return t[0];default:return new e(t)}}}]),e}();function qn(e,t,n,r,o,i,s){for(var a=e.slice(),l=function(e,t){var r=0;n.maps[e].forEach((function(e,n,i,s){for(var l=s-i-(n-e),c=0;c<a.length;c+=3){var u=a[c+1];if(!(u<0||e>u+t-r)){var d=a[c]+t-r;n>=d?a[c+1]=e<=d?-2:-1:i>=o&&l&&(a[c]+=l,a[c+1]+=l)}}r+=l})),t=n.maps[e].map(t,-1),u=t},c=0,u=i;c<n.maps.length;c++)l(c,u);for(var d=!1,p=0;p<a.length;p+=3)if(a[p+1]<0){if(-2==a[p+1]){d=!0,a[p+1]=-1;continue}var h=n.map(e[p]+i),f=h-o;if(f<0||f>=r.content.size){d=!0;continue}var m=n.map(e[p+1]+i,-1),v=m-o,g=r.content.findIndex(f),y=g.index,b=g.offset,w=r.maybeChild(y);if(w&&b==f&&b+w.nodeSize==v){var k=a[p+2].mapInner(n,w,h+1,e[p]+i+1,s);k!=Ln?(a[p]=f,a[p+1]=v,a[p+2]=k):(a[p+1]=-2,d=!0)}else d=!0}if(d){var x=Wn(a,e,t,n,o,i,s),S=Kn(x,r,0,s);t=S.local;for(var C=0;C<a.length;C+=3)a[C+1]<0&&(a.splice(C,3),C-=3);for(var _=0,O=0;_<S.children.length;_+=3){var M=S.children[_];while(O<a.length&&a[O]<M)O+=3;a.splice(O,0,S.children[_],S.children[_+1],S.children[_+2])}}return new Bn(t.sort(Gn),a)}function Hn(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new $n(o.from+t,o.to+t,o.type))}return n}function Wn(e,t,n,r,o,i,s){function a(e,t){for(var i=0;i<e.local.length;i++){var l=e.local[i].map(r,o,t);l?n.push(l):s.onRemove&&s.onRemove(e.local[i].spec)}for(var c=0;c<e.children.length;c+=3)a(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&a(e[l+2],t[l]+i+1);return n}function Un(e,t,n){if(t.isLeaf)return null;for(var r,o=n+t.nodeSize,i=null,s=0;s<e.length;s++)(r=e[s])&&r.from>n&&r.to<o&&((i||(i=[])).push(r),e[s]=null);return i}function Jn(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Kn(e,t,n,r){var o=[],i=!1;t.forEach((function(t,s){var a=Un(e,t,s+n);if(a){i=!0;var l=Kn(a,t,n+s+1,r);l!=Ln&&o.push(s,s+t.nodeSize,l)}}));for(var s=Hn(i?Jn(e):e,-n).sort(Gn),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Bn(s,o):Ln}function Gn(e,t){return e.from-t.from||e.to-t.to}function Xn(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),Zn(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),Zn(t,o+1,i.copy(r.to,i.to)))}}return t}function Zn(e,t,n){while(t<e.length&&Gn(n,e[t])>0)t++;e.splice(t,0,n)}function Yn(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=Ln&&t.push(r)})),e.cursorWrapper&&t.push(Bn.create(e.state.doc,[e.cursorWrapper.deco])),Vn.from(t)}var Qn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},er=j&&F<=11,tr=function(){function e(){h(this,e),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return m(e,[{key:"set",value:function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}]),e}(),nr=function(){function e(t,n){var r=this;h(this,e),this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new tr,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)r.queue.push(e[t]);j&&F<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?r.flushSoon():r.flush()})),er&&(this.onCharData=function(e){r.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return m(e,[{key:"flushSoon",value:function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Qn)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)}},{key:"onSelectionChange",value:function(){if(mt(this.view)){if(this.suppressingSelectionUpdates)return it(this.view);if(j&&F<=11&&!this.view.state.selection.empty){var e=this.view.domSelectionRange();if(e.focusNode&&S(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(e){if(!e.focusNode)return!0;for(var t,n=new Set,r=e.focusNode;r;r=w(r))n.add(r);for(var o=e.anchorNode;o;o=w(o))if(n.has(o)){t=o;break}var i=t&&this.view.docView.nearestDesc(t);return i&&i.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}},{key:"flush",value:function(){var e=this.view;if(e.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&mt(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,s=!1,a=[];if(e.editable)for(var l=0;l<t.length;l++){var c=this.registerMutation(t[l],a);c&&(o=o<0?c.from:Math.min(c.from,o),i=i<0?c.to:Math.max(c.to,i),c.typeOver&&(s=!0))}if(B&&a.length>1){var u=a.filter((function(e){return"BR"==e.nodeName}));if(2==u.length){var d=u[0],p=u[1];d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}}var h=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&T(n)&&(h=rt(e))&&h.eq(v.Selection.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,it(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,i),ir(e)),this.handleDOMChange(o,i,s,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||it(e),this.currentSelection.set(n))}}},{key:"registerMutation",value:function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var r=0;r<e.addedNodes.length;r++)t.push(e.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var o=e.previousSibling,i=e.nextSibling;if(j&&F<=11&&e.addedNodes.length)for(var s=0;s<e.addedNodes.length;s++){var a=e.addedNodes[s],l=a.previousSibling,c=a.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(o=l),(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(i=c)}var u=o&&o.parentNode==e.target?b(o)+1:0,d=n.localPosFromDOM(e.target,u,-1),p=i&&i.parentNode==e.target?b(i):e.target.childNodes.length,h=n.localPosFromDOM(e.target,p,1);return{from:d,to:h}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}]),e}(),rr=new WeakMap,or=!1;function ir(e){if(!rr.has(e)&&(rr.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))){if(e.requiresGeckoHackNode=B,or)return;console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),or=!0}}function sr(e){var t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);var r=t.startContainer,o=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.domAtPos(e.state.selection.anchor);if(S(a.node,a.offset,i,s)){var l=[i,s,r,o];r=l[0],o=l[1],i=l[2],s=l[3]}return{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}}function ar(e,t,n){var r,o=e.docView.parseRange(t,n),i=o.node,s=o.fromOffset,a=o.toOffset,l=o.from,c=o.to,u=e.domSelectionRange(),d=u.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(r=[{node:d,offset:u.anchorOffset}],T(u)||r.push({node:u.focusNode,offset:u.focusOffset})),V&&8===e.input.lastKeyCode)for(var p=a;p>s;p--){var h=i.childNodes[p-1],f=h.pmViewDesc;if("BR"==h.nodeName&&!f){a=p;break}if(!f||f.size)break}var m=e.state.doc,v=e.someProp("domParser")||g.DOMParser.fromSchema(e.state.schema),y=m.resolve(l),b=null,w=v.parse(i,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:s,to:a,preserveWhitespace:"pre"!=y.parent.type.whitespace||"full",findPositions:r,ruleFromNode:lr,context:y});if(r&&null!=r[0].pos){var k=r[0].pos,x=r[1]&&r[1].pos;null==x&&(x=k),b={anchor:k+l,head:x+l}}return{doc:w,sel:b,from:l,to:c}}function lr(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(H&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||H&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function cr(e,t,n,r,o){if(t<0){var i=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,s=rt(e,i);if(s&&!e.state.selection.eq(s)){var a=e.state.tr.setSelection(s);"pointer"==i?a.setMeta("pointer",!0):"key"==i&&a.scrollIntoView(),e.dispatch(a)}}else{var l=e.state.doc.resolve(t),c=l.sharedDepth(n);t=l.before(c+1),n=e.state.doc.resolve(n).after(c+1);var u,d,p=e.state.selection,h=ar(e,t,n),f=e.state.doc,m=f.slice(h.from,h.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(u=e.state.selection.to,d="end"):(u=e.state.selection.from,d="start"),e.input.lastKeyCode=null;var g=fr(m.content,h.doc.content,h.from,u,d);if((W&&e.input.lastIOSEnter>Date.now()-225||J)&&o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName||"LI"==e.nodeName}))&&(!g||g.endA>=g.endB)&&e.someProp("handleKeyDown",(function(t){return t(e,A(13,"Enter"))})))e.input.lastIOSEnter=0;else{if(!g){if(!(r&&p instanceof v.TextSelection&&!p.empty&&p.$head.sameParent(p.$anchor))||e.composing||h.sel&&h.sel.anchor!=h.sel.head){if(h.sel){var y=ur(e,e.state.doc,h.sel);y&&!y.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(y))}return}g={start:p.from,endA:p.to,endB:p.to}}if(V&&e.cursorWrapper&&h.sel&&h.sel.anchor==e.cursorWrapper.deco.from&&h.sel.head==h.sel.anchor){var b=g.endB-g.start;h.sel={anchor:h.sel.anchor+b,head:h.sel.anchor+b}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&g.start==g.endB&&e.state.selection instanceof v.TextSelection&&(g.start>e.state.selection.from&&g.start<=e.state.selection.from+2&&e.state.selection.from>=h.from?g.start=e.state.selection.from:g.endA<e.state.selection.to&&g.endA>=e.state.selection.to-2&&e.state.selection.to<=h.to&&(g.endB+=e.state.selection.to-g.endA,g.endA=e.state.selection.to)),j&&F<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>h.from&&"  "==h.doc.textBetween(g.start-h.from-1,g.start-h.from+1)&&(g.start--,g.endA--,g.endB--);var w,k=h.doc.resolveNoCache(g.start-h.from),x=h.doc.resolveNoCache(g.endB-h.from),S=f.resolve(g.start),C=k.sameParent(x)&&k.parent.inlineContent&&S.end()>=g.endA;if((W&&e.input.lastIOSEnter>Date.now()-225&&(!C||o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!C&&k.pos<h.doc.content.size&&(w=v.Selection.findFrom(h.doc.resolve(k.pos+1),1,!0))&&w.head==x.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,A(13,"Enter"))})))e.input.lastIOSEnter=0;else if(e.state.selection.anchor>g.start&&pr(f,g.start,g.endA,k,x)&&e.someProp("handleKeyDown",(function(t){return t(e,A(8,"Backspace"))})))J&&V&&e.domObserver.suppressSelectionUpdates();else{V&&J&&g.endB==g.start&&(e.input.lastAndroidDelete=Date.now()),J&&!C&&k.start()!=x.start()&&0==x.parentOffset&&k.depth==x.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==g.endA&&(g.endB-=2,x=h.doc.resolveNoCache(g.endB-h.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,A(13,"Enter"))}))}),20));var _,O,M,E=g.start,T=g.endA;if(C)if(k.pos==x.pos)j&&F<=11&&0==k.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return it(e)}),20)),_=e.state.tr["delete"](E,T),O=f.resolve(g.start).marksAcross(f.resolve(g.endA));else if(g.endA==g.endB&&(M=dr(k.parent.content.cut(k.parentOffset,x.parentOffset),S.parent.content.cut(S.parentOffset,g.endA-S.start()))))_=e.state.tr,"add"==M.type?_.addMark(E,T,M.mark):_.removeMark(E,T,M.mark);else if(k.parent.child(k.index()).isText&&k.index()==x.index()-(x.textOffset?0:1)){var N=k.parent.textBetween(k.parentOffset,x.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,E,T,N)})))return;_=e.state.tr.insertText(N,E,T)}if(_||(_=e.state.tr.replace(E,T,h.doc.slice(g.start-h.from,g.endB-h.from))),h.sel){var D=ur(e,_.doc,h.sel);D&&!(V&&J&&e.composing&&D.empty&&(g.start!=g.endB||e.input.lastAndroidDelete<Date.now()-100)&&(D.head==E||D.head==_.mapping.map(T)-1)||j&&D.empty&&D.head==E)&&_.setSelection(D)}O&&_.ensureMarks(O),e.dispatch(_.scrollIntoView())}}}}function ur(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:ft(e,t.resolve(n.anchor),t.resolve(n.head))}function dr(e,t){for(var n,r,o,i=e.firstChild.marks,s=t.firstChild.marks,a=i,l=s,c=0;c<s.length;c++)a=s[c].removeFromSet(a);for(var u=0;u<i.length;u++)l=i[u].removeFromSet(l);if(1==a.length&&0==l.length)r=a[0],n="add",o=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=a.length||1!=l.length)return null;r=l[0],n="remove",o=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var d=[],p=0;p<t.childCount;p++)d.push(o(t.child(p)));if(g.Fragment.from(d).eq(e))return{mark:r,type:n}}function pr(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||hr(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=e.resolve(hr(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||hr(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function hr(e,t,n){var r=e.depth,o=t?e.end():e.pos;while(r>0&&(t||e.indexAfter(r)==e.node(r).childCount))r--,o++,t=!1;if(n){var i=e.node(r).maybeChild(e.indexAfter(r));while(i&&!i.isLeaf)i=i.firstChild,o++}return o}function fr(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var s=e.findDiffEnd(t,n+e.size,n+t.size),a=s.a,l=s.b;if("end"==o){var c=Math.max(0,i-Math.min(a,l));r-=a+c-i}if(a<i&&e.size<t.size){var u=r<=i&&r>=a?i-r:0;i-=u,l=i+(l-a),a=i}else if(l<i){var d=r<=i&&r>=l?i-r:0;i-=d,a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}var mr=Rt,vr=It,gr=Cn,yr=function(){function e(t,n){var r=this;h(this,e),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Zt,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(_r),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=kr(this),wr(this),this.nodeViews=Sr(this),this.docView=ze(this.state.doc,br(this),Yn(this),this.dom,this),this.domObserver=new nr(this,(function(e,t,n,o){return cr(r,e,t,n,o)})),this.domObserver.start(),Yt(this),this.updatePluginViews()}return m(e,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props}},{key:"update",value:function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&tn(this);var t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(_r),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}},{key:"setProps",value:function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)}},{key:"updateState",value:function(e){this.updateStateInner(e,this._props)}},{key:"updateStateInner",value:function(e,t){var n=this.state,r=!1,o=!1;e.storedMarks&&this.composing&&(xn(this),o=!0),this.state=e;var i=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(i||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){var s=Sr(this);Cr(s,this.nodeViews)&&(this.nodeViews=s,r=!0)}(i||t.handleDOMEvents!=this._props.handleDOMEvents)&&tn(this),this.editable=kr(this),wr(this);var a=Yn(this),l=br(this),c=n.plugins==e.plugins||n.doc.eq(e.doc)?e.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",u=r||!this.docView.matchesNode(e.doc,l,a);!u&&e.selection.eq(n.selection)||(o=!0);var d="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&ee(this);if(o){this.domObserver.stop();var p=u&&(j||V)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&xr(n.selection,e.selection);if(u){var h=V?this.trackWrites=this.domSelectionRange().focusNode:null;!r&&this.docView.update(e.doc,l,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=ze(e.doc,l,a,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&gt(this))?it(this,p):(pt(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():d&&ne(d)}},{key:"scrollToSelection",value:function(){var e=this,t=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(function(t){return t(e)})));else if(this.state.selection instanceof v.NodeSelection){var n=this.docView.domAfterPos(this.state.selection.from);1==n.nodeType&&Q(this,n.getBoundingClientRect(),t)}else Q(this,this.coordsAtPos(this.state.selection.head,1),t)}},{key:"destroyPluginViews",value:function(){var e;while(e=this.pluginViews.pop())e.destroy&&e.destroy()}},{key:"updatePluginViews",value:function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var o=this.directPlugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var s=this.state.plugins[i];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}}},{key:"someProp",value:function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(var o=0;o<this.directPlugins.length;o++){var i=this.directPlugins[o].props[e];if(null!=i&&(n=t?t(i):i))return n}var s=this.state.plugins;if(s)for(var a=0;a<s.length;a++){var l=s[a].props[e];if(null!=l&&(n=t?t(l):l))return n}}},{key:"hasFocus",value:function(){if(j){var e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;while(e&&this.dom!=e&&this.dom.contains(e)){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&ie(this.dom),it(this),this.domObserver.start()}},{key:"root",get:function(){var e=this,t=this._root;if(null==t)for(var n=function(t){if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return t.ownerDocument.getSelection()}),{v:e._root=t}},o=this.dom.parentNode;o;o=o.parentNode){var i=n(o);if("object"===r(i))return i.v}return t||document}},{key:"posAtCoords",value:function(e){return he(this,e)}},{key:"coordsAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ve(this,e,t)}},{key:"domAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(e,t)}},{key:"nodeDOM",value:function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null}},{key:"posAtDOM",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}},{key:"endOfTextblock",value:function(e,t){return Oe(this,t||this.state,e)}},{key:"destroy",value:function(){this.docView&&(en(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Yn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}},{key:"isDestroyed",get:function(){return null==this.docView}},{key:"dispatchEvent",value:function(e){return on(this,e)}},{key:"dispatch",value:function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}},{key:"domSelectionRange",value:function(){return H&&11===this.root.nodeType&&N(this.dom.ownerDocument)==this.dom?sr(this):this.domSelection()}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),e}();function br(e){var t=Object.create(null);return t["class"]="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r&&(t["class"]+=" "+n[r]),"style"==r?t.style=(t.style?t.style+";":"")+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[$n.node(0,e.state.doc.content.size,t)]}function wr(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:$n.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function kr(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function xr(e,t){var n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Sr(e){var t=Object.create(null);function n(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Cr(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r}function _r(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}t.Decoration=$n,t.DecorationSet=Bn,t.EditorView=yr,t.__endComposition=gr,t.__parseFromClipboard=vr,t.__serializeForClipboard=mr},6691:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),i=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),s="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),a=i||o&&+o[1]<57,l=0;l<10;l++)n[48+l]=n[96+l]=String(l);for(l=1;l<=24;l++)n[l+111]="F"+l;for(l=65;l<=90;l++)n[l]=String.fromCharCode(l+32),r[l]=String.fromCharCode(l);for(var c in n)r.hasOwnProperty(c)||(r[c]=n[c]);function u(e){var t=a&&(e.ctrlKey||e.altKey||e.metaKey)||s&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key,o=!t&&e.key||(e.shiftKey?r:n)[e.keyCode]||e.key||"Unidentified";return"Esc"==o&&(o="Escape"),"Del"==o&&(o="Delete"),"Left"==o&&(o="ArrowLeft"),"Up"==o&&(o="ArrowUp"),"Right"==o&&(o="ArrowRight"),"Down"==o&&(o="ArrowDown"),o}t.base=n,t.keyName=u,t.shift=r}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}!function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p=""}();var o={};return function(){"use strict";r.r(o);var e={};if(r.r(e),r.d(e,{Blockquote:function(){return Bx},Bold:function(){return p_},BulletList:function(){return Hx},Code:function(){return pd},CodeBlock:function(){return Lx},CodeView:function(){return cM},Doc:function(){return hx},ElementTiptap:function(){return px},ElementTiptapPlugin:function(){return uM},FontSize:function(){return U_},FontType:function(){return L_},FormatClear:function(){return UO},Fullscreen:function(){return GO},HardBreak:function(){return Zu},Heading:function(){return jx},History:function(){return K_},HorizontalRule:function(){return J_},Iframe:function(){return d_},Image:function(){return GC},Indent:function(){return tO},Italic:function(){return f_},LineHeight:function(){return oO},Link:function(){return x_},ListItem:function(){return qx},OrderedList:function(){return Wx},Paragraph:function(){return Ox},Preview:function(){return nM},Print:function(){return QO},SelectAll:function(){return rM},Strike:function(){return v_},Table:function(){return l_},TableCell:function(){return ad},TableHeader:function(){return sd},TableRow:function(){return ld},Text:function(){return vl},TextAlign:function(){return Z_},TextColor:function(){return T_},TextHighlight:function(){return A_},Title:function(){return Tx},TodoItem:function(){return e_},TodoList:function(){return t_},TrailingNode:function(){return bd},Underline:function(){return h_},default:function(){return dM}}),"undefined"!==typeof window){var t=window.document.currentScript,n=t&&t.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(r.p=n[1])}r(7658),r(2087),r(541);var i=r(7203),s=r.n(i);function a(e){this.content=e}a.prototype={constructor:a,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return-1==o?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new a(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new a(n)},addToStart:function(e,t){return new a([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new a(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(-1==i?o.length:i,0,t,n),new a(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=a.from(e),e.size?new a(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=a.from(e),e.size?new a(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=a.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},a.from=function(e){if(e instanceof a)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new a(t)};var l=a;function c(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let e=0;o.text[e]==i.text[e];e++)n++;return n}if(o.content.size||i.content.size){let e=c(o.content,i.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function u(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};let s=e.child(--o),a=t.child(--i),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let e=0,t=Math.min(s.text.length,a.text.length);while(e<t&&s.text[s.text.length-e-1]==a.text[a.text.length-e-1])e++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let e=u(s.content,a.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}class d{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,r=0,o){for(let i=0,s=0;s<t;i++){let a=this.content[i],l=s+a.nodeSize;if(l>e&&!1!==n(a,r+s,o||null,i)&&a.content.size){let o=s+1;a.nodesBetween(Math.max(0,e-o),Math.min(a.content.size,t-o),n,r+o)}s=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",i=!0;return this.nodesBetween(e,t,((s,a)=>{s.isText?(o+=s.text.slice(Math.max(e,a)-a,t-a),i=!n):s.isLeaf?(r?o+="function"===typeof r?r(s):r:s.type.spec.leafText&&(o+=s.type.spec.leafText(s)),i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new d(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,i=0;i<t;o++){let s=this.content[o],a=i+s.nodeSize;a>e&&((i<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-i),Math.min(s.text.length,t-i)):s.cut(Math.max(0,e-i-1),Math.min(s.content.size,t-i-1))),n.push(s),r+=s.nodeSize),i=a}return new d(n,r)}cutByIndex(e,t){return e==t?d.empty:0==e&&t==this.content.length?this:new d(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new d(r,o)}addToStart(e){return new d([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new d(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return c(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return u(this,e,t,n)}findIndex(e,t=-1){if(0==e)return h(0,e);if(e==this.size)return h(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),i=r+o.nodeSize;if(i>=e)return i==e||t>0?h(n+1,i):h(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return d.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new d(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return d.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new d(t||e,n)}static from(e){if(!e)return d.empty;if(e instanceof d)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new d([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}d.empty=new d([],0);const p={index:0,offset:0};function h(e,t){return p.index=e,p.offset=t,p}function f(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!f(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!f(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class m{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&f(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return m.none;if(e instanceof m)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}m.none=[];class v extends Error{}class g{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=b(this.content,e+this.openStart,t);return n&&new g(n,this.openStart,this.openEnd)}removeBetween(e,t){return new g(y(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return g.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new g(d.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)r++;return new g(e,n,r)}}function y(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(o==t||i.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(y(i.content,t-o-1,n-o-1)))}function b(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),s=e.maybeChild(o);if(i==t||s.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=b(s.content,t-i-1,n);return a&&e.replaceChild(o,s.copy(a))}function w(e,t,n){if(n.openStart>e.depth)throw new v("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new v("Inconsistent open depths");return k(e,t,n,0)}function k(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let s=k(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:o,end:s}=T(n,e);return O(i,M(e,o,s,t,r))}{let r=e.parent,o=r.content;return O(r,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return O(i,E(e,t,r))}function x(e,t){if(!t.type.compatibleContent(e.type))throw new v("Cannot join "+t.type.name+" onto "+e.type.name)}function S(e,t,n){let r=e.node(n);return x(r,t.node(n)),r}function C(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function _(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(C(e.nodeAfter,r),i++));for(let a=i;a<s;a++)C(o.child(a),r);t&&t.depth==n&&t.textOffset&&C(t.nodeBefore,r)}function O(e,t){if(!e.type.validContent(t))throw new v("Invalid content for node "+e.type.name);return e.copy(t)}function M(e,t,n,r,o){let i=e.depth>o&&S(e,t,o+1),s=r.depth>o&&S(n,r,o+1),a=[];return _(null,e,o,a),i&&s&&t.index(o)==n.index(o)?(x(i,s),C(O(i,M(e,t,n,r,o+1)),a)):(i&&C(O(i,E(e,t,o+1)),a),_(t,n,o,a),s&&C(O(s,E(n,r,o+1)),a)),_(r,null,o,a),new d(a)}function E(e,t,n){let r=[];if(_(null,e,n,r),e.depth>n){let o=S(e,t,n+1);C(O(o,E(e,t,n+1)),r)}return _(t,null,n,r),new d(r)}function T(e,t){let n=t.depth-e.openStart,r=t.node(n),o=r.copy(e.content);for(let i=n-1;i>=0;i--)o=t.node(i).copy(d.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}g.empty=new g(d.empty,0,0);class A{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return e=this.resolveDepth(e),0==e?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let o=0;o<e;o++)r+=n.child(o).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return m.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new I(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let i=e;;){let{index:e,offset:t}=i.content.findIndex(o),s=o-t;if(n.push(i,e,r+t),!s)break;if(i=i.child(e),i.isText)break;o=s-1,r+=t+1}return new A(t,n,o)}static resolveCached(e,t){for(let r=0;r<N.length;r++){let n=N[r];if(n.pos==t&&n.doc==e)return n}let n=N[D]=A.resolve(e,t);return D=(D+1)%R,n}}let N=[],D=0,R=12;class I{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const P=Object.create(null);class z{constructor(e,t,n,r=m.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||d.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&f(this.attrs,t||e.defaultAttrs||P)&&m.sameSet(this.marks,n||m.none)}copy(e=null){return e==this.content?this:new z(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new z(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return g.empty;let r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),s=r.start(i),a=r.node(i),l=a.content.cut(r.pos-s,o.pos-s);return new g(l,r.depth-i,o.depth-i)}replace(e,t,n){return w(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return A.resolveCached(this,e)}resolveNoCache(e){return A.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),j(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=d.empty,r=0,o=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=m.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!m.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((e=>e.type.name))}`);this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=d.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}z.prototype.text=void 0;class $ extends z{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):j(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new $(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new $(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function j(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class F{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new B(e,t);if(null==n.next)return F.empty;let r=L(n);n.next&&n.err("Unexpected trailing text");let o=Z(K(r));return Y(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];function o(i,s){let a=i.matchFragment(e,n);if(a&&(!t||a.validEnd))return d.from(s.map((e=>e.createAndFill())));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=o(n,s.concat(t));if(e)return e}}return null}return o(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:i,next:s}=o.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!s.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}return t(this),e.map(((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let o=0;o<t.next.length;o++)r+=(o?", ":"")+t.next[o].type.name+"->"+e.indexOf(t.next[o].next);return r})).join("\n")}}F.empty=new F(!0);class B{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function L(e){let t=[];do{t.push(V(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function V(e){let t=[];do{t.push(q(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function q(e){let t=J(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=W(e,t)}return t}function H(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function W(e,t){let n=H(e),r=n;return e.eat(",")&&(r="}"!=e.next?H(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function U(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let i in n){let e=n[i];e.groups.indexOf(t)>-1&&o.push(e)}return 0==o.length&&e.err("No node type or group '"+t+"' found"),o}function J(e){if(e.eat("(")){let t=L(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=U(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}function K(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((e=>e.to=t))}function i(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(i(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return r(t,s),o(i(e.expr,s),s),[r(s)]}if("plus"==e.type){let s=n();return o(i(e.expr,t),s),o(i(e.expr,s),s),[r(s)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();o(i(e.expr,s),t),s=t}if(-1==e.max)o(i(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();r(s,t),o(i(e.expr,s),t),s=t}return[r(s)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=i(e.exprs[r],t);if(r==e.exprs.length-1)return s;o(s,t=n())}}}function G(e,t){return t-e}function X(e,t){let n=[];return r(t),n.sort(G);function r(t){let o=e[t];if(1==o.length&&!o[0].term)return r(o[0].to);n.push(t);for(let e=0;e<o.length;e++){let{term:t,to:i}=o[e];t||-1!=n.indexOf(i)||r(i)}}}function Z(e){let t=Object.create(null);return n(X(e,0));function n(r){let o=[];r.forEach((t=>{e[t].forEach((({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<o.length;e++)o[e][0]==t&&(r=o[e][1]);X(e,n).forEach((e=>{r||o.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)}))}))}));let i=t[r.join(",")]=new F(r.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let r=o[e][1].sort(G);i.next.push({type:o[e][0],next:t[r.join(",")]||n(r)})}return i}}function Y(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];i.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(s)&&r.push(s)}o&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Q(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function ee(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=t.default}n[r]=o}return n}function te(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new re(e[n]);return t}class ne{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=te(n.attrs),this.defaultAttrs=Q(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==F.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:ee(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new z(this,this.computeAttrs(e),d.from(t),m.setFrom(n))}createChecked(e=null,t,n){if(t=d.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new z(this,this.computeAttrs(e),t,m.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=d.from(t),t.size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(d.empty,!0);return o?new z(this,e,t.append(o),m.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:m.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,r)=>n[e]=new ne(e,t,r)));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class re{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class oe{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=te(r.attrs),this.excluded=null;let o=Q(this.attrs);this.instance=o?new m(this,o):null}create(e=null){return!e&&this.instance?this.instance:new m(this,ee(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach(((e,o)=>n[e]=new oe(e,r++,t,o))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class ie{constructor(e){this.cached=Object.create(null),this.spec={nodes:l.from(e.nodes),marks:l.from(e.marks||{}),topNode:e.topNode},this.nodes=ne.compile(this.spec.nodes,this),this.marks=oe.compile(this.spec.marks,this);let t=Object.create(null);for(let n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");let e=this.nodes[n],r=e.spec.content||"",o=e.spec.marks;e.contentMatch=t[r]||(t[r]=F.parse(r,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.markSet="_"==o?null:o?se(this,o.split(" ")):""!=o&&e.inlineContent?null:[]}for(let n in this.marks){let e=this.marks[n],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:se(this,t.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof ne))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new $(n,n.defaultAttrs,e,m.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return z.fromJSON(this,e)}markFromJSON(e){return m.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function se(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class ae{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e,t={}){let n=new ve(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new ve(this,t,!0);return n.addAll(e,t.from,t.to),g.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(ye(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r],o=null==e.priority?50:e.priority;if(o<n)break}t.splice(r,0,e)}for(let r in e.marks){let t=e.marks[r].spec.parseDOM;t&&t.forEach((e=>{n(e=we(e)),e.mark=r}))}for(let r in e.nodes){let t=e.nodes[r].spec.parseDOM;t&&t.forEach((e=>{n(e=we(e)),e.node=r}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ae(e,ae.schemaRules(e)))}}const le={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ce={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ue={ol:!0,ul:!0},de=1,pe=2,he=4;function fe(e,t,n){return null!=t?(t?de:0)|("full"===t?pe:0):e&&"pre"==e.whitespace?de|pe:n&~he}class me{constructor(e,t,n,r,o,i,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=m.none,this.stashMarks=[],this.match=i||(s&he?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(d.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&de)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=d.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(d.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):ke(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!le.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ve{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,o=t.topNode,i=fe(null,t.preserveWhitespace,0)|(n?he:0);r=o?new me(o.type,o.attrs,m.none,m.none,!0,t.topMatch||o.type.contentMatch,i):new me(n?null:e.schema.topNodeType,null,m.none,m.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let t=e.getAttribute("style"),n=t?this.readStyles(be(t)):null,r=this.top;if(null!=n)for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);if(this.addElement(e),null!=n)for(let e=0;e<n.length;e++)this.removePendingMark(n[e],r)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(n.options&pe||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&de)t=n.options&pe?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();ue.hasOwnProperty(r)&&this.parser.normalizeLists&&ge(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:ce.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let t,n=this.top,i=this.needsBlock;if(le.hasOwnProperty(r))t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),t&&this.sync(n),this.needsBlock=i}else this.addElementByRule(e,o,!1===o.consuming?n:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=m.none;e:for(let n=0;n<e.length;n+=2)for(let r;;){let o=this.parser.matchStyle(e[n],e[n+1],this,r);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;r=o}return t}addElementByRule(e,t,n){let r,o,i;if(t.node)o=this.parser.schema.nodes[t.node],o.isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs||null,t.preserveWhitespace);else{let e=this.parser.schema.marks[t.mark];i=e.create(t.attrs),this.addPendingMark(i)}let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e)));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(s)&&this.open--,i&&this.removePendingMark(i,s)}addAll(e,t,n){let r=t||0;for(let o=t?e.childNodes[t]:e.firstChild,i=null==n?null:e.childNodes[n];o!=i;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(let r=0;r<t.length;r++)this.enterInner(t[r],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let i=fe(e,r,o.options);o.options&he&&0==o.content.length&&(i|=he),this.nodes.push(new me(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){let e=t.compareDocumentPosition(this.find[r].node);e&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),i=(e,s)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;s>=o;s--)if(i(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=o?n.node(s-o).type:null;if(!e||e.name!=a&&-1==e.groups.indexOf(a))return!1;s--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}addPendingMark(e){let t=xe(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n],o=r.pendingMarks.lastIndexOf(e);if(o>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function ge(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&ue.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}function ye(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function be(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(t=n.exec(e))r.push(t[1],t[2].trim());return r}function we(e){let t={};for(let n in e)t[n]=e[n];return t}function ke(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],s=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t)return!0;if(i.indexOf(o)<0&&s(o))return!0}};if(s(o.contentMatch))return!0}}function xe(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class Se{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=_e(t).createDocumentFragment());let r=n,o=[];return e.forEach((e=>{if(o.length||e.marks.length){let n=0,i=0;while(n<o.length&&i<e.marks.length){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}while(n<o.length)r=o.pop()[1];while(i<e.marks.length){let n=e.marks[i++],s=this.serializeMark(n,e.isInline,t);s&&(o.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=Se.renderSpec(_e(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&Se.renderSpec(_e(n),r(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,o=t[0],i=o.indexOf(" ");i>0&&(n=o.slice(0,i),o=o.slice(i+1));let s=n?e.createElementNS(n,o):e.createElement(o),a=t[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){l=2;for(let e in a)if(null!=a[e]){let t=e.indexOf(" ");t>0?s.setAttributeNS(e.slice(0,t),e.slice(t+1),a[e]):s.setAttribute(e,a[e])}}for(let c=l;c<t.length;c++){let o=t[c];if(0===o){if(c<t.length-1||c>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:t,contentDOM:i}=Se.renderSpec(e,o,n);if(s.appendChild(t),i){if(r)throw new RangeError("Multiple content holes");r=i}}}return{dom:s,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Se(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Ce(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return Ce(e.marks)}}function Ce(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function _e(e){return e.document||window.document}const Oe=65535,Me=Math.pow(2,16);function Ee(e,t){return e+t*Me}function Te(e){return e&Oe}function Ae(e){return(e-(e&Oe))/Me}const Ne=1,De=2,Re=4,Ie=8;class Pe{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&Ie)>0}get deletedBefore(){return(this.delInfo&(Ne|Re))>0}get deletedAfter(){return(this.delInfo&(De|Re))>0}get deletedAcross(){return(this.delInfo&Re)>0}}class ze{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&ze.empty)return ze.empty}recover(e){let t=0,n=Te(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+Ae(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?r:0);if(a>e)break;let l=this.ranges[s+o],c=this.ranges[s+i],u=a+l;if(e<=u){let o=l?e==a?-1:e==u?1:t:t,i=a+r+(o<0?0:c);if(n)return i;let d=e==(t<0?a:u)?null:Ee(s/3,e-a),p=e==a?De:e==u?Ne:Re;return(t<0?e!=a:e!=u)&&(p|=Ie),new Pe(i,p,d)}r+=c-l}return n?e+r:new Pe(e+r,0,null)}touches(e,t){let n=0,r=Te(t),o=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let t=this.ranges[s]-(this.inverted?n:0);if(t>e)break;let a=this.ranges[s+o],l=t+a;if(e<=l&&s==3*r)return!0;n+=this.ranges[s+i]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,a,a+c),o+=c-l}}invert(){return new ze(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?ze.empty:new ze(e<0?[0,-e,0]:[0,0,e])}}ze.empty=new ze([]);class $e{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new $e(this.maps,this.mirror,e,t)}copy(){return new $e(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new $e;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let o=this.from;o<this.to;o++){let n=this.maps[o],i=n.mapResult(e,t);if(null!=i.recover){let t=this.getMirror(o);if(null!=t&&t>o&&t<this.to){o=t,e=this.maps[t].recover(i.recover);continue}}r|=i.delInfo,e=i.pos}return n?e:new Pe(e,r,null)}}const je=Object.create(null);class Fe{getMap(){return ze.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=je[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in je)throw new RangeError("Duplicate use of step JSON ID "+e);return je[e]=t,t.prototype.jsonID=e,t}}class Be{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Be(e,null)}static fail(e){return new Be(null,e)}static fromReplace(e,t,n,r){try{return Be.ok(e.replace(t,n,r))}catch(o){if(o instanceof v)return Be.fail(o.message);throw o}}}function Le(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(Le(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return d.fromArray(r)}class Ve extends Fe{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new g(Le(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),r),t.openStart,t.openEnd);return Be.fromReplace(e,this.from,this.to,o)}invert(){return new qe(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Ve(t.pos,n.pos,this.mark)}merge(e){return e instanceof Ve&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ve(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ve(t.from,t.to,e.markFromJSON(t.mark))}}Fe.jsonID("addMark",Ve);class qe extends Fe{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new g(Le(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return Be.fromReplace(e,this.from,this.to,n)}invert(){return new Ve(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new qe(t.pos,n.pos,this.mark)}merge(e){return e instanceof qe&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new qe(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new qe(t.from,t.to,e.markFromJSON(t.mark))}}Fe.jsonID("removeMark",qe);class He extends Fe{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Be.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Be.fromReplace(e,this.pos,this.pos+1,new g(d.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new He(this.pos,t.marks[n]);return new He(this.pos,this.mark)}}return new We(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new He(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new He(t.pos,e.markFromJSON(t.mark))}}Fe.jsonID("addNodeMark",He);class We extends Fe{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Be.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Be.fromReplace(e,this.pos,this.pos+1,new g(d.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new He(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new We(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new We(t.pos,e.markFromJSON(t.mark))}}Fe.jsonID("removeNodeMark",We);class Ue extends Fe{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&Ke(e,this.from,this.to)?Be.fail("Structure replace would overwrite content"):Be.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ze([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ue(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Ue(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Ue)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?g.empty:new g(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ue(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?g.empty:new g(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ue(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ue(t.from,t.to,g.fromJSON(e,t.slice),!!t.structure)}}Fe.jsonID("replace",Ue);class Je extends Fe{constructor(e,t,n,r,o,i,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=s}apply(e){if(this.structure&&(Ke(e,this.from,this.gapFrom)||Ke(e,this.gapTo,this.to)))return Be.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Be.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Be.fromReplace(e,this.from,this.to,n):Be.fail("Content does not fit in gap")}getMap(){return new ze([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Je(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new Je(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Je(t.from,t.to,t.gapFrom,t.gapTo,g.fromJSON(e,t.slice),t.insert,!!t.structure)}}function Ke(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;while(o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount)i--,o--;if(o>0){let e=r.node(i).maybeChild(r.indexAfter(i));while(o>0){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function Ge(e,t,n,r){let o,i,s=[],a=[];e.doc.nodesBetween(t,n,((e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),d=Math.min(l+e.nodeSize,n),p=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(p)||(o&&o.to==c&&o.mark.eq(u[e])?o.to=d:s.push(o=new qe(c,d,u[e])));i&&i.to==c?i.to=d:a.push(i=new Ve(c,d,r))}})),s.forEach((t=>e.step(t))),a.forEach((t=>e.step(t)))}function Xe(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,((e,s)=>{if(!e.isInline)return;i++;let a=null;if(r instanceof oe){let t,n=e.marks;while(t=r.isInSet(n))(a||(a=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(a=[r]):a=e.marks;if(a&&a.length){let r=Math.min(s+e.nodeSize,n);for(let e=0;e<a.length;e++){let n,l=a[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==i-1&&l.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=i):o.push({style:l,from:Math.max(s,t),to:r,step:i})}}})),o.forEach((t=>e.step(new qe(t.from,t.to,t.style))))}function Ze(e,t,n,r=n.contentMatch){let o=e.doc.nodeAt(t),i=[],s=t+1;for(let a=0;a<o.childCount;a++){let t=o.child(a),l=s+t.nodeSize,c=r.matchType(t.type);if(c){r=c;for(let r=0;r<t.marks.length;r++)n.allowsMarkType(t.marks[r].type)||e.step(new qe(s,l,t.marks[r]))}else i.push(new Ue(s,l,g.empty));s=l}if(!r.validEnd){let t=r.fillBefore(d.empty,!0);e.replace(s,s,new g(t,0,0))}for(let a=i.length-1;a>=0;a--)e.step(i[a])}function Ye(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Qe(e){let t=e.parent,n=t.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let t=e.$from.node(r),o=e.$from.index(r),i=e.$to.indexAfter(r);if(r<e.depth&&t.canReplace(o,i,n))return r;if(0==r||t.type.spec.isolating||!Ye(t,o,i))break}return null}function et(e,t,n){let{$from:r,$to:o,depth:i}=t,s=r.before(i+1),a=o.after(i+1),l=s,c=a,u=d.empty,p=0;for(let m=i,v=!1;m>n;m--)v||r.index(m)>0?(v=!0,u=d.from(r.node(m).copy(u)),p++):l--;let h=d.empty,f=0;for(let m=i,v=!1;m>n;m--)v||o.after(m+1)<o.end(m)?(v=!0,h=d.from(o.node(m).copy(h)),f++):c++;e.step(new Je(l,c,s,a,new g(u.append(h),p,f),u.size-p,!0))}function tt(e,t,n=null,r=e){let o=rt(e,t),i=o&&ot(r,t);return i?o.map(nt).concat({type:t,attrs:n}).concat(i.map(nt)):null}function nt(e){return{type:e,attrs:null}}function rt(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(r,o,s)?i:null}function ot(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let a=s.length?s[s.length-1]:t,l=a.contentMatch;for(let c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return l&&l.validEnd?s:null}function it(e,t,n){let r=d.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let e=n[s].type.contentMatch.matchFragment(r);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=d.from(n[s].type.create(n[s].attrs,r))}let o=t.start,i=t.end;e.step(new Je(o,i,o,i,new g(r,0,0),n.length,!0))}function st(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{if(t.isTextblock&&!t.hasMarkup(r,o)&&at(e.doc,e.mapping.slice(i).map(n),r)){e.clearIncompatible(e.mapping.slice(i).map(n,1),r);let s=e.mapping.slice(i),a=s.map(n,1),l=s.map(n+t.nodeSize,1);return e.step(new Je(a,l,a+1,l-1,new g(d.from(r.create(o,null,t.marks)),0,0),1,!0)),!1}}))}function at(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function lt(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Je(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new g(d.from(s),0,0),1,!0))}function ct(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){let e=o.node(c),t=o.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),i=r&&r[u]||e;if(i!=e&&(n=n.replaceChild(0,i.type.create(i.attrs))),!e.canReplace(t+1,e.childCount)||!i.type.validContent(n))return!1}let a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function ut(e,t,n=1,r){let o=e.doc.resolve(t),i=d.empty,s=d.empty;for(let a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){i=d.from(o.node(a).copy(i));let e=r&&r[c];s=d.from(e?e.type.create(e.attrs,s):o.node(a).copy(s))}e.step(new Ue(t,t,new g(i.append(s),n,n),!0))}function dt(e,t){let n=e.resolve(t),r=n.index();return pt(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function pt(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function ht(e,t,n){let r=new Ue(t-n,t+n,g.empty,!0);e.step(r)}function ft(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let o=r.depth-1;o>=0;o--){let e=r.index(o);if(r.node(o).canReplaceWith(e,e,n))return r.before(o+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let e=r.indexAfter(o);if(r.node(o).canReplaceWith(e,e,n))return r.after(o+1);if(e<r.node(o).childCount)return null}return null}function mt(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(0==n.openStart&&n.size?2:1);i++)for(let e=r.depth;e>=0;e--){let t=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,n=r.index(e)+(t>0?1:0),s=r.node(e),a=!1;if(1==i)a=s.canReplace(n,n,o);else{let e=s.contentMatchAt(n).findWrapping(o.firstChild.type);a=e&&s.canReplaceWith(n,n,e[0])}if(a)return 0==t?r.pos:t<0?r.before(e+1):r.after(e+1)}return null}function vt(e,t,n=t,r=g.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return gt(o,i,r)?new Ue(t,n,r):new yt(o,i,r).fit()}function gt(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Fe.jsonID("replaceAround",Je);class yt{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=d.empty;for(let r=0;r<=e.depth;r++){let t=e.node(r);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=d.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){while(this.unplaced.size){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let o=this.placed,i=n.depth,s=r.depth;while(i&&s&&1==o.childCount)o=o.firstChild.content,i--,s--;let a=new g(o,i,s);return e>-1?new Je(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new Ue(n.pos,r.pos,a):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let n,r=null;t?(r=kt(this.unplaced.content,t-1).firstChild,n=r.content):n=this.unplaced.content;let o=n.firstChild;for(let i=this.depth;i>=0;i--){let n,{type:s,match:a}=this.frontier[i],l=null;if(1==e&&(o?a.matchType(o.type)||(l=a.fillBefore(d.from(o),!1)):r&&s.compatibleContent(r.type)))return{sliceDepth:t,frontierDepth:i,parent:r,inject:l};if(2==e&&o&&(n=a.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:i,parent:r,wrap:n};if(r&&a.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=kt(e,t);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new g(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=kt(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new g(bt(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new g(bt(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:o}){while(this.depth>t)this.closeFrontierNode();if(o)for(let d=0;d<o.length;d++)this.openFrontierNode(o[d]);let i=this.unplaced,s=n?n.content:i.content,a=i.openStart-e,l=0,c=[],{match:u,type:p}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));u=u.matchFragment(r)}let h=s.size+e-(i.content.size-i.openEnd);while(l<s.childCount){let e=s.child(l),t=u.matchType(e.type);if(!t)break;l++,(l>1||0==a||e.content.size)&&(u=t,c.push(xt(e.mark(p.allowedMarks(e.marks)),1==l?a:0,l==s.childCount?h:-1)))}let f=l==s.childCount;f||(h=-1),this.placed=wt(this.placed,t,d.from(c)),this.frontier[t].match=u,f&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let d=0,m=s;d<h;d++){let e=m.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),m=e.content}this.unplaced=f?0==e?g.empty:new g(bt(i.content,e-1,1),e-1,h<0?i.openEnd:e-1):new g(bt(i.content,e,l),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!St(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);while(n>1&&r==this.$to.end(--n))++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=St(e,t,r,n,o);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=St(e,n,r,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:i,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;while(this.depth>t.depth)this.closeFrontierNode();t.fit.childCount&&(this.placed=wt(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=wt(this.placed,this.depth,d.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop(),t=e.match.fillBefore(d.empty,!0);t.childCount&&(this.placed=wt(this.placed,this.frontier.length,t))}}function bt(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(bt(e.firstChild.content,t-1,n)))}function wt(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(wt(e.lastChild.content,t-1,n)))}function kt(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function xt(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,xt(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(d.empty,!0)))),e.copy(r)}function St(e,t,n,r,o){let i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!Ct(n,i.content,s)?a:null}function Ct(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function _t(e){return e.spec.defining||e.spec.definingForContent}function Ot(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(gt(o,i,r))return e.step(new Ue(t,n,r));let s=At(o,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let p=o.depth,h=o.pos-1;p>0;p--,h--){let e=o.node(p).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;s.indexOf(p)>-1?a=p:o.before(p)==h&&s.splice(1,0,-p)}let l=s.indexOf(a),c=[],u=r.openStart;for(let p=r.content,h=0;;h++){let e=p.firstChild;if(c.push(e),h==r.openStart)break;p=e.content}for(let p=u-1;p>=0;p--){let e=c[p].type,t=_t(e);if(t&&o.node(l).type!=e)u=p;else if(t||!e.isTextblock)break}for(let p=r.openStart;p>=0;p--){let t=(p+u+1)%(r.openStart+1),a=c[t];if(a)for(let c=0;c<s.length;c++){let u=s[(c+l)%s.length],d=!0;u<0&&(d=!1,u=-u);let p=o.node(u-1),h=o.index(u-1);if(p.canReplaceWith(h,h,a.type,a.marks))return e.replace(o.before(u),d?i.after(u):n,new g(Mt(r.content,0,r.openStart,t),t,r.openEnd))}}let d=e.steps.length;for(let p=s.length-1;p>=0;p--){if(e.replace(t,n,r),e.steps.length>d)break;let a=s[p];a<0||(t=o.before(a),n=i.after(a))}}function Mt(e,t,n,r,o){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(Mt(o.content,t+1,n,r,o)))}if(t>r){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(d.empty,!0))}return e}function Et(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=ft(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new g(d.from(r),0,0))}function Tt(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=At(r,o);for(let s=0;s<i.length;s++){let t=i[s],n=s==i.length-1;if(n&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),o.end(t));if(t>0&&(n||r.node(t-1).canReplace(r.index(t-1),o.indexAfter(t-1))))return e.delete(r.before(t),o.after(t))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s)return e.delete(r.before(s),n);e.delete(t,n)}function At(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let o=r;o>=0;o--){let r=e.start(o);if(r<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(r==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==r-1)&&n.push(o)}return n}class Nt extends Fe{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Be.fail("No node at attribute step's position");let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return Be.fromReplace(e,this.pos,this.pos+1,new g(d.from(r),0,t.isLeaf?0:1))}getMap(){return ze.empty}invert(e){return new Nt(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Nt(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Nt(t.pos,t.attr,t.value)}}Fe.jsonID("attr",Nt);let Dt=class extends Error{};Dt=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},Dt.prototype=Object.create(Error.prototype),Dt.prototype.constructor=Dt,Dt.prototype.name="TransformError";class Rt{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new $e}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Dt(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=g.empty){let r=vt(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new g(d.from(n),0,0))}delete(e,t){return this.replace(e,t,g.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return Ot(this,e,t,n),this}replaceRangeWith(e,t,n){return Et(this,e,t,n),this}deleteRange(e,t){return Tt(this,e,t),this}lift(e,t){return et(this,e,t),this}join(e,t=1){return ht(this,e,t),this}wrap(e,t){return it(this,e,t),this}setBlockType(e,t=e,n,r=null){return st(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r=[]){return lt(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new Nt(e,t,n)),this}addNodeMark(e,t){return this.step(new He(e,t)),this}removeNodeMark(e,t){if(!(t instanceof m)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new We(e,t)),this}split(e,t=1,n){return ut(this,e,t,n),this}addMark(e,t,n){return Ge(this,e,t,n),this}removeMark(e,t,n){return Xe(this,e,t,n),this}clearIncompatible(e,t,n){return Ze(this,e,t,n),this}}const It=Object.create(null);class Pt{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new zt(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=g.empty){let n=t.content.lastChild,r=null;for(let s=0;s<t.openEnd;s++)r=n,n=n.lastChild;let o=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(l.pos),s?g.empty:t),0==s&&Ut(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:i,$to:s}=r[o],a=e.mapping.slice(n),l=a.map(i.pos),c=a.map(s.pos);o?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),Ut(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new Ft(e):Wt(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let o=e.depth-1;o>=0;o--){let r=t<0?Wt(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):Wt(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(r)return r}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new qt(e.node(0))}static atStart(e){return Wt(e,e,0,0,1)||new qt(e)}static atEnd(e){return Wt(e,e,e.content.size,e.childCount,-1)||new qt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=It[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in It)throw new RangeError("Duplicate use of selection JSON ID "+e);return It[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ft.between(this.$anchor,this.$head).getBookmark()}}Pt.prototype.visible=!0;class zt{constructor(e,t){this.$from=e,this.$to=t}}let $t=!1;function jt(e){$t||e.parent.inlineContent||($t=!0,console["warn"]("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ft extends Pt{constructor(e,t=e){jt(e),jt(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Pt.near(n);let r=e.resolve(t.map(this.anchor));return new Ft(r.parent.inlineContent?r:n,n)}replace(e,t=g.empty){if(super.replace(e,t),t==g.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof Ft&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Bt(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ft(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=Pt.findFrom(t,n,!0)||Pt.findFrom(t,-n,!0);if(!e)return Pt.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r?e=t:(e=(Pt.findFrom(e,-n,!0)||Pt.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=r<0&&(e=t))),new Ft(e,t)}}Pt.jsonID("text",Ft);class Bt{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Bt(e.map(this.anchor),e.map(this.head))}resolve(e){return Ft.between(e.resolve(this.anchor),e.resolve(this.head))}}class Lt extends Pt{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?Pt.near(o):new Lt(o)}content(){return new g(d.from(this.node),0,0)}eq(e){return e instanceof Lt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Vt(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Lt(e.resolve(t.anchor))}static create(e,t){return new Lt(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}Lt.prototype.visible=!1,Pt.jsonID("node",Lt);class Vt{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Bt(n,n):new Vt(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Lt.isSelectable(n)?new Lt(t):Pt.near(t)}}class qt extends Pt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=g.empty){if(t==g.empty){e.delete(0,e.doc.content.size);let t=Pt.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new qt(e)}map(e){return new qt(e)}eq(e){return e instanceof qt}getBookmark(){return Ht}}Pt.jsonID("all",qt);const Ht={map(){return this},resolve(e){return new qt(e)}};function Wt(e,t,n,r,o,i=!1){if(t.inlineContent)return Ft.create(e,n);for(let s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let r=t.child(s);if(r.isAtom){if(!i&&Lt.isSelectable(r))return Lt.create(e,n-(o<0?r.nodeSize:0))}else{let t=Wt(e,r,n+o,o<0?r.childCount:0,o,i);if(t)return t}n+=r.nodeSize*o}return null}function Ut(e,t,n){let r=e.steps.length-1;if(r<t)return;let o=e.steps[r];if(!(o instanceof Ue||o instanceof Je))return;let i,s=e.mapping.maps[r];s.forEach(((e,t,n,r)=>{null==i&&(i=r)})),e.setSelection(Pt.near(e.doc.resolve(i),n))}const Jt=1,Kt=2,Gt=4;class Xt extends Rt{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Jt)&~Kt,this.storedMarks=null,this}get selectionSet(){return(this.updated&Jt)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Kt,this}ensureMarks(e){return m.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Kt)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Kt,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||m.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(Pt.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Gt,this}get scrolledIntoView(){return(this.updated&Gt)>0}}function Zt(e,t){return t&&e?e.bind(t):e}class Yt{constructor(e,t,n){this.name=e,this.init=Zt(t.init,n),this.apply=Zt(t.apply,n)}}const Qt=[new Yt("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Yt("selection",{init(e,t){return e.selection||Pt.atStart(t.doc)},apply(e){return e.selection}}),new Yt("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Yt("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class en{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Qt.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new Yt(e.key,e.spec.state,e))}))}}class tn{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let s=this.config.plugins[i];if(s.spec.appendTransaction){let a=r?r[i].n:0,l=r?r[i].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new tn(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new Xt(this)}static create(e){let t=new en(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new tn(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new en(this.schema,e.plugins),n=t.fields,r=new tn(t);for(let o=0;o<n.length;o++){let t=n[o].name;r[t]=this.hasOwnProperty(t)?this[t]:n[o].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new en(e.schema,e.plugins),o=new tn(r);return r.fields.forEach((r=>{if("doc"==r.name)o.doc=z.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=Pt.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=a.fromJSON.call(s,e,t[i],o))}o[r.name]=r.init(e,o)}})),o}}function nn(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=nn(o,t,{})),n[r]=o}return n}class rn{constructor(e){this.spec=e,this.props={},e.props&&nn(e.props,this,this.props),this.key=e.key?e.key.key:sn("plugin")}getState(e){return e[this.key]}}const on=Object.create(null);function sn(e){return e in on?e+"$"+ ++on[e]:(on[e]=0,e+"$")}class an{constructor(e="key"){this.key=sn(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ln=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},cn=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let un=null;const dn=function(e,t,n){let r=un||(un=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},pn=function(e,t,n,r){return n&&(fn(e,t,n,r,-1)||fn(e,t,n,r,1))},hn=/^(img|br|input|textarea|hr)$/i;function fn(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:mn(e))){let n=e.parentNode;if(!n||1!=n.nodeType||gn(e)||hn.test(e.nodeName)||"false"==e.contentEditable)return!1;t=ln(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(e=e.childNodes[t+(o<0?-1:0)],"false"==e.contentEditable)return!1;t=o<0?mn(e):0}}}function mn(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function vn(e,t,n){for(let r=0==t,o=t==mn(e);r||o;){if(e==n)return!0;let t=ln(e);if(e=e.parentNode,!e)return!1;r=r&&0==t,o=o&&t==mn(e)}}function gn(e){let t;for(let n=e;n;n=n.parentNode)if(t=n.pmViewDesc)break;return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const yn=function(e){return e.focusNode&&pn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function bn(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function wn(e){let t=e.activeElement;while(t&&t.shadowRoot)t=t.shadowRoot.activeElement;return t}const kn="undefined"!=typeof navigator?navigator:null,xn="undefined"!=typeof document?document:null,Sn=kn&&kn.userAgent||"",Cn=/Edge\/(\d+)/.exec(Sn),_n=/MSIE \d/.exec(Sn),On=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Sn),Mn=!!(_n||On||Cn),En=_n?document.documentMode:On?+On[1]:Cn?+Cn[1]:0,Tn=!Mn&&/gecko\/(\d+)/i.test(Sn);Tn&&(/Firefox\/(\d+)/.exec(Sn)||[0,0])[1];const An=!Mn&&/Chrome\/(\d+)/.exec(Sn),Nn=!!An,Dn=An?+An[1]:0,Rn=!Mn&&!!kn&&/Apple Computer/.test(kn.vendor),In=Rn&&(/Mobile\/\w+/.test(Sn)||!!kn&&kn.maxTouchPoints>2),Pn=In||!!kn&&/Mac/.test(kn.platform),zn=/Android \d/.test(Sn),$n=!!xn&&"webkitFontSmoothing"in xn.documentElement.style,jn=$n?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Fn(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Bn(e,t){return"number"==typeof e?e:e[t]}function Ln(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Vn(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;;s=cn(s)){if(!s)break;if(1!=s.nodeType)continue;let e=s,n=e==i.body,a=n?Fn(i):Ln(e),l=0,c=0;if(t.top<a.top+Bn(r,"top")?c=-(a.top-t.top+Bn(o,"top")):t.bottom>a.bottom-Bn(r,"bottom")&&(c=t.bottom-a.bottom+Bn(o,"bottom")),t.left<a.left+Bn(r,"left")?l=-(a.left-t.left+Bn(o,"left")):t.right>a.right-Bn(r,"right")&&(l=t.right-a.right+Bn(o,"right")),l||c)if(n)i.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let o=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-o,top:t.top-i,right:t.right-o,bottom:t.bottom-i}}if(n)break}}function qn(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(i,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=o-20){t=r,n=a.top;break}}return{refDOM:t,refTop:n,stack:Hn(e.dom)}}function Hn(e){let t=[],n=e.ownerDocument;for(let r=e;r;r=cn(r))if(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e==n)break;return t}function Wn({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;Un(n,0==r?0:r-t)}function Un(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Jn=null;function Kn(e){if(e.setActive)return e.setActive();if(Jn)return e.focus(Jn);let t=Hn(e);e.focus(null==Jn?{get preventScroll(){return Jn={preventScroll:!0},!0}}:void 0),Jn||(Jn=!1,Un(t,0))}function Gn(e,t){let n,r,o=2e8,i=0,s=t.top,a=t.top;for(let l=e.firstChild,c=0;l;l=l.nextSibling,c++){let e;if(1==l.nodeType)e=l.getClientRects();else{if(3!=l.nodeType)continue;e=dn(l).getClientRects()}for(let u=0;u<e.length;u++){let d=e[u];if(d.top<=s&&d.bottom>=a){s=Math.max(d.bottom,s),a=Math.min(d.top,a);let e=d.left>t.left?d.left-t.left:d.right<t.left?t.left-d.right:0;if(e<o){n=l,o=e,r=e&&3==n.nodeType?{left:d.right<t.left?d.right:d.left,top:t.top}:t,1==l.nodeType&&e&&(i=c+(t.left>=(d.left+d.right)/2?1:0));continue}}!n&&(t.left>=d.right&&t.top>=d.top||t.left>=d.left&&t.top>=d.bottom)&&(i=c+1)}}return n&&3==n.nodeType?Xn(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:Gn(n,r)}function Xn(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let n=rr(r,1);if(n.top!=n.bottom&&Zn(t,n))return{node:e,offset:o+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}function Zn(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Yn(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function Qn(e,t,n){let{node:r,offset:o}=Gn(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}function er(e,t,n,r){let o=-1;for(let i=t;;){if(i==e.dom)break;let t=e.docView.nearestDesc(i,!0);if(!t)return null;if(t.node.isBlock&&t.parent){let e=t.dom.getBoundingClientRect();if(e.left>r.left||e.top>r.top)o=t.posBefore;else{if(!(e.right<r.left||e.bottom<r.top))break;o=t.posAfter}}i=t.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,1)}function tr(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let o=e[r];if(Zn(t,o))return tr(n,t,o)}}if((i=(i+1)%r)==o)break}return e}function nr(e,t){let n,r=e.dom.ownerDocument,o=0;if(r.caretPositionFromPoint)try{let e=r.caretPositionFromPoint(t.left,t.top);e&&({offsetNode:n,offset:o}=e)}catch(l){}if(!n&&r.caretRangeFromPoint){let e=r.caretRangeFromPoint(t.left,t.top);e&&({startContainer:n,startOffset:o}=e)}let i,s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=e.dom.getBoundingClientRect();if(!Zn(t,n))return null;if(s=tr(e.dom,t,n),!s)return null}if(Rn)for(let c=s;n&&c;c=cn(c))c.draggable&&(n=void 0);if(s=Yn(s,t),n){if(Tn&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let e,r=n.childNodes[o];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?i=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(i=er(e,n,o,t))}null==i&&(i=Qn(e,s,t));let a=e.docView.nearestDesc(s,!0);return{pos:i,inside:a?a.posAtStart-a.border:-1}}function rr(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const or=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ir(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=$n||Tn;if(3==r.nodeType){if(!s||!or.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let e=o,t=o,i=n<0?1:-1;return n<0&&!o?(t++,i=-1):n>=0&&o==r.nodeValue.length?(e--,i=1):n<0?e--:t++,sr(rr(dn(r,e,t),1),i<0)}{let e=rr(dn(r,o,o),n);if(Tn&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=rr(dn(r,o-1,o-1),-1);if(t.top==e.top){let n=rr(dn(r,o,o+1),-1);if(n.top!=e.top)return sr(n,n.left<t.left)}}return e}}let a=e.state.doc.resolve(t-(i||0));if(!a.parent.inlineContent){if(null==i&&o&&(n<0||o==mn(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return ar(e.getBoundingClientRect(),!1)}if(null==i&&o<mn(r)){let e=r.childNodes[o];if(1==e.nodeType)return ar(e.getBoundingClientRect(),!0)}return ar(r.getBoundingClientRect(),n>=0)}if(null==i&&o&&(n<0||o==mn(r))){let e=r.childNodes[o-1],t=3==e.nodeType?dn(e,mn(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return sr(rr(t,1),!1)}if(null==i&&o<mn(r)){let e=r.childNodes[o];while(e.pmViewDesc&&e.pmViewDesc.ignoreForCoords)e=e.nextSibling;let t=e?3==e.nodeType?dn(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return sr(rr(t,-1),!0)}return sr(rr(3==r.nodeType?dn(r):r,-n),n>=0)}function sr(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function ar(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function lr(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function cr(e,t,n){let r=t.selection,o="up"==n?r.$from:r.$to;return lr(e,t,(()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.dom;break}t=n.dom.parentNode}let r=ir(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=dn(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0}))}const ur=/[\u0590-\u08ac]/;function dr(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=e.domSelection();return ur.test(r.parent.textContent)&&a.modify?lr(e,t,(()=>{let{focusNode:t,focusOffset:o,anchorNode:i,anchorOffset:s}=e.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:u,focusOffset:d}=e.domSelectionRange(),p=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&o==d;try{a.collapse(i,s),t&&(t!=i||o!=s)&&a.extend&&a.extend(t,o)}catch(h){}return null!=l&&(a.caretBidiLevel=l),p})):"left"==n||"backward"==n?i:s}let pr=null,hr=null,fr=!1;function mr(e,t,n){return pr==t&&hr==n?fr:(pr=t,hr=n,fr="up"==n||"down"==n?cr(e,t,n):dr(e,t,n))}const vr=0,gr=1,yr=2,br=3;class wr{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=vr,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{while(e.parentNode!=this.contentDOM)e=e.parentNode;n=e.previousSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{while(e.parentNode!=this.contentDOM)e=e.parentNode;n=e.nextSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>ln(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let o,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){while(!r.border&&r.children.length)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n,r=0,o=0;for(let i=0;r<this.children.length;r++){let t=this.children[r],n=i+t.size;if(n>e||t instanceof Mr){o=e-i;break}i=n}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof kr&&n.side>=0;r--);if(t<=0){let e,n=!0;for(;;r--,n=!1)if(e=r?this.children[r-1]:null,!e||e.dom.parentNode==this.contentDOM)break;return e&&t&&n&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?ln(e.dom)+1:0}}{let e,n=!0;for(;;r++,n=!1)if(e=r<this.children.length?this.children[r]:null,!e||e.dom.parentNode==this.contentDOM)break;return e&&n&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?ln(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let i=n,s=0;;s++){let n=this.children[s],a=i+n.size;if(-1==r&&e<=a){let o=i+n.border;if(e>=o&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=i;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=ln(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(a>t||s==this.children.length-1)){t=a;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=ln(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=a}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let o=Math.min(e,t),i=Math.max(e,t);for(let p=0,h=0;p<this.children.length;p++){let s=this.children[p],a=h+s.size;if(o>h&&i<a)return s.setSelection(e-h-s.border,t-h-s.border,n,r);h=a}let s=this.domFromPos(e,e?-1:1),a=t==e?s:this.domFromPos(t,t?-1:1),l=n.getSelection(),c=!1;if((Tn||Rn)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(c=!(!t||"\n"!=e.nodeValue[t-1]),c&&t==e.nodeValue.length)for(let n,r=e;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(s=a={node:n.parentNode,offset:ln(n)+1});break}let e=r.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(Tn&&l.focusNode&&l.focusNode!=a.node&&1==l.focusNode.nodeType){let e=l.focusNode.childNodes[l.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||c&&Rn)&&pn(s.node,s.offset,l.anchorNode,l.anchorOffset)&&pn(a.node,a.offset,l.focusNode,l.focusOffset))return;let u=!1;if((l.extend||e==t)&&!c){l.collapse(s.node,s.offset);try{e!=t&&l.extend(a.node,a.offset),u=!0}catch(d){}}if(!u){if(e>t){let e=s;s=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+o.border,s=i-o.border;if(e>=r&&t<=s)return this.dirty=e==n||t==i?yr:gr,void(e!=r||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-r,t-r):o.dirty=br);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?br:yr}n=i}this.dirty=yr}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?yr:gr;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class kr extends wr{constructor(e,t,n,r){let o,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,(()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r))),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==vr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class xr extends wr{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class Sr extends wr{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let o=r.nodeViews[t.type.name],i=o&&o(t,r,n);return i&&i.dom||(i=Se.renderSpec(document,t.type.spec.toDOM(t,n))),new Sr(e,t,i.dom,i.contentDOM||i.dom)}parseRule(){return this.dirty&br||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=br&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=vr){let e=this.parent;while(!e.node)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=vr}}slice(e,t,n){let r=Sr.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;t<i&&(o=Wr(o,t,i,n)),e>0&&(o=Wr(o,0,e,n));for(let s=0;s<o.length;s++)o[s].parent=r;return r.children=o,r}}class Cr extends wr{constructor(e,t,n,r,o,i,s,a,l){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s,i&&this.updateChildren(a,l)}static create(e,t,n,r,o,i){let s,a=o.nodeViews[t.type.name],l=a&&a(t,o,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i),n,r),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:u}=Se.renderSpec(document,t.type.spec.toDOM(t)));u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=Pr(c,n,t),l?s=new Er(e,t,n,r,c,u||null,d,l,o,i+1):t.isText?new Or(e,t,n,r,c,d,o):new Cr(e,t,n,r,c,u||null,d,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>d.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return this.dirty==vr&&e.eq(this.node)&&zr(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,i=o&&o.pos>-1?o:null,s=o&&o.pos<0,a=new jr(this,i&&i.node,e);Lr(this.node,this.innerDeco,((t,o,i)=>{t.spec.marks?a.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!i&&a.syncToMarks(o==this.node.childCount?m.none:this.node.child(o).marks,n,e),a.placeWidget(t,e,r)}),((t,i,l,c)=>{let u;a.syncToMarks(t.marks,n,e),a.findNodeMatch(t,i,l,c)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(t,i,l,u,e)||a.updateNextNode(t,i,l,e,c)||a.addNode(t,i,l,e,r),r+=t.nodeSize})),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==yr)&&(i&&this.protectLocalComposition(e,i),Tr(this.contentDOM,this.children,e),In&&Vr(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof Ft)||n<t||r>t+this.node.content.size)return null;let o=e.domSelectionRange(),i=qr(o.focusNode,o.focusOffset);if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let e=i.nodeValue,o=Hr(this.node.content,e,n-t,r-t);return o<0?null:{node:i,pos:o,text:e}}return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let o=t;for(;;o=o.parentNode){if(o.parentNode==this.contentDOM)break;while(o.previousSibling)o.parentNode.removeChild(o.previousSibling);while(o.nextSibling)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let i=new xr(this,o,t,r);e.input.compositionNodes.push(i),this.children=Wr(this.children,n,n+r.length,e,i)}update(e,t,n,r){return!(this.dirty==br||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=vr}updateOuterDeco(e){if(zr(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Rr(this.dom,this.nodeDOM,Dr(this.outerDeco,this.node,t),Dr(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function _r(e,t,n,r,o){return Pr(r,t,e),new Cr(void 0,e,t,n,r,r,r,o,0)}class Or extends Cr{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o,null,i,s,0)}parseRule(){let e=this.nodeDOM.parentNode;while(e&&e!=this.dom&&!e.pmIsDeco)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(this.dirty==br||this.dirty!=vr&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),this.dirty==vr&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=vr,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new Or(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=br)}get domAtom(){return!1}}class Mr extends wr{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==vr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Er extends Cr{constructor(e,t,n,r,o,i,s,a,l,c){super(e,t,n,r,o,i,s,l,c),this.spec=a}update(e,t,n,r){if(this.dirty==br)return!1;if(this.spec.update){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Tr(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let s=t[i],a=s.dom;if(a.parentNode==e){while(a!=r)r=$r(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(a,r);if(s instanceof Sr){let t=r?r.previousSibling:e.lastChild;Tr(s.contentDOM,s.children,n),r=t?t.nextSibling:e.firstChild}}while(r)r=$r(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const Ar=function(e){e&&(this.nodeName=e)};Ar.prototype=Object.create(null);const Nr=[new Ar];function Dr(e,t,n){if(0==e.length)return Nr;let r=n?Nr[0]:new Ar,o=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&o.push(r=new Ar(s.nodeName));for(let e in s){let i=s[e];null!=i&&(n&&1==o.length&&o.push(r=new Ar(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return o}function Rr(e,t,n,r){if(n==Nr&&r==Nr)return t;let o=t;for(let i=0;i<r.length;i++){let t=r[i],s=n[i];if(i){let n;s&&s.nodeName==t.nodeName&&o!=e&&(n=o.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(o),s=Nr[0]),o=n}Ir(o,s||Nr[0],t)}return o}function Ir(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(n=r.exec(t.style))e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function Pr(e,t,n){return Rr(e,e,Nr,Dr(t,n,1!=e.nodeType))}function zr(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function $r(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class jr{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Fr(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,o=this.stack.length>>1,i=Math.min(o,e.length);while(r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning)r++;while(r<o)this.destroyRest(),this.top.dirty=vr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;while(o<e.length){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++)if(this.top.children[t].matchesMark(e[o])){r=t;break}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=Sr.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,r){let o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){let r=this.top.children[s];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,r,o){let i=this.top.children[r];return i.dirty==br&&i.dom==i.contentDOM&&(i.dirty=yr),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,o){for(let i=this.index;i<this.top.children.length;i++){let s=this.top.children[i];if(s instanceof Cr){let a=this.preMatch.matched.get(s);if(null!=a&&a!=o)return!1;let l=s.dom,c=this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=br&&zr(t,s.outerDeco));if(!c&&s.update(e,t,n,r))return this.destroyBetween(this.index,i),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,r,o){this.top.children.splice(this.index++,0,Cr.create(this.top,e,t,n,r,o)),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new kr(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;while(e instanceof Sr)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Or)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Rn||Nn)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new Mr(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}}function Fr(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:while(o>0){let a;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof Sr)){a=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}function Br(e,t){return e.type.side-t.type.side}function Lr(e,t,n,r){let o=t.locals(e),i=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,o,t.forChild(i,s),n),i+=s.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){if(s<o.length&&o[s].to==i){let e,t=o[s++];while(s<o.length&&o[s].to==i)(e||(e=[t])).push(o[s++]);if(e){e.sort(Br);for(let t=0;t<e.length;t++)n(e[t],c,!!l)}else n(t,c,!!l)}let u,d;if(l)d=-1,u=l,l=null;else{if(!(c<e.childCount))break;d=c,u=e.child(c++)}for(let e=0;e<a.length;e++)a[e].to<=i&&a.splice(e--,1);while(s<o.length&&o[s].from<=i&&o[s].to>i)a.push(o[s++]);let p=i+u.nodeSize;if(u.isText){let e=p;s<o.length&&o[s].from<e&&(e=o[s].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<p&&(l=u.cut(e-i),u=u.cut(0,e-i),p=e,d=-1)}let h=u.isInline&&!u.isLeaf?a.filter((e=>!e.inline)):a.slice();r(u,h,t.forChild(i,u),d),i=p}}function Vr(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function qr(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=mn(e)}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}function Hr(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let s=e.child(o++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;while(o<e.childCount){let t=e.child(o++);if(i+=t.nodeSize,!t.isText)break;l+=t.text}if(i>=n){let e=a<r?l.lastIndexOf(t,r-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function Wr(e,t,n,r,o){let i=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function Ur(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a,l,c=r.resolve(s);if(yn(n)){a=c;while(o&&!o.node)o=o.parent;let e=o.node;if(o&&e.isAtom&&Lt.isSelectable(e)&&o.parent&&(!e.isInline||!vn(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;l=new Lt(s==e?c:r.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;a=r.resolve(t)}if(!l){let n="pointer"==t||e.state.selection.head<c.pos&&!i?1:-1;l=ro(e,a,c,n)}return l}function Jr(e){return e.editable?e.hasFocus():io(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Kr(e,t=!1){let n=e.state.selection;if(to(e,n),Jr(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Nn){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&pn(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)eo(e);else{let r,o,{anchor:i,head:s}=n;!Gr||n instanceof Ft||(n.$from.parent.inlineContent||(r=Xr(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=Xr(e,n.to))),e.docView.setSelection(i,s,e.root,t),Gr&&(r&&Yr(r),o&&Yr(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Qr(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Gr=Rn||Nn&&Dn<63;function Xr(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Rn&&o&&"false"==o.contentEditable)return Zr(o);if((!o||"false"==o.contentEditable)&&(!i||"false"==i.contentEditable)){if(o)return Zr(o);if(i)return Zr(i)}}function Zr(e){return e.contentEditable="true",Rn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Yr(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Qr(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{Jr(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}function eo(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,ln(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&Mn&&En<=11&&(r.disabled=!0,r.disabled=!1)}function to(e,t){if(t instanceof Lt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(no(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else no(e)}function no(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function ro(e,t,n,r){return e.someProp("createSelectionBetween",(r=>r(e,t,n)))||Ft.between(t,n,r)}function oo(e){return!(e.editable&&!e.hasFocus())&&io(e)}function io(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function so(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return pn(t.node,t.offset,n.anchorNode,n.anchorOffset)}function ao(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&Pt.findFrom(i,t)}function lo(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function co(e,t,n){let r=e.state.selection;if(!(r instanceof Ft)){if(r instanceof Lt&&r.node.isInline)return lo(e,new Ft(t>0?r.$to:r.$from));{let n=ao(e.state,t);return!!n&&lo(e,n)}}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=ao(e.state,t);return!!(n&&n instanceof Lt)&&lo(e,n)}if(!(Pn&&n.indexOf("m")>-1)){let n,o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText)return!1;let s=t<0?o.pos-i.nodeSize:o.pos;return!!(i.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(Lt.isSelectable(i)?lo(e,new Lt(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):!!$n&&lo(e,new Ft(e.state.doc.resolve(t<0?s:s+i.nodeSize))))}}function uo(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function po(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function ho(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=!1;for(Tn&&1==n.nodeType&&r<uo(n)&&po(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(po(e))o=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(mo(n))break;{let t=n.previousSibling;while(t&&po(t))o=n.parentNode,i=ln(t),t=t.previousSibling;if(t)n=t,r=uo(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?vo(e,n,r):o&&vo(e,o,i)}function fo(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=uo(n);for(;;)if(r<s){if(1!=n.nodeType)break;let e=n.childNodes[r];if(!po(e))break;o=n,i=++r}else{if(mo(n))break;{let t=n.nextSibling;while(t&&po(t))o=t.parentNode,i=ln(t)+1,t=t.nextSibling;if(t)n=t,r=0,s=uo(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}o&&vo(e,o,i)}function mo(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function vo(e,t,n){let r=e.domSelection();if(yn(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout((()=>{e.state==o&&Kr(e)}),50)}function go(e,t,n){let r=e.state.selection;if(r instanceof Ft&&!r.empty||n.indexOf("s")>-1)return!1;if(Pn&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=ao(e.state,t);if(n&&n instanceof Lt)return lo(e,n)}if(!o.parent.inlineContent){let n=t<0?o:i,s=r instanceof qt?Pt.near(n,t):Pt.findFrom(n,t);return!!s&&lo(e,s)}return!1}function yo(e,t){if(!(e.state.selection instanceof Ft))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let r=e.state.tr;return t<0?r.delete(n.pos-i.nodeSize,n.pos):r.delete(n.pos,n.pos+i.nodeSize),e.dispatch(r),!0}return!1}function bo(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function wo(e){if(!Rn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;bo(e,n,"true"),setTimeout((()=>bo(e,n,"false")),20)}return!1}function ko(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function xo(e,t){let n=t.keyCode,r=ko(t);return 8==n||Pn&&72==n&&"c"==r?yo(e,-1)||ho(e):46==n||Pn&&68==n&&"c"==r?yo(e,1)||fo(e):13==n||27==n||(37==n||Pn&&66==n&&"c"==r?co(e,-1,r)||ho(e):39==n||Pn&&70==n&&"c"==r?co(e,1,r)||fo(e):38==n||Pn&&80==n&&"c"==r?go(e,-1,r)||ho(e):40==n||Pn&&78==n&&"c"==r?wo(e)||go(e,1,r)||fo(e):r==(Pn?"m":"c")&&(66==n||73==n||89==n||90==n))}function So(e,t){e.someProp("transformCopied",(n=>{t=n(t,e)}));let n=[],{content:r,openStart:o,openEnd:i}=t;while(o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount){o--,i--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let s=e.someProp("clipboardSerializer")||Se.fromSchema(e.state.schema),a=Io(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c,u=l.firstChild,d=0;while(u&&1==u.nodeType&&(c=Do[u.nodeName.toLowerCase()])){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);while(l.firstChild)t.appendChild(l.firstChild);l.appendChild(t),d++}u=l.firstChild}u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${o} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let p=e.someProp("clipboardTextSerializer",(n=>n(t,e)))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:l,text:p}}function Co(e,t,n,r,o){let i,s,a=o.parent.type.spec.code;if(!n&&!t)return null;let l=t&&(r||a||!n);if(l){if(e.someProp("transformPastedText",(n=>{t=n(t,a||r,e)})),a)return t?new g(d.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):g.empty;let n=e.someProp("clipboardTextParser",(n=>n(t,o,r,e)));if(n)s=n;else{let n=o.marks(),{schema:r}=e.state,s=Se.fromSchema(r);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))}))}}else e.someProp("transformPastedHTML",(t=>{n=t(n,e)})),i=Po(n),$n&&zo(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let e=i.firstChild;while(e&&1!=e.nodeType)e=e.nextSibling;if(!e)break;i=e}if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||ae.fromSchema(e.state.schema);s=t.parseSlice(i,{preserveWhitespace:!(!l&&!u),context:o,ruleFromNode(e){return"BR"!=e.nodeName||e.nextSibling||!e.parentNode||_o.test(e.parentNode.nodeName)?null:{ignore:!0}}})}if(u)s=$o(No(s,+u[1],+u[2]),u[4]);else if(s=g.maxOpen(Oo(s.content,o),!0),s.openStart||s.openEnd){let e=0,t=0;for(let n=s.content.firstChild;e<s.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=s.content.lastChild;t<s.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);s=No(s,e,t)}return e.someProp("transformPasted",(t=>{s=t(s,e)})),s}const _o=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Oo(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,o=t.node(n),i=o.contentMatchAt(t.index(n)),s=[];if(e.forEach((e=>{if(!s)return;let t,n=i.findWrapping(e.type);if(!n)return s=null;if(t=s.length&&r.length&&Eo(n,r,e,s[s.length-1],0))s[s.length-1]=t;else{s.length&&(s[s.length-1]=To(s[s.length-1],r.length));let t=Mo(e,n);s.push(t),i=i.matchType(t.type),r=n}})),s)return d.from(s)}return e}function Mo(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,d.from(e));return e}function Eo(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=Eo(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));let s=r.contentMatchAt(r.childCount);if(s.matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(d.from(Mo(n,e,o+1))))}}function To(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,To(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(d.empty,!0);return e.copy(n.append(r))}function Ao(e,t,n,r,o,i){let s=t<0?e.firstChild:e.lastChild,a=s.content;return o<r-1&&(a=Ao(a,t,n,r,o+1,i)),o>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,e.childCount>1||i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(d.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function No(e,t,n){return t<e.openStart&&(e=new g(Ao(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new g(Ao(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Do={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ro=null;function Io(){return Ro||(Ro=document.implementation.createHTMLDocument("title"))}function Po(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=Io().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);if((n=o&&Do[o[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join("")),r.innerHTML=e,n)for(let i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}function zo(e){let t=e.querySelectorAll(Nn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function $o(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(a){return e}let{content:o,openStart:i,openEnd:s}=e;for(let l=n.length-2;l>=0;l-=2){let e=r.nodes[n[l]];if(!e||e.hasRequiredAttrs())break;o=d.from(e.create(n[l+1],o)),i++,s++}return new g(o,i,s)}const jo={},Fo={},Bo={touchstart:!0,touchmove:!0};class Lo{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Vo(e){for(let t in jo){let n=jo[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!Jo(e,t)||Uo(e,t)||!e.editable&&t.type in Fo||n(e,t)},Bo[t]?{passive:!0}:void 0)}Rn&&e.dom.addEventListener("input",(()=>null)),Wo(e)}function qo(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Ho(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Wo(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>Uo(e,t))}))}function Uo(e,t){return e.someProp("handleDOMEvents",(n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Jo(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Ko(e,t){Uo(e,t)||!jo[t.type]||!e.editable&&t.type in Fo||jo[t.type](e,t)}function Go(e){return{left:e.clientX,top:e.clientY}}function Xo(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Zo(e,t,n,r,o){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(e.someProp(t,(t=>s>i.depth?t(e,n,i.nodeAfter,i.before(s),o,!0):t(e,n,i.node(s),i.before(s),o,!1))))return!0;return!1}function Yo(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Qo(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&Lt.isSelectable(r))&&(Yo(e,new Lt(n),"pointer"),!0)}function ei(e,t){if(-1==t)return!1;let n,r,o=e.state.selection;o instanceof Lt&&(n=o.node);let i=e.state.doc.resolve(t);for(let s=i.depth+1;s>0;s--){let e=s>i.depth?i.nodeAfter:i.node(s);if(Lt.isSelectable(e)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(Yo(e,Lt.create(e.state.doc,r),"pointer"),!0)}function ti(e,t,n,r,o){return Zo(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(n=>n(e,t,r)))||(o?ei(e,n):Qo(e,n))}function ni(e,t,n,r){return Zo(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(n=>n(e,t,r)))}function ri(e,t,n,r){return Zo(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(n=>n(e,t,r)))||oi(e,n,r)}function oi(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Yo(e,Ft.create(r,0,r.content.size),"pointer"),!0);let o=r.resolve(t);for(let i=o.depth+1;i>0;i--){let t=i>o.depth?o.nodeAfter:o.node(i),n=o.before(i);if(t.inlineContent)Yo(e,Ft.create(r,n+1,n+1+t.content.size),"pointer");else{if(!Lt.isSelectable(t))continue;Yo(e,Lt.create(r,n),"pointer")}return!0}}function ii(e){return hi(e)}Fo.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!li(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!zn||!Nn||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!In||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||xo(e,n)?n.preventDefault():qo(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,bn(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},Fo.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},Fo.keypress=(e,t)=>{let n=t;if(li(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Pn&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof Ft)||!r.$from.sameParent(r.$to)){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",(n=>n(e,r.$from.pos,r.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const si=Pn?"metaKey":"ctrlKey";jo.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=ii(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&Xo(n,e.input.lastClick)&&!n[si]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};let s=e.posAtCoords(Go(n));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new ai(e,s,n,!!r)):("doubleClick"==i?ni:ri)(e,s.pos,s.inside,n)?n.preventDefault():qo(e,"pointer"))};class ai{constructor(e,t,n,r){let o,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[si],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,i=n.depth?n.before():0}const s=r?null:n.target,a=s?e.docView.nearestDesc(s,!0):null;this.target=a?a.dom:null;let{selection:l}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof Lt&&l.from<=i&&l.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Tn||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),qo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Kr(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Go(e))),this.updateAllowDefault(e),this.allowDefault||!t?qo(this.view,"pointer"):ti(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||Rn&&this.mightDrag&&!this.mightDrag.node.isAtom||Nn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Yo(this.view,Pt.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):qo(this.view,"pointer")}move(e){this.updateAllowDefault(e),qo(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function li(e,t){return!!e.composing||!!(Rn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}jo.touchstart=e=>{e.input.lastTouch=Date.now(),ii(e),qo(e,"pointer")},jo.touchmove=e=>{e.input.lastTouch=Date.now(),qo(e,"pointer")},jo.contextmenu=e=>ii(e);const ci=zn?5e3:-1;function ui(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>hi(e)),t))}function di(e){e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=pi());while(e.input.compositionNodes.length>0)e.input.compositionNodes.pop().markParentsDirty()}function pi(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function hi(e,t=!1){if(!(zn&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),di(e),t||e.docView&&e.docView.dirty){let t=Ur(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}function fi(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}Fo.compositionstart=Fo.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),hi(e,!0),e.markCursor=null;else if(hi(e),Tn&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){e.domSelection().collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}ui(e,ci)},Fo.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,ui(e,20))};const mi=Mn&&En<15||In&&jn<604;function vi(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}function gi(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?yi(e,r.value,null,t):yi(e,r.textContent,r.innerHTML,t)}),50)}function yi(e,t,n,r){let o=Co(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,r,o||g.empty))))return!0;if(!o)return!1;let i=vi(o),s=i?e.state.tr.replaceSelectionWith(i,e.input.shiftKey):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}jo.copy=Fo.cut=(e,t)=>{let n=t,r=e.state.selection,o="cut"==n.type;if(r.empty)return;let i=mi?null:n.clipboardData,s=r.content(),{dom:a,text:l}=So(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):fi(e,a),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Fo.paste=(e,t)=>{let n=t;if(e.composing&&!zn)return;let r=mi?null:n.clipboardData;r&&yi(e,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():gi(e,n)};class bi{constructor(e,t){this.slice=e,this.move=t}}const wi=Pn?"altKey":"ctrlKey";jo.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=e.state.selection,i=o.empty?null:e.posAtCoords(Go(n));if(i&&i.pos>=o.from&&i.pos<=(o instanceof Lt?o.to-1:o.to));else if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(Lt.create(e.state.doc,r.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(Lt.create(e.state.doc,t.posBefore)))}let s=e.state.selection.content(),{dom:a,text:l}=So(e,s);n.dataTransfer.clearData(),n.dataTransfer.setData(mi?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",mi||n.dataTransfer.setData("text/plain",l),e.dragging=new bi(s,!n[wi])},jo.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},Fo.dragover=Fo.dragenter=(e,t)=>t.preventDefault(),Fo.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(Go(n));if(!o)return;let i=e.state.doc.resolve(o.pos),s=r&&r.slice;s?e.someProp("transformPasted",(t=>{s=t(s,e)})):s=Co(e,n.dataTransfer.getData(mi?"Text":"text/plain"),mi?null:n.dataTransfer.getData("text/html"),!1,i);let a=!(!r||n[wi]);if(e.someProp("handleDrop",(t=>t(e,n,s||g.empty,a))))return void n.preventDefault();if(!s)return;n.preventDefault();let l=s?mt(e.state.doc,i.pos,s):i.pos;null==l&&(l=i.pos);let c=e.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,p=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(p))return;let h=c.doc.resolve(u);if(d&&Lt.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Lt(h));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,r,o)=>t=o)),c.setSelection(ro(e,h,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},jo.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Kr(e)}),20))},jo.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},jo.beforeinput=(e,t)=>{let n=t;if(Nn&&zn&&"deleteContentBackward"==n.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,bn(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let r in Fo)jo[r]=Fo[r];function ki(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class xi{constructor(e,t){this.toDOM=e,this.spec=t||Mi,this.side=this.spec.side||0}map(e,t,n,r){let{pos:o,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new _i(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof xi&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ki(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Si{constructor(e,t){this.attrs=e,this.spec=t||Mi}map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new _i(o,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Si&&ki(this.attrs,e.attrs)&&ki(this.spec,e.spec)}static is(e){return e.type instanceof Si}destroy(){}}class Ci{constructor(e,t){this.attrs=e,this.spec=t||Mi}map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new _i(o.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof Ci&&ki(this.attrs,e.attrs)&&ki(this.spec,e.spec)}destroy(){}}class _i{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new _i(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new _i(e,e,new xi(t,n))}static inline(e,t,n,r){return new _i(e,t,new Si(n,r))}static node(e,t,n,r){return new _i(e,t,new Ci(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Si}}const Oi=[],Mi={};class Ei{constructor(e,t){this.local=e.length?e:Oi,this.children=t.length?t:Oi}static create(e,t){return t.length?zi(t,e,0,Mi):Ti}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let i=0;i<this.local.length;i++){let s=this.local[i];s.from<=t&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let s=this.children[i]+1;this.children[i+2].findInner(e-s,t-s,n,r+s,o)}}map(e,t,n){return this==Ti||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Mi)}mapInner(e,t,n,r,o){let i;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,r);a&&a.type.valid(t,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?Ni(this.children,i||[],e,t,n,r,o):i?new Ei(i.sort($i),Oi):Ti}add(e,t){return t.length?this==Ti?Ei.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach(((e,i)=>{let s,a=i+n;if(s=Ii(t,e,a)){r||(r=this.children.slice());while(o<r.length&&r[o]<i)o+=3;r[o]==i?r[o+2]=r[o+2].addInner(e,s,a+1):r.splice(o,0,i,i+e.nodeSize,zi(s,e,a+1,Mi)),o+=3}}));let i=Di(o?Pi(t):t,-n);for(let s=0;s<i.length;s++)i[s].type.valid(e,i[s])||i.splice(s--,1);return new Ei(i.length?this.local.concat(i).sort($i):this.local,r||this.children)}remove(e){return 0==e.length||this==Ti?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let o=0;o<n.length;o+=3){let r,i=n[o]+t,s=n[o+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<s&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let a=n[o+2].removeInner(r,i+1);a!=Ti?n[o+2]=a:(n.splice(o,3),o-=3)}if(r.length)for(let o,i=0;i<e.length;i++)if(o=e[i])for(let e=0;e<r.length;e++)r[e].eq(o,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Ei(r,n):Ti}forChild(e,t){if(this==Ti)return this;if(t.isLeaf)return Ei.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let o=e+1,i=o+t.content.size;for(let s=0;s<this.local.length;s++){let e=this.local[s];if(e.from<i&&e.to>o&&e.type instanceof Si){let t=Math.max(o,e.from)-o,n=Math.min(i,e.to)-o;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let e=new Ei(r.sort($i),Oi);return n?new Ai([e,n]):e}return n||Ti}eq(e){if(this==e)return!0;if(!(e instanceof Ei)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return ji(this.localsInner(e))}localsInner(e){if(this==Ti)return Oi;if(e.inlineContent||!this.local.some(Si.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Si||t.push(this.local[n]);return t}}Ei.empty=new Ei([],[]),Ei.removeOverlap=ji;const Ti=Ei.empty;class Ai{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,Mi)));return Ai.from(n)}forChild(e,t){if(t.isLeaf)return Ei.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=Ti&&(o instanceof Ai?n=n.concat(o.members):n.push(o))}return Ai.from(n)}eq(e){if(!(e instanceof Ai)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?ji(n?t:t.sort($i)):Oi}static from(e){switch(e.length){case 0:return Ti;case 1:return e[0];default:return new Ai(e)}}}function Ni(e,t,n,r,o,i,s){let a=e.slice();for(let c=0,u=i;c<n.maps.length;c++){let e=0;n.maps[c].forEach(((t,n,r,i)=>{let s=i-r-(n-t);for(let l=0;l<a.length;l+=3){let i=a[l+1];if(i<0||t>i+u-e)continue;let c=a[l]+u-e;n>=c?a[l+1]=t<=c?-2:-1:r>=o&&s&&(a[l]+=s,a[l+1]+=s)}e+=s})),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(-2==a[c+1]){l=!0,a[c+1]=-1;continue}let t=n.map(e[c]+i),u=t-o;if(u<0||u>=r.content.size){l=!0;continue}let d=n.map(e[c+1]+i,-1),p=d-o,{index:h,offset:f}=r.content.findIndex(u),m=r.maybeChild(h);if(m&&f==u&&f+m.nodeSize==p){let r=a[c+2].mapInner(n,m,t+1,e[c]+i+1,s);r!=Ti?(a[c]=u,a[c+1]=p,a[c+2]=r):(a[c+1]=-2,l=!0)}else l=!0}if(l){let l=Ri(a,e,t,n,o,i,s),c=zi(l,r,0,s);t=c.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];while(t<a.length&&a[t]<n)t+=3;a.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new Ei(t.sort($i),a)}function Di(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new _i(o.from+t,o.to+t,o.type))}return n}function Ri(e,t,n,r,o,i,s){function a(e,t){for(let i=0;i<e.local.length;i++){let a=e.local[i].map(r,o,t);a?n.push(a):s.onRemove&&s.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let l=0;l<e.length;l+=3)-1==e[l+1]&&a(e[l+2],t[l]+i+1);return n}function Ii(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let i,s=0;s<e.length;s++)(i=e[s])&&i.from>n&&i.to<r&&((o||(o=[])).push(i),e[s]=null);return o}function Pi(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function zi(e,t,n,r){let o=[],i=!1;t.forEach(((t,s)=>{let a=Ii(e,t,s+n);if(a){i=!0;let e=zi(a,t,n+s+1,r);e!=Ti&&o.push(s,s+t.nodeSize,e)}}));let s=Di(i?Pi(e):e,-n).sort($i);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Ei(s,o):Ti}function $i(e,t){return e.from-t.from||e.to-t.to}function ji(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),Fi(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),Fi(t,o+1,i.copy(r.to,i.to)))}}return t}function Fi(e,t,n){while(t<e.length&&$i(n,e[t])>0)t++;e.splice(t,0,n)}function Bi(e){let t=[];return e.someProp("decorations",(n=>{let r=n(e.state);r&&r!=Ti&&t.push(r)})),e.cursorWrapper&&t.push(Ei.create(e.state.doc,[e.cursorWrapper.deco])),Ai.from(t)}const Li={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Vi=Mn&&En<=11;class qi{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Hi{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new qi,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);Mn&&En<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Vi&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Li)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(oo(this.view)){if(this.suppressingSelectionUpdates)return Kr(this.view);if(Mn&&En<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&pn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let o=e.focusNode;o;o=cn(o))n.add(o);for(let o=e.anchorNode;o;o=cn(o))if(n.has(o)){t=o;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&oo(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,s=!1,a=[];if(e.editable)for(let c=0;c<t.length;c++){let e=this.registerMutation(t[c],a);e&&(o=o<0?e.from:Math.min(e.from,o),i=i<0?e.to:Math.max(e.to,i),e.typeOver&&(s=!0))}if(Tn&&a.length>1){let e=a.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}let l=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&yn(n)&&(l=Ur(e))&&l.eq(Pt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Kr(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,i),Ji(e)),this.handleDOMChange(o,i,s,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Kr(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(Mn&&En<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(o=i)}let i=r&&r.parentNode==e.target?ln(r)+1:0,s=n.localPosFromDOM(e.target,i,-1),a=o&&o.parentNode==e.target?ln(o):e.target.childNodes.length,l=n.localPosFromDOM(e.target,a,1);return{from:s,to:l}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Wi=new WeakMap,Ui=!1;function Ji(e){if(!Wi.has(e)&&(Wi.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))){if(e.requiresGeckoHackNode=Tn,Ui)return;console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ui=!0}}function Ki(e){let t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);let r=t.startContainer,o=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return pn(a.node,a.offset,i,s)&&([r,o,i,s]=[i,s,r,o]),{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}}function Gi(e,t,n){let r,{node:o,fromOffset:i,toOffset:s,from:a,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],yn(c)||r.push({node:c.focusNode,offset:c.focusOffset})),Nn&&8===e.input.lastKeyCode)for(let v=s;v>i;v--){let e=o.childNodes[v-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){s=v;break}if(!t||t.size)break}let d=e.state.doc,p=e.someProp("domParser")||ae.fromSchema(e.state.schema),h=d.resolve(a),f=null,m=p.parse(o,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=h.parent.type.whitespace||"full",findPositions:r,ruleFromNode:Xi,context:h});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),f={anchor:e+a,head:t+a}}return{doc:m,sel:f,from:a,to:l}}function Xi(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(Rn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||Rn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Zi(e,t,n,r,o){if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Ur(e,t);if(n&&!e.state.selection.eq(n)){let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),e.dispatch(r)}return}let i=e.state.doc.resolve(t),s=i.sharedDepth(n);t=i.before(s+1),n=e.state.doc.resolve(n).after(s+1);let a,l,c=e.state.selection,u=Gi(e,t,n),d=e.state.doc,p=d.slice(u.from,u.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(a=e.state.selection.to,l="end"):(a=e.state.selection.from,l="start"),e.input.lastKeyCode=null;let h=ns(p.content,u.doc.content,u.from,a,l);if((In&&e.input.lastIOSEnter>Date.now()-225||zn)&&o.some((e=>"DIV"==e.nodeName||"P"==e.nodeName||"LI"==e.nodeName))&&(!h||h.endA>=h.endB)&&e.someProp("handleKeyDown",(t=>t(e,bn(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!h){if(!(r&&c instanceof Ft&&!c.empty&&c.$head.sameParent(c.$anchor))||e.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){let t=Yi(e,e.state.doc,u.sel);t&&!t.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(t))}return}h={start:c.from,endA:c.to,endB:c.to}}if(Nn&&e.cursorWrapper&&u.sel&&u.sel.anchor==e.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let e=h.endB-h.start;u.sel={anchor:u.sel.anchor+e,head:u.sel.anchor+e}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&h.start==h.endB&&e.state.selection instanceof Ft&&(h.start>e.state.selection.from&&h.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?h.start=e.state.selection.from:h.endA<e.state.selection.to&&h.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(h.endB+=e.state.selection.to-h.endA,h.endA=e.state.selection.to)),Mn&&En<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&"  "==u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)&&(h.start--,h.endA--,h.endB--);let f,m=u.doc.resolveNoCache(h.start-u.from),v=u.doc.resolveNoCache(h.endB-u.from),g=d.resolve(h.start),y=m.sameParent(v)&&m.parent.inlineContent&&g.end()>=h.endA;if((In&&e.input.lastIOSEnter>Date.now()-225&&(!y||o.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!y&&m.pos<u.doc.content.size&&(f=Pt.findFrom(u.doc.resolve(m.pos+1),1,!0))&&f.head==v.pos)&&e.someProp("handleKeyDown",(t=>t(e,bn(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>h.start&&es(d,h.start,h.endA,m,v)&&e.someProp("handleKeyDown",(t=>t(e,bn(8,"Backspace")))))return void(zn&&Nn&&e.domObserver.suppressSelectionUpdates());Nn&&zn&&h.endB==h.start&&(e.input.lastAndroidDelete=Date.now()),zn&&!y&&m.start()!=v.start()&&0==v.parentOffset&&m.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,v=u.doc.resolveNoCache(h.endB-u.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,bn(13,"Enter"))}))}),20));let b,w,k,x=h.start,S=h.endA;if(y)if(m.pos==v.pos)Mn&&En<=11&&0==m.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Kr(e)),20)),b=e.state.tr.delete(x,S),w=d.resolve(h.start).marksAcross(d.resolve(h.endA));else if(h.endA==h.endB&&(k=Qi(m.parent.content.cut(m.parentOffset,v.parentOffset),g.parent.content.cut(g.parentOffset,h.endA-g.start()))))b=e.state.tr,"add"==k.type?b.addMark(x,S,k.mark):b.removeMark(x,S,k.mark);else if(m.parent.child(m.index()).isText&&m.index()==v.index()-(v.textOffset?0:1)){let t=m.parent.textBetween(m.parentOffset,v.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,x,S,t))))return;b=e.state.tr.insertText(t,x,S)}if(b||(b=e.state.tr.replace(x,S,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let t=Yi(e,b.doc,u.sel);t&&!(Nn&&zn&&e.composing&&t.empty&&(h.start!=h.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==x||t.head==b.mapping.map(S)-1)||Mn&&t.empty&&t.head==x)&&b.setSelection(t)}w&&b.ensureMarks(w),e.dispatch(b.scrollIntoView())}function Yi(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:ro(e,t.resolve(n.anchor),t.resolve(n.head))}function Qi(e,t){let n,r,o,i=e.firstChild.marks,s=t.firstChild.marks,a=i,l=s;for(let u=0;u<s.length;u++)a=s[u].removeFromSet(a);for(let u=0;u<i.length;u++)l=i[u].removeFromSet(l);if(1==a.length&&0==l.length)r=a[0],n="add",o=e=>e.mark(r.addToSet(e.marks));else{if(0!=a.length||1!=l.length)return null;r=l[0],n="remove",o=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let u=0;u<t.childCount;u++)c.push(o(t.child(u)));if(d.from(c).eq(e))return{mark:r,type:n}}function es(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||ts(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(ts(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||ts(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function ts(e,t,n){let r=e.depth,o=t?e.end():e.pos;while(r>0&&(t||e.indexAfter(r)==e.node(r).childCount))r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));while(t&&!t.isLeaf)t=t.firstChild,o++}return o}function ns(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o){let e=Math.max(0,i-Math.min(s,a));r-=s+e-i}if(s<i&&e.size<t.size){let e=r<=i&&r>=s?i-r:0;i-=e,a=i+(a-s),s=i}else if(a<i){let e=r<=i&&r>=a?i-r:0;i-=e,s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}class rs{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Lo,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(ds),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=as(this),ss(this),this.nodeViews=cs(this),this.docView=_r(this.state.doc,is(this),Bi(this),this.dom,this),this.domObserver=new Hi(this,((e,t,n,r)=>Zi(this,e,t,n,r))),this.domObserver.start(),Vo(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Wo(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(ds),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let n=this.state,r=!1,o=!1;e.storedMarks&&this.composing&&(di(this),o=!0),this.state=e;let i=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(i||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=cs(this);us(e,this.nodeViews)&&(this.nodeViews=e,r=!0)}(i||t.handleDOMEvents!=this._props.handleDOMEvents)&&Wo(this),this.editable=as(this),ss(this);let s=Bi(this),a=is(this),l=n.plugins==e.plugins||n.doc.eq(e.doc)?e.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",c=r||!this.docView.matchesNode(e.doc,a,s);!c&&e.selection.eq(n.selection)||(o=!0);let u="preserve"==l&&o&&null==this.dom.style.overflowAnchor&&qn(this);if(o){this.domObserver.stop();let t=c&&(Mn||Nn)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&ls(n.selection,e.selection);if(c){let n=Nn?this.trackWrites=this.domSelectionRange().focusNode:null;!r&&this.docView.update(e.doc,a,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=_r(e.doc,a,s,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&so(this))?Kr(this,t):(to(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==l?this.dom.scrollTop=0:"to selection"==l?this.scrollToSelection():u&&Wn(u)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(this.state.selection instanceof Lt){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&Vn(this,t.getBoundingClientRect(),e)}else Vn(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;while(e=this.pluginViews.pop())e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let i=0;i<this.directPlugins.length;i++){let r=this.directPlugins[i].props[e];if(null!=r&&(n=t?t(r):r))return n}let o=this.state.plugins;if(o)for(let i=0;i<o.length;i++){let r=o[i].props[e];if(null!=r&&(n=t?t(r):r))return n}}hasFocus(){if(Mn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;while(e&&this.dom!=e&&this.dom.contains(e)){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Kn(this.dom),Kr(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}posAtCoords(e){return nr(this,e)}coordsAtPos(e,t=1){return ir(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return mr(this,t||this.state,e)}destroy(){this.docView&&(Ho(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Bi(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return Ko(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Rn&&11===this.root.nodeType&&wn(this.dom.ownerDocument)==this.dom?Ki(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function is(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e&&(t.class+=" "+n[e]),"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),[_i.node(0,e.state.doc.content.size,t)]}function ss(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:_i.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function as(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function ls(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function cs(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function us(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r}function ds(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function ps(e={}){return new rn({view(t){return new hs(t,e)}})}class hs{constructor(e,t){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map((t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))}destroy(){this.handlers.forEach((({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t)))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let o=t.getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos);e={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let n,r,o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!o||o==document.body&&"static"==getComputedStyle(o).position)n=-pageXOffset,r=-pageYOffset;else{let e=o.getBoundingClientRect();n=e.left-o.scrollLeft,r=e.top-o.scrollTop}this.element.style.left=e.left-n+"px",this.element.style.top=e.top-r+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(e=mt(this.editorView.state.doc,e,this.editorView.dragging.slice),null==e))return this.setCursor(null);this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}for(var fs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ms={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},vs="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),gs=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),ys="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),bs=gs||vs&&+vs[1]<57,ws=0;ws<10;ws++)fs[48+ws]=fs[96+ws]=String(ws);for(ws=1;ws<=24;ws++)fs[ws+111]="F"+ws;for(ws=65;ws<=90;ws++)fs[ws]=String.fromCharCode(ws+32),ms[ws]=String.fromCharCode(ws);for(var ks in fs)ms.hasOwnProperty(ks)||(ms[ks]=fs[ks]);function xs(e){var t=bs&&(e.ctrlKey||e.altKey||e.metaKey)||ys&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key,n=!t&&e.key||(e.shiftKey?ms:fs)[e.keyCode]||e.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}const Ss="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Cs(e){let t,n,r,o,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let a=0;a<i.length-1;a++){let e=i[a];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);Ss?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function _s(e){let t=Object.create(null);for(let n in e)t[Cs(n)]=e[n];return t}function Os(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function Ms(e){return new rn({props:{handleKeyDown:Es(e)}})}function Es(e){let t=_s(e);return function(e,n){let r,o=xs(n),i=1==o.length&&" "!=o,s=t[Os(o,n,!i)];if(s&&s(e.state,e.dispatch,e))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=fs[n.keyCode])&&r!=o){let o=t[Os(r,n,!0)];if(o&&o(e.state,e.dispatch,e))return!0}else if(i&&n.shiftKey){let r=t[Os(o,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}return!1}}class Ts extends Pt{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return Ts.valid(n)?new Ts(n):Pt.near(n)}content(){return g.empty}eq(e){return e instanceof Ts&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ts(e.resolve(t.pos))}getBookmark(){return new As(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Ns(e)||!Ds(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&Ts.valid(e))return e;let r=e.pos,o=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){o=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let s=e.doc.resolve(r);if(Ts.valid(s))return s}for(;;){let i=t>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!Lt.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*t),n=!1;continue e}break}o=i,r+=t;let s=e.doc.resolve(r);if(Ts.valid(s))return s}return null}}}Ts.prototype.visible=!1,Ts.findFrom=Ts.findGapCursorFrom,Pt.jsonID("gapcursor",Ts);class As{constructor(e){this.pos=e}map(e){return new As(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Ts.valid(t)?new Ts(t):Pt.near(t)}}function Ns(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function Ds(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function Rs(){return new rn({props:{decorations:js,createSelectionBetween(e,t,n){return t.pos==n.pos&&Ts.valid(n)?new Ts(n):null},handleClick:zs,handleKeyDown:Is,handleDOMEvents:{beforeinput:$s}}})}const Is=Es({ArrowLeft:Ps("horiz",-1),ArrowRight:Ps("horiz",1),ArrowUp:Ps("vert",-1),ArrowDown:Ps("vert",1)});function Ps(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){let i=e.selection,s=t>0?i.$to:i.$from,a=i.empty;if(i instanceof Ft){if(!o.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=e.doc.resolve(t>0?s.after():s.before())}let l=Ts.findGapCursorFrom(s,t,a);return!!l&&(r&&r(e.tr.setSelection(new Ts(l))),!0)}}function zs(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Ts.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&Lt.isSelectable(e.state.doc.nodeAt(o.inside)))&&(e.dispatch(e.state.tr.setSelection(new Ts(r))),!0)}function $s(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof Ts))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=d.empty;for(let s=r.length-1;s>=0;s--)o=d.from(r[s].createAndFill(null,o));let i=e.state.tr.replace(n.pos,n.pos,new g(o,0,0));return i.setSelection(Ft.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function js(e){if(!(e.selection instanceof Ts))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Ei.create(e.doc,[_i.widget(e.selection.head,t,{key:"gapcursor"})])}const Fs=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0),Bs=(e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;let o=qs(r);if(!o){let n=r.blockRange(),o=n&&Qe(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let i=o.nodeBefore;if(!i.type.spec.isolating&&na(e,o,t))return!0;if(0==r.parent.content.size&&(Ls(i,"end")||Lt.isSelectable(i))){let n=vt(e.doc,r.before(),r.after(),g.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Ls(i,"end")?Pt.findFrom(r.doc.resolve(r.mapping.map(o.pos,-1)),-1):Lt.create(r.doc,o.pos-i.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0)};function Ls(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const Vs=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=qs(r)}let s=i&&i.nodeBefore;return!(!s||!Lt.isSelectable(s))&&(t&&t(e.tr.setSelection(Lt.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function qs(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}const Hs=(e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;let o=Us(r);if(!o)return!1;let i=o.nodeAfter;if(na(e,o,t))return!0;if(0==r.parent.content.size&&(Ls(i,"start")||Lt.isSelectable(i))){let n=vt(e.doc,r.before(),r.after(),g.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Ls(i,"start")?Pt.findFrom(r.doc.resolve(r.mapping.map(o.pos)),1):Lt.create(r.doc,r.mapping.map(o.pos))),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)},Ws=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=Us(r)}let s=i&&i.nodeAfter;return!(!s||!Lt.isSelectable(s))&&(t&&t(e.tr.setSelection(Lt.create(e.doc,i.pos)).scrollIntoView()),!0)};function Us(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Js=(e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),i=o&&Qe(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)},Ks=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function Gs(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Xs=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=Gs(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,s.createAndFill());o.setSelection(Pt.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},Zs=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof qt||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=Gs(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(n,i.createAndFill());s.setSelection(Ft.create(s.doc,n+1)),t(s.scrollIntoView())}return!0},Ys=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(ct(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&Qe(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)},Qs=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof Lt&&e.selection.node.isBlock)return!(!n.parentOffset||!ct(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){let o=r.parentOffset==r.parent.content.size,i=e.tr;(e.selection instanceof Ft||e.selection instanceof qt)&&i.deleteSelection();let s=0==n.depth?null:Gs(n.node(-1).contentMatchAt(n.indexAfter(-1))),a=o&&s?[{type:s}]:void 0,l=ct(i.doc,i.mapping.map(n.pos),1,a);if(a||l||!ct(i.doc,i.mapping.map(n.pos),1,s?[{type:s}]:void 0)||(s&&(a=[{type:s}]),l=!0),l&&(i.split(i.mapping.map(n.pos),1,a),!o&&!n.parentOffset&&n.parent.type!=s)){let e=i.mapping.map(n.before()),t=i.doc.resolve(e);s&&n.node(-1).canReplaceWith(t.index(),t.index()+1,s)&&i.setNodeMarkup(i.mapping.map(n.before()),s)}t(i.scrollIntoView())}return!0},ea=(e,t)=>(t&&t(e.tr.setSelection(new qt(e.doc))),!0);function ta(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!dt(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}function na(e,t,n){let r,o,i=t.nodeBefore,s=t.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(ta(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){let o=t.pos+s.nodeSize,a=d.empty;for(let e=r.length-1;e>=0;e--)a=d.from(r[e].create(null,a));a=d.from(i.copy(a));let l=e.tr.step(new Je(t.pos-1,o,t.pos,o,new g(a,1,0),r.length,!0)),c=o+2*r.length;dt(l.doc,c)&&l.join(c),n(l.scrollIntoView())}return!0}let l=Pt.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),u=c&&Qe(c);if(null!=u&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(a&&Ls(s,"start",!0)&&Ls(i,"end")){let r=i,o=[];for(;;){if(o.push(r),r.isTextblock)break;r=r.lastChild}let a=s,l=1;for(;!a.isTextblock;a=a.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,a.content)){if(n){let r=d.empty;for(let e=o.length-1;e>=0;e--)r=d.from(o[e].copy(r));let i=e.tr.step(new Je(t.pos-o.length,t.pos+s.nodeSize,t.pos+l,t.pos+s.nodeSize-l,new g(r,o.length,0),0,!0));n(i.scrollIntoView())}return!0}}return!1}function ra(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;while(o.node(i).isInline){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(Ft.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}const oa=ra(-1),ia=ra(1);function sa(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),a=s&&tt(s,e,t);return!!a&&(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0)}}function aa(e,t=null){return function(n,r){let{from:o,to:i}=n.selection,s=!1;return n.doc.nodesBetween(o,i,((r,o)=>{if(s)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)s=!0;else{let t=n.doc.resolve(o),r=t.index();s=t.parent.canReplaceWith(r,r+1,e)}})),!!s&&(r&&r(n.tr.setBlockType(o,i,e,t).scrollIntoView()),!0)}}function la(e,t,n){for(let r=0;r<t.length;r++){let{$from:o,$to:i}=t[r],s=0==o.depth&&(e.inlineContent&&e.type.allowsMarkType(n));if(e.nodesBetween(o.pos,i.pos,(e=>{if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return!0}return!1}function ca(e,t=null){return function(n,r){let{empty:o,$cursor:i,ranges:s}=n.selection;if(o&&!i||!la(n.doc,s,e))return!1;if(r)if(i)e.isInSet(n.storedMarks||i.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let o=!1,i=n.tr;for(let t=0;!o&&t<s.length;t++){let{$from:r,$to:i}=s[t];o=n.doc.rangeHasMark(r.pos,i.pos,e)}for(let n=0;n<s.length;n++){let{$from:r,$to:a}=s[n];if(o)i.removeMark(r.pos,a.pos,e);else{let n=r.pos,o=a.pos,s=r.nodeAfter,l=a.nodeBefore,c=s&&s.isText?/^\s*/.exec(s.text)[0].length:0,u=l&&l.isText?/\s*$/.exec(l.text)[0].length:0;n+c<o&&(n+=c,o-=u),i.addMark(n,o,e.create(t))}}r(i.scrollIntoView())}return!0}}function ua(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let da=ua(Fs,Bs,Vs),pa=ua(Fs,Hs,Ws);const ha={Enter:ua(Ks,Zs,Ys,Qs),"Mod-Enter":Xs,Backspace:da,"Mod-Backspace":da,"Shift-Backspace":da,Delete:pa,"Mod-Delete":pa,"Mod-a":ea},fa={"Ctrl-h":ha["Backspace"],"Alt-Backspace":ha["Mod-Backspace"],"Ctrl-d":ha["Delete"],"Ctrl-Alt-Backspace":ha["Mod-Delete"],"Alt-Delete":ha["Mod-Delete"],"Alt-d":ha["Mod-Delete"],"Ctrl-a":oa,"Ctrl-e":ia};for(let r in ha)fa[r]=ha[r];const ma="undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform(),va=ma?fa:ha;class ga{constructor(e,t){this.match=e,this.match=e,this.handler="string"==typeof t?ya(t):t}}function ya(e){return function(t,n,r,o){let i=e;if(n[1]){let e=n[0].lastIndexOf(n[1]);i+=n[0].slice(e+n[1].length),r+=e;let t=r-o;t>0&&(i=n[0].slice(e-t,e)+i,r=o)}return t.tr.insertText(i,r,o)}}const ba=500;function wa({rules:e}){let t=new rn({state:{init(){return null},apply(e,t){let n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput(n,r,o,i){return ka(n,r,o,i,e,t)},handleDOMEvents:{compositionend:n=>{setTimeout((()=>{let{$cursor:r}=n.state.selection;r&&ka(n,r.pos,r.pos,"",e,t)}))}}},isInputRules:!0});return t}function ka(e,t,n,r,o,i){if(e.composing)return!1;let s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;let l=a.parent.textBetween(Math.max(0,a.parentOffset-ba),a.parentOffset,null,"￼")+r;for(let c=0;c<o.length;c++){let a=o[c].match.exec(l),u=a&&o[c].handler(s,a,t-(a[0].length-r.length),n);if(u)return e.dispatch(u.setMeta(i,{transform:u,from:t,to:n,text:r})),!0}return!1}const xa=(e,t)=>{let n=e.plugins;for(let r=0;r<n.length;r++){let o,i=n[r];if(i.spec.isInputRules&&(o=i.getState(e))){if(t){let n=e.tr,r=o.transform;for(let e=r.steps.length-1;e>=0;e--)n.step(r.steps[e].invert(r.docs[e]));if(o.text){let t=n.doc.resolve(o.from).marks();n.replaceWith(o.from,o.to,e.schema.text(o.text,t))}else n.delete(o.from,o.to);t(n)}return!0}}return!1};new ga(/--$/,"—"),new ga(/\.\.\.$/,"…"),new ga(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new ga(/"$/,"”"),new ga(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new ga(/'$/,"’");function Sa(e,t,n=null,r){return new ga(e,((e,o,i,s)=>{let a=n instanceof Function?n(o):n,l=e.tr.delete(i,s),c=l.doc.resolve(i),u=c.blockRange(),d=u&&tt(u,t,a);if(!d)return null;l.wrap(u,d);let p=l.doc.resolve(i-1).nodeBefore;return p&&p.type==t&&dt(l.doc,i-1)&&(!r||r(o,p))&&l.join(i-1),l}))}function Ca(e,t,n=null){return new ga(e,((e,r,o,i)=>{let s=e.doc.resolve(o),a=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,a):null}))}
/*!
* tiptap-utils v1.13.0
* (c) 2021 überdosis GbR (limited liability)
* @license MIT
*/
function _a(e,t){return t?e.createChecked(null,t):e.createAndFill()}function Oa(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach((n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t}function Ma(e,t,n,r,o){const i=Oa(e),s=[],a=[];for(let c=0;c<n;c+=1){const e=_a(i.cell,o);if(e&&a.push(e),r){const e=_a(i.header_cell,o);e&&s.push(e)}}const l=[];for(let c=0;c<t;c+=1)l.push(i.row.createChecked(null,r&&0===c?s:a));return i.table.createChecked(null,l)}function Ea(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e}function Ta(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function Aa(e){return t=>Ta(t.$from,e)}function Na(e){return e instanceof Lt}function Da(e){return function(t){if(Na(t)){const{node:n}=t,{$from:r}=t;if(Ea(e,n))return{node:n,pos:r.pos,depth:r.depth}}}}function Ra(e,t){const{from:n,to:r}=e.selection;let o=[];e.doc.nodesBetween(n,r,(e=>{o=[...o,...e.marks]}));const i=o.find((e=>e.type.name===t.name));return i?i.attrs:{}}function Ia(e=null,t=null){if(!e||!t)return!1;const n=e.parent.childAfter(e.parentOffset);if(!n.node)return!1;const r=n.node.marks.find((e=>e.type===t));if(!r)return!1;let o=e.index(),i=e.start()+n.offset,s=o+1,a=i+n.node.nodeSize;while(o>0&&r.isInSet(e.parent.child(o-1).marks))o-=1,i-=e.parent.child(o).nodeSize;while(s<e.parent.childCount&&r.isInSet(e.parent.child(s).marks))a+=e.parent.child(s).nodeSize,s+=1;return{from:i,to:a}}function Pa(e,t){const{from:n,to:r}=e.selection;let o=[];e.doc.nodesBetween(n,r,(e=>{o=[...o,e]}));const i=o.reverse().find((e=>e.type.name===t.name));return i?i.attrs:{}}function za(e,t){const{from:n,$from:r,to:o,empty:i}=e.selection;return i?!!t.isInSet(e.storedMarks||r.marks()):!!e.doc.rangeHasMark(n,o,t)}function $a({types:e,node:t}){return Array.isArray(e)&&e.includes(t.type)||t.type===e}function ja(e,t,n={}){const r=e=>e.type===t,o=Da(t)(e.selection)||Aa(r)(e.selection);return Object.keys(n).length&&o?o.node.hasMarkup(t,{...o.node.attrs,...n}):!!o}function Fa(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&o.node(s.depth-1).type.compatibleContent(e)&&0==s.startIndex){if(0==o.index(s.depth-1))return!1;let e=n.doc.resolve(s.start-2);l=new I(e,e,s.depth),s.endIndex<s.parent.childCount&&(s=new I(o,n.doc.resolve(i.end(s.depth)),s.depth)),a=!0}let c=tt(l,e,t,s);return!!c&&(r&&r(Ba(n.tr,s,c,a,e).scrollIntoView()),!0)}}function Ba(e,t,n,r,o){let i=d.empty;for(let u=n.length-1;u>=0;u--)i=d.from(n[u].type.create(n[u].attrs,i));e.step(new Je(t.start-(r?2:0),t.end,t.start,t.end,new g(i,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==o&&(s=u+1);let a=n.length-s,l=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,p=!0;u<d;u++,p=!1)!p&&ct(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return e}function La(e){return function(t,n){let{$from:r,$to:o,node:i}=t.selection;if(i&&i.isBlock||r.depth<2||!r.sameParent(o))return!1;let s=r.node(-1);if(s.type!=e)return!1;if(0==r.parent.content.size&&r.node(-1).childCount==r.indexAfter(-1)){if(3==r.depth||r.node(-3).type!=e||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let o=d.empty,i=r.index(-1)?1:r.index(-2)?2:3;for(let e=r.depth-i;e>=r.depth-3;e--)o=d.from(r.node(e).copy(o));let s=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;o=o.append(d.from(e.createAndFill()));let a=r.before(r.depth-(i-1)),l=t.tr.replace(a,r.after(-s),new g(o,4-i,0)),c=-1;l.doc.nodesBetween(a,l.doc.content.size,((e,t)=>{if(c>-1)return!1;e.isTextblock&&0==e.content.size&&(c=t+1)})),c>-1&&l.setSelection(Pt.near(l.doc.resolve(c))),n(l.scrollIntoView())}return!0}let a=o.pos==r.end()?s.contentMatchAt(0).defaultType:null,l=t.tr.delete(r.pos,o.pos),c=a?[null,{type:a}]:void 0;return!!ct(l.doc,r.pos,2,c)&&(n&&n(l.split(r.pos,2,c).scrollIntoView()),!0)}}function Va(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,(t=>t.childCount>0&&t.firstChild.type==e));return!!i&&(!n||(r.node(i.depth-1).type==e?qa(t,n,e,i):Ha(t,n,i)))}}function qa(e,t,n,r){let o=e.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new Je(i-1,s,i,s,new g(d.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new I(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const a=Qe(r);if(null==a)return!1;o.lift(r,a);let l=o.mapping.map(i,-1)-1;return dt(o.doc,l)&&o.join(l),t(o.scrollIntoView()),!0}function Ha(e,t,n){let r=e.tr,o=n.parent;for(let d=n.end,f=n.endIndex-1,m=n.startIndex;f>m;f--)d-=o.child(f).nodeSize,r.delete(d-1,d+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,l=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?d.empty:d.from(o))))return!1;let p=i.pos,h=p+s.nodeSize;return r.step(new Je(p-(a?1:0),h+(l?1:0),p+1,h-1,new g((a?d.empty:d.from(o.copy(d.empty))).append(l?d.empty:d.from(o.copy(d.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function Wa(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,(t=>t.childCount>0&&t.firstChild.type==e));if(!i)return!1;let s=i.startIndex;if(0==s)return!1;let a=i.parent,l=a.child(s-1);if(l.type!=e)return!1;if(n){let r=l.lastChild&&l.lastChild.type==a.type,o=d.from(r?e.create():null),s=new g(d.from(e.create(null,d.from(a.type.create(null,o)))),r?3:1,0),c=i.start,u=i.end;n(t.tr.step(new Je(c-(r?3:1),u,c,u,s,1,!0)).scrollIntoView())}return!0}}function Ua(e,t,n){let r=[];return n.doc.nodesBetween(e,t,((e,t)=>{r=[...r,...e.marks.map((n=>({start:t,end:t+e.nodeSize,mark:n})))]})),r}function Ja(e,t,n){return new ga(e,((e,r,o,i)=>{const s=n instanceof Function?n(r):n,{tr:a}=e,l=r.length-1;let c=i,u=o;if(r[l]){const n=o+r[0].indexOf(r[l-1]),s=n+r[l-1].length-1,d=n+r[l-1].lastIndexOf(r[l]),p=d+r[l].length,h=Ua(o,i,e).filter((e=>{const{excluded:n}=e.mark.type;return n.find((e=>e.name===t.name))})).filter((e=>e.end>n));if(h.length)return!1;p<s&&a.delete(p,s),d>n&&a.delete(n,d),u=n,c=u+r[l].length}return a.addMark(u,c,t.create(s)),a.removeStoredMark(t),a}))}function Ka(e,t,n){return new ga(e,((e,r,o,i)=>{const s=n instanceof Function?n(r):n,{tr:a}=e;return r[0]&&a.replaceWith(o-1,i,t.create(s)),a}))}function Ga(e,t,n){const r=o=>{const i=[];return o.forEach((o=>{if(o.isText){const{text:r}=o;let s,a=0;do{if(s=e.exec(r),s){const e=s.index,r=e+s[0].length,l=n instanceof Function?n(s[0]):n;e>0&&i.push(o.cut(a,e)),i.push(o.cut(e,r).mark(t.create(l).addToSet(o.marks))),a=r}}while(s);a<r.length&&i.push(o.cut(a))}else i.push(o.copy(r(o.content)))})),d.fromArray(i)};return new rn({props:{transformPasted:e=>new g(r(e.content),e.openStart,e.openEnd)}})}function Xa(e,t,n){const r=(o,i)=>{const s=[];return o.forEach((o=>{if(o.isText){const{text:r,marks:a}=o;let l,c=0;const u=!!a.filter((e=>"link"===e.type.name))[0];while(!u&&null!==(l=e.exec(r)))if(i&&i.type.allowsMarkType(t)&&l[1]){const e=l.index,r=e+l[0].length,i=e+l[0].indexOf(l[1]),a=i+l[1].length,u=n instanceof Function?n(l):n;e>0&&s.push(o.cut(c,e)),s.push(o.cut(i,a).mark(t.create(u).addToSet(o.marks))),c=r}c<r.length&&s.push(o.cut(c))}else s.push(o.copy(r(o.content,o)))})),d.fromArray(s)};return new rn({props:{transformPasted:e=>new g(r(e.content),e.openStart,e.openEnd)}})}function Za(e){return(t,n)=>{const{tr:r,selection:o}=t;let{from:i,to:s}=o;const{$from:a,empty:l}=o;if(l){const t=Ia(a,e);i=t.from,s=t.to}return r.removeMark(i,s,e),n(r)}}function Ya(e,t,n=1,r){const o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){const e=o.node(c),t=o.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount);const i=r&&r[u]||e;if(i!=e&&(n=n.replaceChild(0,i.type.create(i.attrs))),!e.canReplace(t+1,e.childCount))return!1}const a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function Qa(e){return function(t,n){const{$from:r,$to:o,node:i}=t.selection;if(i&&i.isBlock||r.depth<2||!r.sameParent(o))return!1;const s=r.node(-1);if(s.type!=e)return!1;if(0==r.parent.content.size){if(2==r.depth||r.node(-3).type!=e||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let o=d.empty;const i=r.index(-1)>0;for(let e=r.depth-(i?1:2);e>=r.depth-3;e--)o=d.from(r.node(e).copy(o));o=o.append(d.from(e.createAndFill()));const s=t.tr.replace(r.before(i?null:-1),r.after(-3),new g(o,i?3:2,2));s.setSelection(t.selection.constructor.near(s.doc.resolve(r.pos+(i?3:2)))),n(s.scrollIntoView())}return!0}const a=o.pos==r.end()?s.contentMatchAt(r.indexAfter(-1)).defaultType:null,l=t.tr.delete(r.pos,o.pos);let c=a&&[{type:e},{type:a}];return c||(c=[{type:e},null]),!!Ya(l.doc,r.pos,2,c)&&(n&&n(l.split(r.pos,2,c).scrollIntoView()),!0)}}function el(e,t,n={}){return(r,o,i)=>{const s=ja(r,e,n);return s?aa(t)(r,o,i):aa(e,n)(r,o,i)}}function tl(e,t){return e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list||e.type===t.nodes.todo_list}function nl(e,t){return(n,r,o)=>{const{schema:i,selection:s}=n,{$from:a,$to:l}=s,c=a.blockRange(l);if(!c)return!1;const u=Aa((e=>tl(e,i)))(s);if(c.depth>=1&&u&&c.depth-u.depth<=1){if(u.node.type===e)return Va(t)(n,r,o);if(tl(u.node,i)&&e.validContent(u.node.content)){const{tr:t}=n;return t.setNodeMarkup(u.pos,e),r&&r(t),!1}}return Fa(e)(n,r,o)}}function rl(e,t={}){return(n,r,o)=>{const i=ja(n,e,t);return i?Js(n,r):sa(e,t)(n,r,o)}}function ol(e,t){return(n,r)=>{const{tr:o,selection:i,doc:s}=n,{ranges:a,empty:l}=i;if(l){const{from:n,to:r}=Ia(i.$from,e);s.rangeHasMark(n,r,e)&&o.removeMark(n,r,e),o.addMark(n,r,e.create(t))}else a.forEach((n=>{const{$to:r,$from:i}=n;s.rangeHasMark(i.pos,r.pos,e)&&o.removeMark(i.pos,r.pos,e),o.addMark(i.pos,r.pos,e.create(t))}));return r(o)}}
/*!
* tiptap v1.32.1
* (c) 2021 überdosis GbR (limited liability)
* @license MIT
*/
function il(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,((e,t)=>0===t?e.toLowerCase():e.toUpperCase())).replace(/\s+/g,"")}class sl{constructor(e,{editor:t,extension:n,parent:r,node:o,view:i,decorations:s,getPos:a}){this.component=e,this.editor=t,this.extension=n,this.parent=r,this.node=o,this.view=i,this.decorations=s,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:a,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}createDOM(){const e=s().extend(this.component),t={editor:this.editor,node:this.node,view:this.view,getPos:()=>this.getPos(),decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:e=>this.updateAttrs(e)};return"function"===typeof this.extension.setSelection&&(this.setSelection=this.extension.setSelection),"function"===typeof this.extension.update&&(this.update=this.extension.update),this.vm=new e({parent:this.parent,propsData:t}).$mount(),this.vm.$el}update(e,t){return e.type===this.node.type&&(e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,this.updateComponentProps({node:e,decorations:t})),!0)}updateComponentProps(e){if(!this.vm._props)return;const t=s().config.silent;s().config.silent=!0,Object.entries(e).forEach((([e,t])=>{this.vm._props[e]=t})),s().config.silent=t}updateAttrs(e){if(!this.view.editable)return;const{state:t}=this.view,{type:n}=this.node,r=this.getPos(),o={...this.node.attrs,...e},i=this.isMark?t.tr.removeMark(r.from,r.to,n).addMark(r.from,r.to,n.create(o)):t.tr.setNodeMarkup(r,null,o);this.view.dispatch(i)}ignoreMutation(e){return"selection"!==e.type&&(!this.contentDOM||!this.contentDOM.contains(e.target))}stopEvent(e){if("function"===typeof this.extension.stopEvent)return this.extension.stopEvent(e);const t=!!this.extension.schema.draggable;if(t&&"mousedown"===e.type){const t=e.target.closest&&e.target.closest("[data-drag-handle]"),n=t&&(this.dom===t||this.dom.contains(t));n&&(this.captureEvents=!1,document.addEventListener("dragend",(()=>{this.captureEvents=!0}),{once:!0}))}const n="copy"===e.type,r="paste"===e.type,o="cut"===e.type,i=e.type.startsWith("drag")||"drop"===e.type;return!(t&&i||n||r||o)&&this.captureEvents}selectNode(){this.updateComponentProps({selected:!0})}deselectNode(){this.updateComponentProps({selected:!1})}getMarkPos(){const e=this.view.posAtDOM(this.dom),t=this.view.state.doc.resolve(e),n=Ia(t,this.node.type);return n}destroy(){this.vm.$destroy()}}class al{on(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}emit(e,...t){this._callbacks=this._callbacks||{};const n=this._callbacks[e];return n&&n.forEach((e=>e.apply(this,t))),this}off(e,t){if(arguments.length){const n=this._callbacks?this._callbacks[e]:null;n&&(t?this._callbacks[e]=n.filter((e=>e!==t)):delete this._callbacks[e])}else this._callbacks={};return this}}class ll{constructor(e={}){this.options={...this.defaultOptions,...e}}init(){return null}bindEditor(e=null){this.editor=e}get name(){return null}get type(){return"extension"}get defaultOptions(){return{}}get plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class cl{constructor(e=[],t){e.forEach((e=>{e.bindEditor(t),e.init()})),this.extensions=e}get nodes(){return this.extensions.filter((e=>"node"===e.type)).reduce(((e,{name:t,schema:n})=>({...e,[t]:n})),{})}get options(){const{view:e}=this;return this.extensions.reduce(((t,n)=>({...t,[n.name]:new Proxy(n.options,{set(t,n,r){const o=t[n]!==r;return Object.assign(t,{[n]:r}),o&&e.updateState(e.state),!0}})})),{})}get marks(){return this.extensions.filter((e=>"mark"===e.type)).reduce(((e,{name:t,schema:n})=>({...e,[t]:n})),{})}get plugins(){return this.extensions.filter((e=>e.plugins)).reduce(((e,{plugins:t})=>[...e,...t]),[])}keymaps({schema:e}){const t=this.extensions.filter((e=>["extension"].includes(e.type))).filter((e=>e.keys)).map((t=>t.keys({schema:e}))),n=this.extensions.filter((e=>["node","mark"].includes(e.type))).filter((e=>e.keys)).map((t=>t.keys({type:e[`${t.type}s`][t.name],schema:e})));return[...t,...n].map((e=>Ms(e)))}inputRules({schema:e,excludedExtensions:t}){if(!(t instanceof Array)&&t)return[];const n=t instanceof Array?this.extensions.filter((e=>!t.includes(e.name))):this.extensions,r=n.filter((e=>["extension"].includes(e.type))).filter((e=>e.inputRules)).map((t=>t.inputRules({schema:e}))),o=n.filter((e=>["node","mark"].includes(e.type))).filter((e=>e.inputRules)).map((t=>t.inputRules({type:e[`${t.type}s`][t.name],schema:e})));return[...r,...o].reduce(((e,t)=>[...e,...t]),[])}pasteRules({schema:e,excludedExtensions:t}){if(!(t instanceof Array)&&t)return[];const n=t instanceof Array?this.extensions.filter((e=>!t.includes(e.name))):this.extensions,r=n.filter((e=>["extension"].includes(e.type))).filter((e=>e.pasteRules)).map((t=>t.pasteRules({schema:e}))),o=n.filter((e=>["node","mark"].includes(e.type))).filter((e=>e.pasteRules)).map((t=>t.pasteRules({type:e[`${t.type}s`][t.name],schema:e})));return[...r,...o].reduce(((e,t)=>[...e,...t]),[])}commands({schema:e,view:t}){return this.extensions.filter((e=>e.commands)).reduce(((n,r)=>{const{name:o,type:i}=r,s={},a=r.commands({schema:e,...["node","mark"].includes(i)?{type:e[`${i}s`][o]}:{}}),l=(e,n)=>!!t.editable&&(t.focus(),e(n)(t.state,t.dispatch,t)),c=(e,t)=>{Array.isArray(t)?s[e]=e=>t.forEach((t=>l(t,e))):"function"===typeof t&&(s[e]=e=>l(t,e))};return"object"===typeof a?Object.entries(a).forEach((([e,t])=>{c(e,t)})):c(o,a),{...n,...s}}),{})}}function ul(e){{const t=document.createElement("style");t.type="text/css",t.textContent=e;const{head:n}=document,{firstChild:r}=n;r?n.insertBefore(t,r):n.appendChild(t)}}class dl extends ll{constructor(e={}){super(e)}get type(){return"mark"}get view(){return null}get schema(){return null}command(){return()=>{}}}function pl(e=0,t=0,n=0){return Math.min(Math.max(parseInt(e,10),t),n)}class hl extends ll{constructor(e={}){super(e)}get type(){return"node"}get view(){return null}get schema(){return null}command(){return()=>{}}}class fl extends hl{get name(){return"doc"}get schema(){return{content:"block+"}}}class ml extends hl{get name(){return"paragraph"}get schema(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:()=>["p",0]}}commands({type:e}){return()=>aa(e)}}class vl extends hl{get name(){return"text"}get schema(){return{group:"inline"}}}var gl='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n';class yl extends al{constructor(e={}){super(),this.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:()=>{},onTransaction:()=>{},onUpdate:()=>{},onFocus:()=>{},onBlur:()=>{},onPaste:()=>{},onDrop:()=>{}},this.events=["init","transaction","update","focus","blur","paste","drop"],this.init(e)}init(e={}){this.setOptions({...this.defaultOptions,...e}),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&ul(gl),null!==this.options.autoFocus&&this.focus(this.options.autoFocus),this.events.forEach((e=>{this.on(e,this.options[il(`on ${e}`)]||(()=>{}))})),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}setOptions(e){this.options={...this.options,...e},this.view&&this.state&&this.view.updateState(this.state)}get builtInExtensions(){return this.options.useBuiltInExtensions?[new fl,new vl,new ml]:[]}get state(){return this.view?this.view.state:null}createExtensions(){return new cl([...this.builtInExtensions,...this.options.extensions],this)}createPlugins(){return this.extensions.plugins}createKeymaps(){return this.extensions.keymaps({schema:this.schema})}createInputRules(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}createPasteRules(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}createNodes(){return this.extensions.nodes}createMarks(){return this.extensions.marks}createSchema(){return new ie({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}createState(){return tn.create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[...this.plugins,wa({rules:this.inputRules}),...this.pasteRules,...this.keymaps,Ms({Backspace:xa}),Ms(va),...this.options.enableDropCursor?[ps(this.options.dropCursor)]:[],...this.options.enableGapCursor?[Rs()]:[],new rn({key:new an("editable"),props:{editable:()=>this.options.editable}}),new rn({props:{attributes:{tabindex:0},handleDOMEvents:{focus:(e,t)=>{this.focused=!0,this.emit("focus",{event:t,state:e.state,view:e});const n=this.state.tr.setMeta("focused",!0);this.view.dispatch(n)},blur:(e,t)=>{this.focused=!1,this.emit("blur",{event:t,state:e.state,view:e});const n=this.state.tr.setMeta("focused",!1);this.view.dispatch(n)}}}}),new rn({props:this.options.editorProps})]})}createDocument(e,t=this.options.parseOptions){if(null===e)return this.schema.nodeFromJSON(this.options.emptyDocument);if("object"===typeof e)try{return this.schema.nodeFromJSON(e)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",n),this.schema.nodeFromJSON(this.options.emptyDocument)}if("string"===typeof e){const n=`<div>${e}</div>`,r=new window.DOMParser,o=r.parseFromString(n,"text/html").body.firstElementChild;return ae.fromSchema(this.schema).parse(o,t)}return!1}createView(){return new rs(this.element,{state:this.createState(),handlePaste:(...e)=>{this.emit("paste",...e)},handleDrop:(...e)=>{this.emit("drop",...e)},dispatchTransaction:this.dispatchTransaction.bind(this)})}setParentComponent(e=null){e&&this.view.setProps({nodeViews:this.initNodeViews({parent:e,extensions:[...this.builtInExtensions,...this.options.extensions]})})}initNodeViews({parent:e,extensions:t}){return t.filter((e=>["node","mark"].includes(e.type))).filter((e=>e.view)).reduce(((t,n)=>{const r=(t,r,o,i)=>{const s=n.view;return new sl(s,{editor:this,extension:n,parent:e,node:t,view:r,getPos:o,decorations:i})};return{...t,[n.name]:r}}),{})}dispatchTransaction(e){const t=this.state.apply(e);this.view.updateState(t),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emitUpdate(e)}emitUpdate(e){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e})}resolveSelection(e=null){if(this.selection&&null===e)return this.selection;if("start"===e||!0===e)return{from:0,to:0};if("end"===e){const{doc:e}=this.state;return{from:e.content.size,to:e.content.size}}return{from:e,to:e}}focus(e=null){if(this.view.focused&&null===e||!1===e)return;const{from:t,to:n}=this.resolveSelection(e);this.setSelection(t,n),setTimeout((()=>this.view.focus()),10)}setSelection(e=0,t=0){const{doc:n,tr:r}=this.state,o=pl(e,0,n.content.size),i=pl(t,0,n.content.size),s=Ft.create(n,o,i),a=r.setSelection(s);this.view.dispatch(a)}blur(){this.view.dom.blur()}getSchemaJSON(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}getHTML(){const e=document.createElement("div"),t=Se.fromSchema(this.schema).serializeFragment(this.state.doc.content);return e.appendChild(t),e.innerHTML}getJSON(){return this.state.doc.toJSON()}setContent(e={},t=!1,n){const{doc:r,tr:o}=this.state,i=this.createDocument(e,n),s=Ft.create(r,0,r.content.size),a=o.setSelection(s).replaceSelectionWith(i,!1).setMeta("preventUpdate",!t);this.view.dispatch(a)}clearContent(e=!1){this.setContent(this.options.emptyDocument,e)}setActiveNodesAndMarks(){this.activeMarks=Object.entries(this.schema.marks).reduce(((e,[t,n])=>({...e,[t]:(e={})=>za(this.state,n,e)})),{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce(((e,[t,n])=>({...e,[t]:Ra(this.state,n)})),{}),this.activeNodes=Object.entries(this.schema.nodes).reduce(((e,[t,n])=>({...e,[t]:(e={})=>ja(this.state,n,e)})),{})}getMarkAttrs(e=null){return this.activeMarkAttrs[e]}getNodeAttrs(e=null){return{...Pa(this.state,this.schema.nodes[e])}}get isActive(){return Object.entries({...this.activeMarks,...this.activeNodes}).reduce(((e,[t,n])=>({...e,[t]:(e={})=>n(e)})),{})}registerPlugin(e=null,t){const n="function"===typeof t?t(e,this.state.plugins):[e,...this.state.plugins],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(e=null){if(!e||!this.view.docView)return;const t=this.state.reconfigure({plugins:this.state.plugins.filter((t=>!t.key.startsWith(`${e}$`)))});this.view.updateState(t)}destroy(){this.view&&this.view.destroy()}}var bl={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(e){e&&e.element&&this.$nextTick((()=>{this.$el.appendChild(e.element.firstChild),e.setParentComponent(this)}))}}},render(e){return e("div")},beforeDestroy(){this.editor.element=this.$el}};class wl{constructor({options:e}){this.options=e,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.blurHandler=()=>{this.preventHide?this.preventHide=!1:this.options.editor.emit("menubar:focusUpdate",!1)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("blur",this.blurHandler)}}function kl(e){return new rn({key:new an("menu_bar"),view(t){return new wl({editorView:t,options:e})}})}var xl={props:{editor:{default:null,type:Object}},data(){return{focused:!1}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick((()=>{e.registerPlugin(kl({editor:e,element:this.$el})),this.focused=e.focused,e.on("focus",(()=>{this.focused=!0})),e.on("menubar:focusUpdate",(e=>{this.focused=e}))}))}}},render(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};function Sl(e,t,n){const r=document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,Math.max(t,0)),r}function Cl(e,t){const n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function _l(e,t,n=!1){const{node:r,offset:o}=e.docView.domFromPos(t);let i,s;if(3===r.nodeType)n&&o<r.nodeValue.length?(s=Cl(Sl(r,o-1,o),-1),i="right"):o<r.nodeValue.length&&(s=Cl(Sl(r,o,o+1),-1),i="left");else if(r.firstChild){if(o<r.childNodes.length){const e=r.childNodes[o];s=Cl(3===e.nodeType?Sl(e):e,-1),i="left"}if((!s||s.top===s.bottom)&&o){const e=r.childNodes[o-1];s=Cl(3===e.nodeType?Sl(e):e,1),i="right"}}else s=r.getBoundingClientRect(),i="left";const a=s[i];return{top:s.top,bottom:s.bottom,left:a,right:a}}class Ol{constructor({options:e,editorView:t}){this.options={element:null,keepInBounds:!0,onUpdate:()=>!1,...e},this.editorView=t,this.isActive=!1,this.left=0,this.bottom=0,this.top=0,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.focusHandler=({view:e})=>{this.update(e)},this.options.editor.on("focus",this.focusHandler),this.blurHandler=({event:e})=>{this.preventHide?this.preventHide=!1:this.hide(e)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}update(e,t){const{state:n}=e;if(e.composing)return;if(t&&t.doc.eq(n.doc)&&t.selection.eq(n.selection))return;if(n.selection.empty)return void this.hide();const{from:r,to:o}=n.selection,i=_l(e,r),s=_l(e,o,!0),a=this.options.element.offsetParent;if(!a)return void this.hide();const l=a.getBoundingClientRect(),c=this.options.element.getBoundingClientRect(),u=(i.left+s.left)/2-l.left;this.left=Math.round(this.options.keepInBounds?Math.min(l.width-c.width/2,Math.max(u,c.width/2)):u),this.bottom=Math.round(l.bottom-i.top),this.top=Math.round(s.bottom-l.top),this.isActive=!0,this.sendUpdate()}sendUpdate(){this.options.onUpdate({isActive:this.isActive,left:this.left,bottom:this.bottom,top:this.top})}hide(e){e&&e.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(e.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler)}}function Ml(e){return new rn({key:new an("menu_bubble"),view(t){return new Ol({editorView:t,options:e})}})}var El={props:{editor:{default:null,type:Object},keepInBounds:{default:!0,type:Boolean}},data(){return{menu:{isActive:!1,left:0,bottom:0}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick((()=>{e.registerPlugin(Ml({editor:e,element:this.$el,keepInBounds:this.keepInBounds,onUpdate:e=>{e.isActive&&!1===this.menu.isActive?this.$emit("show",e):e.isActive||!0!==this.menu.isActive||this.$emit("hide",e),this.menu=e}}))}))}}},render(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy(){this.editor.unregisterPlugin("menu_bubble")}};r(3413);let Tl,Al;if("undefined"!=typeof WeakMap){let e=new WeakMap;Tl=t=>e.get(t),Al=(t,n)=>(e.set(t,n),n)}else{let e=[],t=10,n=0;Tl=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},Al=(r,o)=>(n==t&&(n=0),e[n++]=r,e[n++]=o)}class Nl{constructor(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r}}class Dl{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!=e)continue;let r=t%this.width,o=t/this.width|0,i=r+1,s=o+1;for(let e=1;i<this.width&&this.map[t+e]==n;e++)i++;for(let e=1;s<this.height&&this.map[t+this.width*e]==n;e++)s++;return new Nl(r,o,i,s)}throw new RangeError("No cell with offset "+e+" found")}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")}nextCell(e,t,n){let{left:r,right:o,top:i,bottom:s}=this.findCell(e);return"horiz"==t?(n<0?0==r:o==this.width)?null:this.map[i*this.width+(n<0?r-1:o)]:(n<0?0==i:s==this.height)?null:this.map[r+this.width*(n<0?i-1:s)]}rectBetween(e,t){let{left:n,right:r,top:o,bottom:i}=this.findCell(e),{left:s,right:a,top:l,bottom:c}=this.findCell(t);return new Nl(Math.min(n,s),Math.min(o,l),Math.max(r,a),Math.max(i,c))}cellsInRect(e){let t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let o=e.left;o<e.right;o++){let i=r*this.width+o,s=this.map[i];n[s]||(n[s]=!0,o==e.left&&o&&this.map[i-1]==s||r==e.top&&r&&this.map[i-this.width]==s||t.push(s))}return t}positionAt(e,t,n){for(let r=0,o=0;;r++){let i=o+n.child(r).nodeSize;if(r==e){let n=t+e*this.width,r=(e+1)*this.width;while(n<r&&this.map[n]<o)n++;return n==r?i-1:this.map[n]}o=i}}static get(e){return Tl(e)||Al(e,Rl(e))}}function Rl(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);let t=Il(e),n=e.childCount,r=[],o=0,i=null,s=[];for(let c=0,u=t*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){let a=e.child(c);u++;for(let e=0;;e++){while(o<r.length&&0!=r[o])o++;if(e==a.childCount)break;let l=a.child(e),{colspan:d,rowspan:p,colwidth:h}=l.attrs;for(let e=0;e<p;e++){if(e+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:p-e});break}let a=o+e*t;for(let e=0;e<d;e++){0==r[a+e]?r[a+e]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:d-e});let n=h&&h[e];if(n){let r=(a+e)%t*2,o=s[r];null==o||o!=n&&1==s[r+1]?(s[r]=n,s[r+1]=1):o==n&&s[r+1]++}}}o+=d,u+=l.nodeSize}let l=(c+1)*t,d=0;while(o<l)0==r[o++]&&d++;d&&(i||(i=[])).push({type:"missing",row:c,n:d}),u++}let a=new Dl(t,n,r,i),l=!1;for(let c=0;!l&&c<s.length;c+=2)null!=s[c]&&s[c+1]<n&&(l=!0);return l&&Pl(a,s,e),a}function Il(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){let o=e.child(r),i=0;if(n)for(let t=0;t<r;t++){let n=e.child(t);for(let e=0;e<n.childCount;e++){let o=n.child(e);t+o.attrs.rowspan>r&&(i+=o.attrs.colspan)}}for(let e=0;e<o.childCount;e++){let t=o.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}function Pl(e,t,n){e.problems||(e.problems=[]);for(let r=0,o={};r<e.map.length;r++){let i=e.map[r];if(o[i])continue;o[i]=!0;let s=n.nodeAt(i),a=null;for(let n=0;n<s.attrs.colspan;n++){let o=(r+n)%e.width,i=t[2*o];null==i||s.attrs.colwidth&&s.attrs.colwidth[n]==i||((a||(a=zl(s.attrs)))[n]=i)}a&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:a})}}function zl(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function $l(e,t){let n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((e=>Number(e))):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(let s in t){let n=t[s].getFromDOM,r=n&&n(e);null!=r&&(i[s]=r)}return i}function jl(e,t){let n={};1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(let r in t){let o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function Fl(e){let t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(let r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:e=>$l(e,t)}],toDOM(e){return["td",jl(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:e=>$l(e,t)}],toDOM(e){return["th",jl(e,t),0]}}}}function Bl(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(let n in e.nodes){let r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}}return t}const Ll=new an("selectingCells");function Vl(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function ql(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}function Hl(e){let t=e.selection.$head;for(let n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function Wl(e){let t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:Vl(t.$head)||Ul(t.$head)}function Ul(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){let r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){let r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n-t.nodeSize)}}function Jl(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function Kl(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function Gl(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function Xl(e,t,n){let r=e.start(-1),o=Dl.get(e.node(-1)),i=o.nextCell(e.pos-r,t,n);return null==i?null:e.node(0).resolve(r+i)}function Zl(e,t,n){let r={};for(let o in e)r[o]=e[o];return r[t]=n,r}function Yl(e,t,n=1){let r=Zl(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((e=>e>0))||(r.colwidth=null)),r}function Ql(e,t,n=1){let r=Zl(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(let e=0;e<n;e++)r.colwidth.splice(t,0,0)}return r}function ec(e,t,n){let r=Bl(t.type.schema).header_cell;for(let o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0}class tc extends Pt{constructor(e,t=e){let n=e.node(-1),r=Dl.get(n),o=e.start(-1),i=r.rectBetween(e.pos-o,t.pos-o),s=e.node(0),a=r.cellsInRect(i).filter((e=>e!=t.pos-o));a.unshift(t.pos-o);let l=a.map((e=>{let t=n.nodeAt(e),r=e+o+1;return new zt(s.resolve(r),s.resolve(r+t.content.size))}));super(l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=t}map(e,t){let n=e.resolve(t.map(this.$anchorCell.pos)),r=e.resolve(t.map(this.$headCell.pos));if(Jl(n)&&Jl(r)&&Gl(n,r)){let e=this.$anchorCell.node(-1)!=n.node(-1);return e&&this.isRowSelection()?tc.rowSelection(n,r):e&&this.isColSelection()?tc.colSelection(n,r):new tc(n,r)}return Ft.between(n,r)}content(){let e=this.$anchorCell.node(-1),t=Dl.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[];for(let a=r.top;a<r.bottom;a++){let n=[];for(let i=a*t.width+r.left,s=r.left;s<r.right;s++,i++){let s=t.map[i];if(!o[s]){o[s]=!0;let i=t.findCell(s),a=e.nodeAt(s),l=r.left-i.left,c=i.right-r.right;if(l>0||c>0){let e=a.attrs;l>0&&(e=Yl(e,0,l)),c>0&&(e=Yl(e,e.colspan-c,c)),a=i.left<r.left?a.type.createAndFill(e):a.type.create(e,a.content)}if(i.top<r.top||i.bottom>r.bottom){let e=Zl(a.attrs,"rowspan",Math.min(i.bottom,r.bottom)-Math.max(i.top,r.top));a=i.top<r.top?a.type.createAndFill(e):a.type.create(e,a.content)}n.push(a)}}i.push(e.child(a).copy(d.from(n)))}const s=this.isColSelection()&&this.isRowSelection()?e:i;return new g(d.from(s),1,1)}replace(e,t=g.empty){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:s}=r[i],a=e.mapping.slice(n);e.replace(a.map(o.pos),a.map(s.pos),i?g.empty:t)}let o=Pt.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,t){this.replace(e,new g(d.from(t),0,0))}forEachCell(e){let t=this.$anchorCell.node(-1),n=Dl.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])}isColSelection(){let e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;let n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(e,t=e){let n=Dl.get(e.node(-1)),r=e.start(-1),o=n.findCell(e.pos-r),i=n.findCell(t.pos-r),s=e.node(0);return o.top<=i.top?(o.top>0&&(e=s.resolve(r+n.map[o.left])),i.bottom<n.height&&(t=s.resolve(r+n.map[n.width*(n.height-1)+i.right-1]))):(i.top>0&&(t=s.resolve(r+n.map[i.left])),o.bottom<n.height&&(e=s.resolve(r+n.map[n.width*(n.height-1)+o.right-1]))),new tc(e,t)}isRowSelection(){let e=Dl.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;let o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==e.width}eq(e){return e instanceof tc&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,t=e){let n=Dl.get(e.node(-1)),r=e.start(-1),o=n.findCell(e.pos-r),i=n.findCell(t.pos-r),s=e.node(0);return o.left<=i.left?(o.left>0&&(e=s.resolve(r+n.map[o.top*n.width])),i.right<n.width&&(t=s.resolve(r+n.map[n.width*(i.top+1)-1]))):(i.left>0&&(t=s.resolve(r+n.map[i.top*n.width])),o.right<n.width&&(e=s.resolve(r+n.map[n.width*(o.top+1)-1]))),new tc(e,t)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new tc(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){return new tc(e.resolve(t),e.resolve(n))}getBookmark(){return new nc(this.$anchorCell.pos,this.$headCell.pos)}}tc.prototype.visible=!1,Pt.jsonID("cell",tc);class nc{constructor(e,t){this.anchor=e,this.head=t}map(e){return new nc(e.map(this.anchor),e.map(this.head))}resolve(e){let t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&Gl(t,n)?new tc(t,n):Pt.near(n,1)}}function rc(e){if(!(e.selection instanceof tc))return null;let t=[];return e.selection.forEachCell(((e,n)=>{t.push(_i.node(n,n+e.nodeSize,{class:"selectedCell"}))})),Ei.create(e.doc,t)}function oc({$from:e,$to:t}){if(e.pos==t.pos||e.pos<e.pos-6)return!1;let n=e.pos,r=t.pos,o=e.depth;for(;o>=0;o--,n++)if(e.after(o+1)<e.end(o))break;for(let i=t.depth;i>=0;i--,r--)if(t.before(i+1)>t.start(i))break;return n==r&&/row|table/.test(e.node(o).type.spec.tableRole)}function ic({$from:e,$to:t}){let n,r;for(let o=e.depth;o>0;o--){let t=e.node(o);if("cell"===t.type.spec.tableRole||"header_cell"===t.type.spec.tableRole){n=t;break}}for(let o=t.depth;o>0;o--){let e=t.node(o);if("cell"===e.type.spec.tableRole||"header_cell"===e.type.spec.tableRole){r=e;break}}return n!==r&&0===t.parentOffset}function sc(e,t,n){let r,o,i=(t||e).selection,s=(t||e).doc;if(i instanceof Lt&&(o=i.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=tc.create(s,i.from);else if("row"==o){let e=s.resolve(i.from+1);r=tc.rowSelection(e,e)}else if(!n){let e=Dl.get(i.node),t=i.from+1,n=t+e.map[e.width*e.height-1];r=tc.create(s,t+1,n)}}else i instanceof Ft&&oc(i)?r=Ft.create(s,i.from):i instanceof Ft&&ic(i)&&(r=Ft.create(s,i.$from.start(),i.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}function ac(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;while(1==t.childCount&&(n>0&&r>0||"table"==t.firstChild.type.spec.tableRole))n--,r--,t=t.firstChild.content;let o=t.firstChild,i=o.type.spec.tableRole,s=o.type.schema,a=[];if("row"==i)for(let l=0;l<t.childCount;l++){let e=t.child(l).content,o=l?0:Math.max(0,n-1),i=l<t.childCount-1?0:Math.max(0,r-1);(o||i)&&(e=cc(Bl(s).row,new g(e,o,i)).content),a.push(e)}else{if("cell"!=i&&"header_cell"!=i)return null;a.push(n||r?cc(Bl(s).row,new g(t,n,r)).content:t)}return lc(s,a)}function lc(e,t){let n=[];for(let o=0;o<t.length;o++){let e=t[o];for(let t=e.childCount-1;t>=0;t--){let{rowspan:r,colspan:i}=e.child(t).attrs;for(let e=o;e<o+r;e++)n[e]=(n[e]||0)+i}}let r=0;for(let o=0;o<n.length;o++)r=Math.max(r,n[o]);for(let o=0;o<n.length;o++)if(o>=t.length&&t.push(d.empty),n[o]<r){let i=Bl(e).cell.createAndFill(),s=[];for(let e=n[o];e<r;e++)s.push(i);t[o]=t[o].append(d.from(s))}return{height:t.length,width:r,rows:t}}function cc(e,t){let n=e.createAndFill(),r=new Rt(n).replace(0,n.content.size,t);return r.doc}function uc({width:e,height:t,rows:n},r,o){if(e!=r){let t=[],o=[];for(let e=0;e<n.length;e++){let i=n[e],s=[];for(let n=t[e]||0,o=0;n<r;o++){let a=i.child(o%i.childCount);n+a.attrs.colspan>r&&(a=a.type.create(Yl(a.attrs,a.attrs.colspan,n+a.attrs.colspan-r),a.content)),s.push(a),n+=a.attrs.colspan;for(let n=1;n<a.attrs.rowspan;n++)t[e+n]=(t[e+n]||0)+a.attrs.colspan}o.push(d.from(s))}n=o,e=r}if(t!=o){let e=[];for(let r=0,i=0;r<o;r++,i++){let s=[],a=n[i%t];for(let e=0;e<a.childCount;e++){let t=a.child(e);r+t.attrs.rowspan>o&&(t=t.type.create(Zl(t.attrs,"rowspan",Math.max(1,o-t.attrs.rowspan)),t.content)),s.push(t)}e.push(d.from(s))}n=e,t=o}return{width:e,height:t,rows:n}}function dc(e,t,n,r,o,i,s){let a,l,c=e.doc.type.schema,u=Bl(c);if(o>t.width)for(let d=0,p=0;d<t.height;d++){let i=n.child(d);p+=i.nodeSize;let c,h=[];c=null==i.lastChild||i.lastChild.type==u.cell?a||(a=u.cell.createAndFill()):l||(l=u.header_cell.createAndFill());for(let e=t.width;e<o;e++)h.push(c);e.insert(e.mapping.slice(s).map(p-1+r),h)}if(i>t.height){let c=[];for(let e=0,r=(t.height-1)*t.width;e<Math.max(t.width,o);e++){let o=!(e>=t.width)&&n.nodeAt(t.map[r+e]).type==u.header_cell;c.push(o?l||(l=u.header_cell.createAndFill()):a||(a=u.cell.createAndFill()))}let p=u.row.create(null,d.from(c)),h=[];for(let e=t.height;e<i;e++)h.push(p);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),h)}return!(!a&&!l)}function pc(e,t,n,r,o,i,s,a){if(0==s||s==t.height)return!1;let l=!1;for(let c=o;c<i;c++){let o=s*t.width+c,i=t.map[o];if(t.map[o-t.width]==i){l=!0;let o=n.nodeAt(i),{top:u,left:d}=t.findCell(i);e.setNodeMarkup(e.mapping.slice(a).map(i+r),null,Zl(o.attrs,"rowspan",s-u)),e.insert(e.mapping.slice(a).map(t.positionAt(s,d,n)),o.type.createAndFill(Zl(o.attrs,"rowspan",u+o.attrs.rowspan-s))),c+=o.attrs.colspan-1}}return l}function hc(e,t,n,r,o,i,s,a){if(0==s||s==t.width)return!1;let l=!1;for(let c=o;c<i;c++){let o=c*t.width+s,i=t.map[o];if(t.map[o-1]==i){l=!0;let o=n.nodeAt(i),u=t.colCount(i),d=e.mapping.slice(a).map(i+r);e.setNodeMarkup(d,null,Yl(o.attrs,s-u,o.attrs.colspan-(s-u))),e.insert(d+o.nodeSize,o.type.createAndFill(Yl(o.attrs,0,s-u))),c+=o.attrs.rowspan-1}}return l}function fc(e,t,n,r,o){let i=n?e.doc.nodeAt(n-1):e.doc,s=Dl.get(i),{top:a,left:l}=r,c=l+o.width,u=a+o.height,d=e.tr,p=0;function h(){i=n?d.doc.nodeAt(n-1):d.doc,s=Dl.get(i),p=d.mapping.maps.length}dc(d,s,i,n,c,u,p)&&h(),pc(d,s,i,n,l,c,a,p)&&h(),pc(d,s,i,n,l,c,u,p)&&h(),hc(d,s,i,n,a,u,l,p)&&h(),hc(d,s,i,n,a,u,c,p)&&h();for(let f=a;f<u;f++){let e=s.positionAt(f,l,i),t=s.positionAt(f,c,i);d.replace(d.mapping.slice(p).map(e+n),d.mapping.slice(p).map(t+n),new g(o.rows[f-a],0,0))}h(),d.setSelection(new tc(d.doc.resolve(n+s.positionAt(a,l,i)),d.doc.resolve(n+s.positionAt(u-1,c-1,i)))),t(d)}const mc=Es({ArrowLeft:gc("horiz",-1),ArrowRight:gc("horiz",1),ArrowUp:gc("vert",-1),ArrowDown:gc("vert",1),"Shift-ArrowLeft":yc("horiz",-1),"Shift-ArrowRight":yc("horiz",1),"Shift-ArrowUp":yc("vert",-1),"Shift-ArrowDown":yc("vert",1),Backspace:bc,"Mod-Backspace":bc,Delete:bc,"Mod-Delete":bc});function vc(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function gc(e,t){return(n,r,o)=>{let i=n.selection;if(i instanceof tc)return vc(n,r,Pt.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;let s=Sc(o,e,t);if(null==s)return!1;if("horiz"==e)return vc(n,r,Pt.near(n.doc.resolve(i.head+t),t));{let o,i=n.doc.resolve(s),a=Xl(i,e,t);return o=a?Pt.near(a,1):t<0?Pt.near(n.doc.resolve(i.before(-1)),-1):Pt.near(n.doc.resolve(i.after(-1)),1),vc(n,r,o)}}}function yc(e,t){return(n,r,o)=>{let i=n.selection;if(!(i instanceof tc)){let r=Sc(o,e,t);if(null==r)return!1;i=new tc(n.doc.resolve(r))}let s=Xl(i.$headCell,e,t);return!!s&&vc(n,r,new tc(i.$anchorCell,s))}}function bc(e,t){let n=e.selection;if(!(n instanceof tc))return!1;if(t){let r=e.tr,o=Bl(e.schema).cell.createAndFill().content;n.forEachCell(((e,t)=>{e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new g(o,0,0))})),r.docChanged&&t(r)}return!0}function wc(e,t){let n=e.state.doc,r=Vl(n.resolve(t));return!!r&&(e.dispatch(e.state.tr.setSelection(new tc(r))),!0)}function kc(e,t,n){if(!Hl(e.state))return!1;let r=ac(n),o=e.state.selection;if(o instanceof tc){r||(r={width:1,height:1,rows:[d.from(cc(Bl(e.state.schema).cell,n))]});let t=o.$anchorCell.node(-1),i=o.$anchorCell.start(-1),s=Dl.get(t).rectBetween(o.$anchorCell.pos-i,o.$headCell.pos-i);return r=uc(r,s.right-s.left,s.bottom-s.top),fc(e.state,e.dispatch,i,s,r),!0}if(r){let t=Wl(e.state),n=t.start(-1);return fc(e.state,e.dispatch,n,Dl.get(t.node(-1)).findCell(t.pos-n),r),!0}return!1}function xc(e,t){if(t.ctrlKey||t.metaKey)return;let n,r=Cc(e,t.target);if(t.shiftKey&&e.state.selection instanceof tc)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(n=Vl(e.state.selection.$anchor))&&_c(e,t).pos!=n.pos)o(n,t),t.preventDefault();else if(!r)return;function o(t,n){let r=_c(e,n),o=null==Ll.getState(e.state);if(!r||!Gl(t,r)){if(!o)return;r=t}let i=new tc(t,r);if(o||!e.state.selection.eq(i)){let n=e.state.tr.setSelection(i);o&&n.setMeta(Ll,t.pos),e.dispatch(n)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",s),null!=Ll.getState(e.state)&&e.dispatch(e.state.tr.setMeta(Ll,-1))}function s(n){let s,a=Ll.getState(e.state);if(null!=a)s=e.state.doc.resolve(a);else if(Cc(e,n.target)!=r&&(s=_c(e,t),!s))return i();s&&o(s,n)}e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",s)}function Sc(e,t,n){if(!(e.state.selection instanceof Ft))return null;let{$head:r}=e.state.selection;for(let o=r.depth-1;o>=0;o--){let i=r.node(o),s=n<0?r.index(o):r.indexAfter(o);if(s!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){let i=r.before(o),s="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(s)?i:null}}return null}function Cc(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function _c(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Vl(e.state.doc.resolve(n.pos)):null}const Oc=new an("fix-tables");function Mc(e,t,n,r){let o=e.childCount,i=t.childCount;e:for(let s=0,a=0;s<i;s++){let i=t.child(s);for(let t=a,r=Math.min(o,s+3);t<r;t++)if(e.child(t)==i){a=t+1,n+=i.nodeSize;continue e}r(i,n),a<o&&e.child(a).sameMarkup(i)?Mc(e.child(a),i,n+1,r):i.nodesBetween(0,i.content.size,r,n+1),n+=i.nodeSize}}function Ec(e,t){let n,r=(t,r)=>{"table"==t.type.spec.tableRole&&(n=Tc(e,t,r,n))};return t?t.doc!=e.doc&&Mc(t.doc,e.doc,0,r):e.doc.descendants(r),n}function Tc(e,t,n,r){let o=Dl.get(t);if(!o.problems)return r;r||(r=e.tr);let i,s,a=[];for(let l=0;l<o.height;l++)a.push(0);for(let l=0;l<o.problems.length;l++){let e=o.problems[l];if("collision"==e.type){let o=t.nodeAt(e.pos);for(let t=0;t<o.attrs.rowspan;t++)a[e.row+t]+=e.n;r.setNodeMarkup(r.mapping.map(n+1+e.pos),null,Yl(o.attrs,o.attrs.colspan-e.n,e.n))}else if("missing"==e.type)a[e.row]+=e.n;else if("overlong_rowspan"==e.type){let o=t.nodeAt(e.pos);r.setNodeMarkup(r.mapping.map(n+1+e.pos),null,Zl(o.attrs,"rowspan",o.attrs.rowspan-e.n))}else if("colwidth mismatch"==e.type){let o=t.nodeAt(e.pos);r.setNodeMarkup(r.mapping.map(n+1+e.pos),null,Zl(o.attrs,"colwidth",e.colwidth))}}for(let l=0;l<a.length;l++)a[l]&&(null==i&&(i=l),s=l);for(let l=0,c=n+1;l<o.height;l++){let n=t.child(l),o=c+n.nodeSize,u=a[l];if(u>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);let a=[];for(let n=0;n<u;n++)a.push(Bl(e.schema)[t].createAndFill());let d=0!=l&&i!=l-1||s!=l?o-1:c+1;r.insert(r.mapping.map(d),a)}c=o}return r.setMeta(Oc,{fixTables:!0})}function Ac(e){let t,n=e.selection,r=Wl(e),o=r.node(-1),i=r.start(-1),s=Dl.get(o);return t=n instanceof tc?s.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):s.findCell(r.pos-i),t.tableStart=i,t.map=s,t.table=o,t}function Nc(e,{map:t,tableStart:n,table:r},o){let i=o>0?-1:0;ec(t,r,o+i)&&(i=0==o||o==t.width?null:0);for(let s=0;s<t.height;s++){let a=s*t.width+o;if(o>0&&o<t.width&&t.map[a-1]==t.map[a]){let i=t.map[a],l=r.nodeAt(i);e.setNodeMarkup(e.mapping.map(n+i),null,Ql(l.attrs,o-t.colCount(i))),s+=l.attrs.rowspan-1}else{let l=null==i?Bl(r.type.schema).cell:r.nodeAt(t.map[a+i]).type,c=t.positionAt(s,o,r);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function Dc(e,t){if(!Hl(e))return!1;if(t){let n=Ac(e);t(Nc(e.tr,n,n.left))}return!0}function Rc(e,t){if(!Hl(e))return!1;if(t){let n=Ac(e);t(Nc(e.tr,n,n.right))}return!0}function Ic(e,{map:t,table:n,tableStart:r},o){let i=e.mapping.maps.length;for(let s=0;s<t.height;){let a=s*t.width+o,l=t.map[a],c=n.nodeAt(l);if(o>0&&t.map[a-1]==l||o<t.width-1&&t.map[a+1]==l)e.setNodeMarkup(e.mapping.slice(i).map(r+l),null,Yl(c.attrs,o-t.colCount(l)));else{let t=e.mapping.slice(i).map(r+l);e.delete(t,t+c.nodeSize)}s+=c.attrs.rowspan}}function Pc(e,t){if(!Hl(e))return!1;if(t){let n=Ac(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let e=n.right-1;;e--){if(Ic(r,n,e),e==n.left)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Dl.get(n.table)}t(r)}return!0}function zc(e,t,n){let r=Bl(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(t.nodeAt(e.map[o+n*e.width]).type!=r)return!1;return!0}function $c(e,{map:t,tableStart:n,table:r},o){let i=n;for(let l=0;l<o;l++)i+=r.child(l).nodeSize;let s=[],a=o>0?-1:0;zc(t,r,o+a)&&(a=0==o||o==t.height?null:0);for(let l=0,c=t.width*o;l<t.width;l++,c++)if(o>0&&o<t.height&&t.map[c]==t.map[c-t.width]){let o=t.map[c],i=r.nodeAt(o).attrs;e.setNodeMarkup(n+o,null,Zl(i,"rowspan",i.rowspan+1)),l+=i.colspan-1}else{let e=null==a?Bl(r.type.schema).cell:r.nodeAt(t.map[c+a*t.width]).type;s.push(e.createAndFill())}return e.insert(i,Bl(r.type.schema).row.create(null,s)),e}function jc(e,t){if(!Hl(e))return!1;if(t){let n=Ac(e);t($c(e.tr,n,n.top))}return!0}function Fc(e,t){if(!Hl(e))return!1;if(t){let n=Ac(e);t($c(e.tr,n,n.bottom))}return!0}function Bc(e,{map:t,table:n,tableStart:r},o){let i=0;for(let l=0;l<o;l++)i+=n.child(l).nodeSize;let s=i+n.child(o).nodeSize,a=e.mapping.maps.length;e.delete(i+r,s+r);for(let l=0,c=o*t.width;l<t.width;l++,c++){let i=t.map[c];if(o>0&&i==t.map[c-t.width]){let t=n.nodeAt(i).attrs;e.setNodeMarkup(e.mapping.slice(a).map(i+r),null,Zl(t,"rowspan",t.rowspan-1)),l+=t.colspan-1}else if(o<t.width&&i==t.map[c+t.width]){let s=n.nodeAt(i),c=s.type.create(Zl(s.attrs,"rowspan",s.attrs.rowspan-1),s.content),u=t.positionAt(o+1,l,n);e.insert(e.mapping.slice(a).map(r+u),c),l+=s.attrs.colspan-1}}}function Lc(e,t){if(!Hl(e))return!1;if(t){let n=Ac(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let e=n.bottom-1;;e--){if(Bc(r,n,e),e==n.top)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Dl.get(n.table)}t(r)}return!0}function Vc(e){let t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function qc({width:e,height:t,map:n},r){let o=r.top*e+r.left,i=o,s=(r.bottom-1)*e+r.left,a=o+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[i]==n[i-1]||r.right<e&&n[a]==n[a+1])return!0;i+=e,a+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[o]==n[o-e]||r.bottom<t&&n[s]==n[s+e])return!0;o++,s++}return!1}function Hc(e,t){let n=e.selection;if(!(n instanceof tc)||n.$anchorCell.pos==n.$headCell.pos)return!1;let r=Ac(e),{map:o}=r;if(qc(o,r))return!1;if(t){let n,i,s=e.tr,a={},l=d.empty;for(let e=r.top;e<r.bottom;e++)for(let t=r.left;t<r.right;t++){let c=o.map[e*o.width+t],u=r.table.nodeAt(c);if(!a[c])if(a[c]=!0,null==n)n=c,i=u;else{Vc(u)||(l=l.append(u.content));let e=s.mapping.map(c+r.tableStart);s.delete(e,e+u.nodeSize)}}if(s.setNodeMarkup(n+r.tableStart,null,Zl(Ql(i.attrs,i.attrs.colspan,r.right-r.left-i.attrs.colspan),"rowspan",r.bottom-r.top)),l.size){let e=n+1+i.content.size,t=Vc(i)?n+1:e;s.replaceWith(t+r.tableStart,e+r.tableStart,l)}s.setSelection(new tc(s.doc.resolve(n+r.tableStart))),t(s)}return!0}function Wc(e,t){const n=Bl(e.schema);return Uc((({node:e})=>n[e.type.spec.tableRole]))(e,t)}function Uc(e){return(t,n)=>{let r,o,i=t.selection;if(i instanceof tc){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(r=ql(i.$from),!r)return!1;o=Vl(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){let s=r.attrs,a=[],l=s.colwidth;s.rowspan>1&&(s=Zl(s,"rowspan",1)),s.colspan>1&&(s=Zl(s,"colspan",1));let c,u=Ac(t),d=t.tr;for(let e=0;e<u.right-u.left;e++)a.push(l?Zl(s,"colwidth",l&&l[e]?[l[e]]:null):s);for(let t=u.top;t<u.bottom;t++){let n=u.map.positionAt(t,u.left,u.table);t==u.top&&(n+=r.nodeSize);for(let o=u.left,i=0;o<u.right;o++,i++)o==u.left&&t==u.top||d.insert(c=d.mapping.map(n+u.tableStart,1),e({node:r,row:t,col:o}).createAndFill(a[i]))}d.setNodeMarkup(o,e({node:r,row:u.top,col:u.left}),a[0]),i instanceof tc&&d.setSelection(new tc(d.doc.resolve(i.$anchorCell.pos),c&&d.doc.resolve(c))),n(d)}return!0}}function Jc(e,t){return function(n,r){if(!Hl(n))return!1;let o=Wl(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){let i=n.tr;n.selection instanceof tc?n.selection.forEachCell(((n,r)=>{n.attrs[e]!==t&&i.setNodeMarkup(r,null,Zl(n.attrs,e,t))})):i.setNodeMarkup(o.pos,null,Zl(o.nodeAfter.attrs,e,t)),r(i)}return!0}}function Kc(e){return function(t,n){if(!Hl(t))return!1;if(n){let r=Bl(t.schema),o=Ac(t),i=t.tr,s=o.map.cellsInRect("column"==e?new Nl(o.left,0,o.right,o.map.height):"row"==e?new Nl(0,o.top,o.map.width,o.bottom):o),a=s.map((e=>o.table.nodeAt(e)));for(let e=0;e<s.length;e++)a[e].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[e],r.cell,a[e].attrs);if(0==i.steps.length)for(let e=0;e<s.length;e++)i.setNodeMarkup(o.tableStart+s[e],r.header_cell,a[e].attrs);n(i)}return!0}}function Gc(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let o=0;o<r.length;o++){const e=t.table.nodeAt(r[o]);if(e&&e.type!==n.header_cell)return!1}return!0}function Xc(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?Kc(e):function(t,n){if(!Hl(t))return!1;if(n){let r=Bl(t.schema),o=Ac(t),i=t.tr,s=Gc("row",o,r),a=Gc("column",o,r),l="column"===e?s:"row"===e&&a,c=l?1:0,u="column"==e?new Nl(0,c,1,o.map.height):"row"==e?new Nl(c,0,o.map.width,1):o,d="column"==e?a?r.cell:r.header_cell:"row"==e?s?r.cell:r.header_cell:r.cell;o.map.cellsInRect(u).forEach((e=>{const t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,d,n.attrs)})),n(i)}return!0}}let Zc=Xc("row",{useDeprecatedLogic:!0}),Yc=Xc("column",{useDeprecatedLogic:!0}),Qc=Xc("cell",{useDeprecatedLogic:!0});function eu(e,t){if(t<0){let t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let n=e.index(-1)-1,r=e.before();n>=0;n--){let t=e.node(-1).child(n);if(t.childCount)return r-1-t.lastChild.nodeSize;r-=t.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let t=e.node(-1);for(let n=e.indexAfter(-1),r=e.after();n<t.childCount;n++){let e=t.child(n);if(e.childCount)return r+1;r+=e.nodeSize}}}function tu(e){return function(t,n){if(!Hl(t))return!1;let r=eu(Wl(t),e);if(null!=r){if(n){let e=t.doc.resolve(r);n(t.tr.setSelection(Ft.between(e,Kl(e))).scrollIntoView())}return!0}}}function nu(e,t){let n=e.selection.$anchor;for(let r=n.depth;r>0;r--){let o=n.node(r);if("table"==o.type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}class ru{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),ou(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type==this.node.type&&(this.node=e,ou(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))}}function ou(e,t,n,r,o,i){let s=0,a=!0,l=t.firstChild,c=e.firstChild;for(let u=0,d=0;u<c.childCount;u++){let{colspan:e,colwidth:n}=c.child(u).attrs;for(let c=0;c<e;c++,d++){let e=o==d?i:n&&n[c],u=e?e+"px":"";s+=e||r,e||(a=!1),l?(l.style.width!=u&&(l.style.width=u),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=u}}while(l){let e=l.nextSibling;l.parentNode.removeChild(l),l=e}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}const iu=new an("tableColumnResizing");function su({handleWidth:e=5,cellMinWidth:t=25,View:n=ru,lastColumnResizable:r=!0}={}){let o=new rn({key:iu,state:{init(e,r){return this.spec.props.nodeViews[Bl(r.schema).table.name]=(e,r)=>new n(e,t,r),new au(-1,!1)},apply(e,t){return t.apply(e)}},props:{attributes(e){let t=iu.getState(e);return t.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove(n,o){lu(n,o,e,t,r)},mouseleave(e){cu(e)},mousedown(e,n){uu(e,n,t)}},decorations(e){let t=iu.getState(e);if(t.activeHandle>-1)return bu(e,t.activeHandle)},nodeViews:{}}});return o}class au{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(e){let t=this,n=e.getMeta(iu);if(n&&null!=n.setHandle)return new au(n.setHandle,null);if(n&&void 0!==n.setDragging)return new au(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){let n=e.mapping.map(t.activeHandle,-1);Jl(e.doc.resolve(n))||(n=null),t=new au(n,t.dragging)}return t}}function lu(e,t,n,r,o){let i=iu.getState(e.state);if(!i.dragging){let r=pu(t.target),s=-1;if(r){let{left:o,right:i}=r.getBoundingClientRect();t.clientX-o<=n?s=hu(e,t,"left"):i-t.clientX<=n&&(s=hu(e,t,"right"))}if(s!=i.activeHandle){if(!o&&-1!==s){let t=e.state.doc.resolve(s),n=t.node(-1),r=Dl.get(n),o=t.start(-1),i=r.colCount(t.pos-o)+t.nodeAfter.attrs.colspan-1;if(i==r.width-1)return}mu(e,s)}}}function cu(e){let t=iu.getState(e.state);t.activeHandle>-1&&!t.dragging&&mu(e,-1)}function uu(e,t,n){let r=iu.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;let o=e.state.doc.nodeAt(r.activeHandle),i=du(e,r.activeHandle,o.attrs);function s(t){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);let r=iu.getState(e.state);r.dragging&&(vu(e,r.activeHandle,fu(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(iu,{setDragging:null})))}function a(t){if(!t.which)return s(t);let r=iu.getState(e.state),o=fu(r.dragging,t,n);gu(e,r.activeHandle,o,n)}return e.dispatch(e.state.tr.setMeta(iu,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),t.preventDefault(),!0}function du(e,t,{colspan:n,colwidth:r}){let o=r&&r[r.length-1];if(o)return o;let i=e.domAtPos(t),s=i.node.childNodes[i.offset],a=s.offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function pu(e){while(e&&"TD"!=e.nodeName&&"TH"!=e.nodeName)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function hu(e,t,n){let r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;let{pos:o}=r,i=Vl(e.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;let s=Dl.get(i.node(-1)),a=i.start(-1),l=s.map.indexOf(i.pos-a);return l%s.width==0?-1:a+s.map[l-1]}function fu(e,t,n){let r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function mu(e,t){e.dispatch(e.state.tr.setMeta(iu,{setHandle:t}))}function vu(e,t,n){let r=e.state.doc.resolve(t),o=r.node(-1),i=Dl.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let c=0;c<i.height;c++){let e=c*i.width+a;if(c&&i.map[e]==i.map[e-i.width])continue;let t=i.map[e],{attrs:r}=o.nodeAt(t),u=1==r.colspan?0:a-i.colCount(t);if(r.colwidth&&r.colwidth[u]==n)continue;let d=r.colwidth?r.colwidth.slice():yu(r.colspan);d[u]=n,l.setNodeMarkup(s+t,null,Zl(r,"colwidth",d))}l.docChanged&&e.dispatch(l)}function gu(e,t,n,r){let o=e.state.doc.resolve(t),i=o.node(-1),s=o.start(-1),a=Dl.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,l=e.domAtPos(o.start(-1)).node;while("TABLE"!=l.nodeName)l=l.parentNode;ou(i,l.firstChild,l,r,a,n)}function yu(e){let t=[];for(let n=0;n<e;n++)t.push(0);return t}function bu(e,t){let n=[],r=e.doc.resolve(t),o=r.node(-1);if(!o)return Ei.empty;let i=Dl.get(o),s=r.start(-1),a=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let l=0;l<i.height;l++){let e=a+l*i.width-1;if((a==i.width||i.map[e]!=i.map[e+1])&&(0==l||i.map[e-1]!=i.map[e-1-i.width])){let t=i.map[e],r=s+t+o.nodeAt(t).nodeSize-1,a=document.createElement("div");a.className="column-resize-handle",n.push(_i.widget(r,a))}}return Ei.create(e.doc,n)}function wu({allowTableNodeSelection:e=!1}={}){return new rn({key:Ll,state:{init(){return null},apply(e,t){let n=e.getMeta(Ll);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;let{deleted:r,pos:o}=e.mapping.mapResult(t);return r?null:o}},props:{decorations:rc,handleDOMEvents:{mousedown:xc},createSelectionBetween(e){if(null!=Ll.getState(e.state))return e.state.selection},handleTripleClick:wc,handleKeyDown:mc,handlePaste:kc},appendTransaction(t,n,r){return sc(r,Ec(r,n),e)}})}var ku=200,xu=function(){};xu.prototype.append=function(e){return e.length?(e=xu.from(e),!this.length&&e||e.length<ku&&this.leafAppend(e)||this.length<ku&&e.leafPrepend(this)||this.appendInner(e)):this},xu.prototype.prepend=function(e){return e.length?xu.from(e).append(this):this},xu.prototype.appendInner=function(e){return new Cu(this,e)},xu.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?xu.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},xu.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},xu.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},xu.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},xu.from=function(e){return e instanceof xu?e:e&&e.length?new Su(e):xu.empty};var Su=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=ku)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=ku)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(xu);xu.empty=new Su([]);var Cu=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(xu),_u=xu,Ou=_u;const Mu=500;class Eu{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){let e=this.items.get(o-1);if(e.selection){--o;break}}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,s,a=e.tr,l=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new Au(e.map));let t,o=e.step.map(n.slice(r));o&&a.maybeStep(o).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],l.push(new Au(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else a.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,s=new Eu(this.items.slice(0,o).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:a,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let n,l=e.steps[c].invert(e.docs[c]),u=new Au(e.mapping.maps[c],l,t);(n=a&&a.merge(u))&&(u=n,c?o.pop():s=s.slice(0,s.length-1)),o.push(u),t&&(i++,t=void 0),r||(a=u)}let l=i-n.depth;return l>Du&&(s=Tu(s,l),i-=l),new Eu(s.append(o),i)}remapping(e,t){let n=new $e;return this.items.forEach(((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new Eu(this.items.append(e.map((e=>new Au(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach((e=>{e.selection&&s--}),r);let a=t;this.items.forEach((t=>{let r=o.getMirror(--a);if(null==r)return;i=Math.min(i,r);let l=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(o.slice(a+1,r));c&&s++,n.push(new Au(l,i,c))}else n.push(new Au(l))}),r);let l=[];for(let d=t;d<i;d++)l.push(new Au(o.maps[d]));let c=this.items.slice(0,r).append(l).append(n),u=new Eu(c,s);return u.emptyItemCount()>Mu&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach(((i,s)=>{if(s>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let a=i.selection&&i.selection.map(t.slice(n));a&&o++;let l,c=new Au(s.invert(),e,a),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else i.map&&n--}),this.items.length,0),new Eu(Ou.from(r.reverse()),o)}}function Tu(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}Eu.empty=new Eu(Ou.empty,0);class Au{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Au(t.getMap().invert(),t,this.selection)}}}class Nu{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const Du=20;function Ru(e,t,n,r){let o,i=n.getMeta(Lu);if(i)return i.historyState;n.getMeta(Vu)&&(e=new Nu(e.done,e.undone,null,0));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(Lu))return s.getMeta(Lu).redo?new Nu(e.done.addTransform(n,void 0,r,Bu(t)),e.undone,Pu(n.mapping.maps[n.steps.length-1]),e.prevTime):new Nu(e.done,e.undone.addTransform(n,void 0,r,Bu(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new Nu(e.done.rebased(n,o),e.undone.rebased(n,o),zu(e.prevRanges,n.mapping),e.prevTime):new Nu(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),zu(e.prevRanges,n.mapping),e.prevTime);{let o=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!Iu(n,e.prevRanges)),i=s?zu(e.prevRanges,n.mapping):Pu(n.mapping.maps[n.steps.length-1]);return new Nu(e.done.addTransform(n,o?t.selection.getBookmark():void 0,r,Bu(t)),Eu.empty,i,n.time)}}function Iu(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}function Pu(e){let t=[];return e.forEach(((e,n,r,o)=>t.push(r,o))),t}function zu(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function $u(e,t,n,r){let o=Bu(t),i=Lu.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,o);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,o),c=new Nu(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(Lu,{redo:r,historyState:c}).scrollIntoView())}let ju=!1,Fu=null;function Bu(e){let t=e.plugins;if(Fu!=t){ju=!1,Fu=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){ju=!0;break}}return ju}const Lu=new an("history"),Vu=new an("closeHistory");function qu(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new rn({key:Lu,state:{init(){return new Nu(Eu.empty,Eu.empty,null,0)},apply(t,n,r){return Ru(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?Hu:"historyRedo"==n?Wu:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}const Hu=(e,t)=>{let n=Lu.getState(e);return!(!n||0==n.done.eventCount)&&(t&&$u(n,e,t,!1),!0)},Wu=(e,t)=>{let n=Lu.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&$u(n,e,t,!0),!0)};function Uu(e){let t=Lu.getState(e);return t?t.done.eventCount:0}function Ju(e){let t=Lu.getState(e);return t?t.undone.eventCount:0}
/*!
* tiptap-extensions v1.35.1
* (c) 2021 überdosis GbR (limited liability)
* @license MIT
*/
class Ku extends hl{get name(){return"blockquote"}get schema(){return{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]}}commands({type:e}){return()=>rl(e)}keys({type:e}){return{"Ctrl->":rl(e)}}inputRules({type:e}){return[Sa(/^\s*>\s$/,e)]}}class Gu extends hl{get name(){return"bullet_list"}get schema(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]}}commands({type:e,schema:t}){return()=>nl(e,t.nodes.list_item)}keys({type:e,schema:t}){return{"Shift-Ctrl-8":nl(e,t.nodes.list_item)}}inputRules({type:e}){return[Sa(/^\s*([-+*])\s$/,e)]}}class Xu extends hl{get name(){return"code_block"}get schema(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]}}commands({type:e,schema:t}){return()=>el(e,t.nodes.paragraph)}keys({type:e}){return{"Shift-Ctrl-\\":aa(e)}}inputRules({type:e}){return[Ca(/^```$/,e)]}}class Zu extends hl{get name(){return"hard_break"}get schema(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}}commands({type:e}){return()=>ua(Xs,((t,n)=>(n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)))}keys({type:e}){const t=ua(Xs,((t,n)=>(n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)));return{"Mod-Enter":t,"Shift-Enter":t}}}class Yu extends hl{get name(){return"heading"}get defaultOptions(){return{levels:[1,2,3,4,5,6]}}get schema(){return{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map((e=>({tag:`h${e}`,attrs:{level:e}}))),toDOM:e=>[`h${e.attrs.level}`,0]}}commands({type:e,schema:t}){return n=>el(e,t.nodes.paragraph,n)}keys({type:e}){return this.options.levels.reduce(((t,n)=>({...t,[`Shift-Ctrl-${n}`]:aa(e,{level:n})})),{})}inputRules({type:e}){return this.options.levels.map((t=>Ca(new RegExp(`^(#{1,${t}})\\s$`),e,(()=>({level:t})))))}}class Qu extends hl{get name(){return"horizontal_rule"}get schema(){return{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]}}commands({type:e}){return()=>(t,n)=>n(t.tr.replaceSelectionWith(e.create()))}inputRules({type:e}){return[Ka(/^(?:---|___\s|\*\*\*\s)$/,e)]}}const ed=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/;class td extends hl{get name(){return"image"}get schema(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}],toDOM:e=>["img",e.attrs]}}commands({type:e}){return t=>(n,r)=>{const{selection:o}=n,i=o.$cursor?o.$cursor.pos:o.$to.pos,s=e.create(t),a=n.tr.insert(i,s);r(a)}}inputRules({type:e}){return[Ka(ed,e,(e=>{const[,t,n,r]=e;return{src:n,alt:t,title:r}}))]}get plugins(){return[new rn({props:{handleDOMEvents:{drop(e,t){const n=t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length;if(!n)return;const r=Array.from(t.dataTransfer.files).filter((e=>/image/i.test(e.type)));if(0===r.length)return;t.preventDefault();const{schema:o}=e.state,i=e.posAtCoords({left:t.clientX,top:t.clientY});r.forEach((t=>{const n=new FileReader;n.onload=t=>{const n=o.nodes.image.create({src:t.target.result}),r=e.state.tr.insert(i.pos,n);e.dispatch(r)},n.readAsDataURL(t)}))}}}})]}}class nd extends hl{get name(){return"list_item"}get schema(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]}}keys({type:e}){return{Enter:La(e),Tab:Wa(e),"Shift-Tab":Va(e)}}}class rd extends hl{get name(){return"ordered_list"}get schema(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1})}],toDOM:e=>1===e.attrs.order?["ol",0]:["ol",{start:e.attrs.order},0]}}commands({type:e,schema:t}){return()=>nl(e,t.nodes.list_item)}keys({type:e,schema:t}){return{"Shift-Ctrl-9":nl(e,t.nodes.list_item)}}inputRules({type:e}){return[Sa(/^(\d+)\.\s$/,e,(e=>({order:+e[1]})),((e,t)=>t.childCount+t.attrs.order===+e[1]))]}}var od=Fl({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM(e){return e.style.backgroundColor||null},setDOMAttr(e,t){if(e){const n={style:`${t.style||""}background-color: ${e};`};Object.assign(t,n)}}}}});class id extends hl{get name(){return"table"}get defaultOptions(){return{resizable:!1}}get schema(){return od.table}commands({schema:e}){return{createTable:({rowsCount:t,colsCount:n,withHeaderRow:r})=>(o,i)=>{const s=o.tr.selection.anchor+1,a=Ma(e,t,n,r),l=o.tr.replaceSelectionWith(a).scrollIntoView(),c=l.doc.resolve(s);l.setSelection(Ft.near(c)),i(l)},addColumnBefore:()=>Dc,addColumnAfter:()=>Rc,deleteColumn:()=>Pc,addRowBefore:()=>jc,addRowAfter:()=>Fc,deleteRow:()=>Lc,deleteTable:()=>nu,toggleCellMerge:()=>(e,t)=>{Hc(e,t)||Wc(e,t)},mergeCells:()=>Hc,splitCell:()=>Wc,toggleHeaderColumn:()=>Yc,toggleHeaderRow:()=>Zc,toggleHeaderCell:()=>Qc,setCellAttr:({name:e,value:t})=>Jc(e,t),fixTables:()=>Ec}}keys(){return{Tab:tu(1),"Shift-Tab":tu(-1)}}get plugins(){return[...this.options.resizable?[su()]:[],wu()]}}class sd extends hl{get name(){return"table_header"}get schema(){return od.table_header}}class ad extends hl{get name(){return"table_cell"}get schema(){return od.table_cell}}class ld extends hl{get name(){return"table_row"}get schema(){return od.table_row}}class cd extends hl{get name(){return"todo_item"}get defaultOptions(){return{nested:!1}}get view(){return{props:["node","updateAttrs","view"],methods:{onChange(){this.updateAttrs({done:!this.node.attrs.done})}},template:'\n        <li :data-type="node.type.name" :data-done="node.attrs.done.toString()" data-drag-handle>\n          <span class="todo-checkbox" contenteditable="false" @click="onChange"></span>\n          <div class="todo-content" ref="content" :contenteditable="view.editable.toString()"></div>\n        </li>\n      '}}get schema(){return{attrs:{done:{default:!1}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",toDOM:e=>{const{done:t}=e.attrs;return["li",{"data-type":this.name,"data-done":t.toString()},["span",{class:"todo-checkbox",contenteditable:"false"}],["div",{class:"todo-content"},0]]},parseDOM:[{priority:51,tag:`[data-type="${this.name}"]`,getAttrs:e=>({done:"true"===e.getAttribute("data-done")})}]}}keys({type:e}){return{Enter:Qa(e),Tab:this.options.nested?Wa(e):()=>{},"Shift-Tab":Va(e)}}}class ud extends hl{get name(){return"todo_list"}get schema(){return{group:"block",content:"todo_item+",toDOM:()=>["ul",{"data-type":this.name},0],parseDOM:[{priority:51,tag:`[data-type="${this.name}"]`}]}}commands({type:e,schema:t}){return()=>nl(e,t.nodes.todo_item)}inputRules({type:e}){return[Sa(/^\s*(\[ \])\s$/,e)]}}class dd extends dl{get name(){return"bold"}get schema(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong",0]}}keys({type:e}){return{"Mod-b":ca(e)}}commands({type:e}){return()=>ca(e)}inputRules({type:e}){return[Ja(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,e)]}pasteRules({type:e}){return[Xa(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,e)]}}class pd extends dl{get name(){return"code"}get schema(){return{excludes:"_",parseDOM:[{tag:"code"}],toDOM:()=>["code",0]}}keys({type:e}){return{"Mod-`":ca(e)}}commands({type:e}){return()=>ca(e)}inputRules({type:e}){return[Ja(/(?:`)([^`]+)(?:`)$/,e)]}pasteRules({type:e}){return[Xa(/(?:`)([^`]+)(?:`)/g,e)]}}class hd extends dl{get name(){return"italic"}get schema(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]}}keys({type:e}){return{"Mod-i":ca(e)}}commands({type:e}){return()=>ca(e)}inputRules({type:e}){return[Ja(/(?:^|[^_])(_([^_]+)_)$/,e),Ja(/(?:^|[^*])(\*([^*]+)\*)$/,e)]}pasteRules({type:e}){return[Xa(/_([^_]+)_/g,e),Xa(/\*([^*]+)\*/g,e)]}}class fd extends dl{get name(){return"link"}get defaultOptions(){return{openOnClick:!0,target:null}}get schema(){return{attrs:{href:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),target:e.getAttribute("target")})}],toDOM:e=>["a",{...e.attrs,rel:"noopener noreferrer nofollow",target:e.attrs.target||this.options.target},0]}}commands({type:e}){return t=>t.href?ol(e,t):Za(e)}pasteRules({type:e}){return[Ga(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=,()!]*)/gi,e,(e=>({href:e})))]}get plugins(){return this.options.openOnClick?[new rn({props:{handleClick:(e,t,n)=>{const{schema:r}=e.state,o=Ra(e.state,r.marks.link);o.href&&n.target instanceof HTMLAnchorElement&&(n.stopPropagation(),window.open(o.href,o.target))}}})]:[]}}class md extends dl{get name(){return"strike"}get schema(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:e=>"line-through"===e}],toDOM:()=>["s",0]}}keys({type:e}){return{"Mod-d":ca(e)}}commands({type:e}){return()=>ca(e)}inputRules({type:e}){return[Ja(/~([^~]+)~$/,e)]}pasteRules({type:e}){return[Xa(/~([^~]+)~/g,e)]}}class vd extends dl{get name(){return"underline"}get schema(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:e=>"underline"===e}],toDOM:()=>["u",0]}}keys({type:e}){return{"Mod-u":ca(e)}}commands({type:e}){return()=>ca(e)}}class gd extends ll{get name(){return"history"}get defaultOptions(){return{depth:"",newGroupDelay:""}}keys(){const e={"Mod-z":Hu,"Mod-y":Wu,"Shift-Mod-z":Wu,"Mod-я":Hu,"Shift-Mod-я":Wu};return e}get plugins(){return[qu({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}commands(){return{undo:()=>Hu,redo:()=>Wu,undoDepth:()=>Uu,redoDepth:()=>Ju}}}class yd extends ll{get name(){return"placeholder"}get defaultOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",emptyNodeText:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0}}get plugins(){return[new rn({props:{decorations:({doc:e,plugins:t,selection:n})=>{const r=t.find((e=>e.key.startsWith("editable$"))),o=r.props.editable(),i=o||!this.options.showOnlyWhenEditable,{anchor:s}=n,a=[],l=0===e.textContent.length;return!!i&&(e.descendants(((e,t)=>{const n=s>=t&&s<=t+e.nodeSize,r=0===e.content.size;if((n||!this.options.showOnlyCurrent)&&r){const n=[this.options.emptyNodeClass];l&&n.push(this.options.emptyEditorClass);const r=_i.node(t,t+e.nodeSize,{class:n.join(" "),"data-empty-text":"function"===typeof this.options.emptyNodeText?this.options.emptyNodeText(e):this.options.emptyNodeText});a.push(r)}return!1})),Ei.create(e,a))}}})]}}class bd extends ll{get name(){return"trailing_node"}get defaultOptions(){return{node:"paragraph",notAfter:["paragraph"]}}get plugins(){const e=new an(this.name),t=Object.entries(this.editor.schema.nodes).map((([,e])=>e)).filter((e=>this.options.notAfter.includes(e.name)));return[new rn({key:e,view:()=>({update:t=>{const{state:n}=t,r=e.getState(n);if(!r)return;const{doc:o,schema:i,tr:s}=n,a=i.nodes[this.options.node],l=s.insert(o.content.size,a.create());t.dispatch(l)}}),state:{init:(e,n)=>{const r=n.tr.doc.lastChild;return!$a({node:r,types:t})},apply:(e,n)=>{if(!e.docChanged)return n;const r=e.doc.lastChild;return!$a({node:r,types:t})}}})]}}var wd=r(3235),kd=r(120),xd=r.n(kd),Sd=r(5996),Cd=r.n(Sd),_d=r(1140),Od=r.n(_d),Md=r(9281),Ed=r.n(Md),Td=r(9446),Ad=r.n(Td),Nd=r(6053),Dd=r.n(Nd),Rd=r(2547),Id=r.n(Rd),Pd=r(8553),zd=r.n(Pd),$d=r(2307),jd=r.n($d),Fd=r(1130),Bd=r.n(Fd),Ld=r(8784),Vd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:{};function qd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hd(e,t){return e(t={exports:{}},t.exports),t.exports}function Wd(e){return e&&e.default||e}var Ud=function(e){return e&&e.Math==Math&&e},Jd=Ud("object"==typeof globalThis&&globalThis)||Ud("object"==typeof window&&window)||Ud("object"==typeof self&&self)||Ud("object"==typeof Vd&&Vd)||Function("return this")(),Kd=function(e){try{return!!e()}catch(e){return!0}},Gd=!Kd((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Xd={}.propertyIsEnumerable,Zd=Object.getOwnPropertyDescriptor,Yd={f:Zd&&!Xd.call({1:2},1)?function(e){var t=Zd(this,e);return!!t&&t.enumerable}:Xd},Qd=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ep={}.toString,tp=function(e){return ep.call(e).slice(8,-1)},np="".split,rp=Kd((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==tp(e)?np.call(e,""):Object(e)}:Object,op=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},ip=function(e){return rp(op(e))},sp=function(e){return"object"==typeof e?null!==e:"function"==typeof e},ap=function(e,t){if(!sp(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!sp(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!sp(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!sp(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},lp={}.hasOwnProperty,cp=function(e,t){return lp.call(e,t)},up=Jd.document,dp=sp(up)&&sp(up.createElement),pp=function(e){return dp?up.createElement(e):{}},hp=!Gd&&!Kd((function(){return 7!=Object.defineProperty(pp("div"),"a",{get:function(){return 7}}).a})),fp=Object.getOwnPropertyDescriptor,mp={f:Gd?fp:function(e,t){if(e=ip(e),t=ap(t,!0),hp)try{return fp(e,t)}catch(e){}if(cp(e,t))return Qd(!Yd.f.call(e,t),e[t])}},vp=function(e){if(!sp(e))throw TypeError(String(e)+" is not an object");return e},gp=Object.defineProperty,yp={f:Gd?gp:function(e,t,n){if(vp(e),t=ap(t,!0),vp(n),hp)try{return gp(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},bp=Gd?function(e,t,n){return yp.f(e,t,Qd(1,n))}:function(e,t,n){return e[t]=n,e},wp=function(e,t){try{bp(Jd,e,t)}catch(n){Jd[e]=t}return t},kp=Jd["__core-js_shared__"]||wp("__core-js_shared__",{}),xp=Function.toString;"function"!=typeof kp.inspectSource&&(kp.inspectSource=function(e){return xp.call(e)});var Sp,Cp,_p,Op=kp.inspectSource,Mp=Jd.WeakMap,Ep="function"==typeof Mp&&/native code/.test(Op(Mp)),Tp=Hd((function(e){(e.exports=function(e,t){return kp[e]||(kp[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),Ap=0,Np=Math.random(),Dp=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Ap+Np).toString(36)},Rp=Tp("keys"),Ip=function(e){return Rp[e]||(Rp[e]=Dp(e))},Pp={},zp=Jd.WeakMap;if(Ep){var $p=new zp,jp=$p.get,Fp=$p.has,Bp=$p.set;Sp=function(e,t){return Bp.call($p,e,t),t},Cp=function(e){return jp.call($p,e)||{}},_p=function(e){return Fp.call($p,e)}}else{var Lp=Ip("state");Pp[Lp]=!0,Sp=function(e,t){return bp(e,Lp,t),t},Cp=function(e){return cp(e,Lp)?e[Lp]:{}},_p=function(e){return cp(e,Lp)}}var Vp,qp,Hp={set:Sp,get:Cp,has:_p,enforce:function(e){return _p(e)?Cp(e):Sp(e,{})},getterFor:function(e){return function(t){var n;if(!sp(t)||(n=Cp(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Wp=Hd((function(e){var t=Hp.get,n=Hp.enforce,r=String(String).split("String");(e.exports=function(e,t,o,i){var s=!!i&&!!i.unsafe,a=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||cp(o,"name")||bp(o,"name",t),n(o).source=r.join("string"==typeof t?t:"")),e!==Jd?(s?!l&&e[t]&&(a=!0):delete e[t],a?e[t]=o:bp(e,t,o)):a?e[t]=o:wp(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||Op(this)}))})),Up=Jd,Jp=function(e){return"function"==typeof e?e:void 0},Kp=function(e,t){return arguments.length<2?Jp(Up[e])||Jp(Jd[e]):Up[e]&&Up[e][t]||Jd[e]&&Jd[e][t]},Gp=Math.ceil,Xp=Math.floor,Zp=function(e){return isNaN(e=+e)?0:(e>0?Xp:Gp)(e)},Yp=Math.min,Qp=function(e){return e>0?Yp(Zp(e),9007199254740991):0},eh=Math.max,th=Math.min,nh=function(e,t){var n=Zp(e);return n<0?eh(n+t,0):th(n,t)},rh=function(e){return function(t,n,r){var o,i=ip(t),s=Qp(i.length),a=nh(r,s);if(e&&n!=n){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((e||a in i)&&i[a]===n)return e||a||0;return!e&&-1}},oh={includes:rh(!0),indexOf:rh(!1)},ih=oh.indexOf,sh=function(e,t){var n,r=ip(e),o=0,i=[];for(n in r)!cp(Pp,n)&&cp(r,n)&&i.push(n);for(;t.length>o;)cp(r,n=t[o++])&&(~ih(i,n)||i.push(n));return i},ah=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],lh=ah.concat("length","prototype"),ch={f:Object.getOwnPropertyNames||function(e){return sh(e,lh)}},uh={f:Object.getOwnPropertySymbols},dh=Kp("Reflect","ownKeys")||function(e){var t=ch.f(vp(e)),n=uh.f;return n?t.concat(n(e)):t},ph=function(e,t){for(var n=dh(t),r=yp.f,o=mp.f,i=0;i<n.length;i++){var s=n[i];cp(e,s)||r(e,s,o(t,s))}},hh=/#|\.prototype\./,fh=function(e,t){var n=vh[mh(e)];return n==yh||n!=gh&&("function"==typeof t?Kd(t):!!t)},mh=fh.normalize=function(e){return String(e).replace(hh,".").toLowerCase()},vh=fh.data={},gh=fh.NATIVE="N",yh=fh.POLYFILL="P",bh=fh,wh=mp.f,kh=function(e,t){var n,r,o,i,s,a=e.target,l=e.global,c=e.stat;if(n=l?Jd:c?Jd[a]||wp(a,{}):(Jd[a]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(s=wh(n,r))&&s.value:n[r],!bh(l?r:a+(c?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;ph(i,o)}(e.sham||o&&o.sham)&&bp(i,"sham",!0),Wp(n,r,i,e)}},xh=Array.isArray||function(e){return"Array"==tp(e)},Sh=function(e){return Object(op(e))},Ch=function(e,t,n){var r=ap(t);r in e?yp.f(e,r,Qd(0,n)):e[r]=n},_h=!!Object.getOwnPropertySymbols&&!Kd((function(){return!String(Symbol())})),Oh=_h&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Mh=Tp("wks"),Eh=Jd.Symbol,Th=Oh?Eh:Eh&&Eh.withoutSetter||Dp,Ah=function(e){return cp(Mh,e)||(_h&&cp(Eh,e)?Mh[e]=Eh[e]:Mh[e]=Th("Symbol."+e)),Mh[e]},Nh=Ah("species"),Dh=function(e,t){var n;return xh(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!xh(n.prototype)?sp(n)&&null===(n=n[Nh])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Rh=Kp("navigator","userAgent")||"",Ih=Jd.process,Ph=Ih&&Ih.versions,zh=Ph&&Ph.v8;zh?qp=(Vp=zh.split("."))[0]+Vp[1]:Rh&&(!(Vp=Rh.match(/Edge\/(\d+)/))||Vp[1]>=74)&&(Vp=Rh.match(/Chrome\/(\d+)/))&&(qp=Vp[1]);var $h=qp&&+qp,jh=Ah("species"),Fh=function(e){return $h>=51||!Kd((function(){var t=[];return(t.constructor={})[jh]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Bh=Ah("isConcatSpreadable"),Lh=$h>=51||!Kd((function(){var e=[];return e[Bh]=!1,e.concat()[0]!==e})),Vh=Fh("concat"),qh=function(e){if(!sp(e))return!1;var t=e[Bh];return void 0!==t?!!t:xh(e)};kh({target:"Array",proto:!0,forced:!Lh||!Vh},{concat:function(e){var t,n,r,o,i,s=Sh(this),a=Dh(s,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(qh(i=-1===t?s:arguments[t])){if(l+(o=Qp(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,l++)n in i&&Ch(a,l,i[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Ch(a,l++,i)}return a.length=l,a}});var Hh,Wh=Object.keys||function(e){return sh(e,ah)},Uh=Gd?Object.defineProperties:function(e,t){vp(e);for(var n,r=Wh(t),o=r.length,i=0;o>i;)yp.f(e,n=r[i++],t[n]);return e},Jh=Kp("document","documentElement"),Kh=Ip("IE_PROTO"),Gh=function(){},Xh=function(e){return"<script>"+e+"<\/script>"},Zh=function(){try{Hh=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Zh=Hh?function(e){e.write(Xh("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Hh):((t=pp("iframe")).style.display="none",Jh.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Xh("document.F=Object")),e.close(),e.F);for(var n=ah.length;n--;)delete Zh.prototype[ah[n]];return Zh()};Pp[Kh]=!0;var Yh=Object.create||function(e,t){var n;return null!==e?(Gh.prototype=vp(e),n=new Gh,Gh.prototype=null,n[Kh]=e):n=Zh(),void 0===t?n:Uh(n,t)},Qh=Ah("unscopables"),ef=Array.prototype;null==ef[Qh]&&yp.f(ef,Qh,{configurable:!0,value:Yh(null)});var tf=function(e){ef[Qh][e]=!0},nf=Object.defineProperty,rf={},of=function(e){throw e},sf=function(e,t){if(cp(rf,e))return rf[e];t||(t={});var n=[][e],r=!!cp(t,"ACCESSORS")&&t.ACCESSORS,o=cp(t,0)?t[0]:of,i=cp(t,1)?t[1]:void 0;return rf[e]=!!n&&!Kd((function(){if(r&&!Gd)return!0;var e={length:-1};r?nf(e,1,{enumerable:!0,get:of}):e[1]=1,n.call(e,o,i)}))},af=oh.includes,lf=sf("indexOf",{ACCESSORS:!0,1:0});kh({target:"Array",proto:!0,forced:!lf},{includes:function(e){return af(this,e,arguments.length>1?arguments[1]:void 0)}}),tf("includes");var cf=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},uf=function(e){return function(t,n,r,o){cf(n);var i=Sh(t),s=rp(i),a=Qp(i.length),l=e?a-1:0,c=e?-1:1;if(r<2)for(;;){if(l in s){o=s[l],l+=c;break}if(l+=c,e?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:a>l;l+=c)l in s&&(o=n(o,s[l],l,i));return o}},df=function(e,t){var n=[][e];return!!n&&Kd((function(){n.call(null,t||function(){throw 1},1)}))},pf={left:uf(!1),right:uf(!0)}.left,hf=df("reduce"),ff=sf("reduce",{1:0});kh({target:"Array",proto:!0,forced:!hf||!ff},{reduce:function(e){return pf(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var mf=Kd((function(){Wh(1)}));kh({target:"Object",stat:!0,forced:mf},{keys:function(e){return Wh(Sh(e))}});var vf=function(){var e=vp(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function gf(e,t){return RegExp(e,t)}var yf={UNSUPPORTED_Y:Kd((function(){var e=gf("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:Kd((function(){var e=gf("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},bf=RegExp.prototype.exec,wf=String.prototype.replace,kf=bf,xf=function(){var e=/a/,t=/b*/g;return bf.call(e,"a"),bf.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Sf=yf.UNSUPPORTED_Y||yf.BROKEN_CARET,Cf=void 0!==/()??/.exec("")[1];(xf||Cf||Sf)&&(kf=function(e){var t,n,r,o,i=this,s=Sf&&i.sticky,a=vf.call(i),l=i.source,c=0,u=e;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),u=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),n=new RegExp("^(?:"+l+")",a)),Cf&&(n=new RegExp("^"+l+"$(?!\\s)",a)),xf&&(t=i.lastIndex),r=bf.call(s?n:i,u),s?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:xf&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),Cf&&r&&r.length>1&&wf.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var _f=kf;kh({target:"RegExp",proto:!0,forced:/./.exec!==_f},{exec:_f});var Of=Ah("match"),Mf=function(e){var t;return sp(e)&&(void 0!==(t=e[Of])?!!t:"RegExp"==tp(e))},Ef=function(e){if(Mf(e))throw TypeError("The method doesn't accept regular expressions");return e},Tf=Ah("match");kh({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Tf]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~String(op(this)).indexOf(Ef(e),arguments.length>1?arguments[1]:void 0)}});var Af=Ah("species"),Nf=!Kd((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),Df="$0"==="a".replace(/./,"$0"),Rf=Ah("replace"),If=!!/./[Rf]&&""===/./[Rf]("a","$0"),Pf=!Kd((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),zf=function(e,t,n,r){var o=Ah(e),i=!Kd((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),s=i&&!Kd((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Af]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!s||"replace"===e&&(!Nf||!Df||If)||"split"===e&&!Pf){var a=/./[o],l=n(o,""[e],(function(e,t,n,r,o){return t.exec===_f?i&&!o?{done:!0,value:a.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Df,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:If}),c=l[0],u=l[1];Wp(String.prototype,e,c),Wp(RegExp.prototype,o,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)})}r&&bp(RegExp.prototype[o],"sham",!0)},$f=Ah("species"),jf=function(e,t){var n,r=vp(e).constructor;return void 0===r||null==(n=vp(r)[$f])?t:cf(n)},Ff=function(e){return function(t,n){var r,o,i=String(op(t)),s=Zp(n),a=i.length;return s<0||s>=a?e?"":void 0:(r=i.charCodeAt(s))<55296||r>56319||s+1===a||(o=i.charCodeAt(s+1))<56320||o>57343?e?i.charAt(s):r:e?i.slice(s,s+2):o-56320+(r-55296<<10)+65536}},Bf={codeAt:Ff(!1),charAt:Ff(!0)},Lf=Bf.charAt,Vf=function(e,t,n){return t+(n?Lf(e,t).length:1)},qf=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==tp(e))throw TypeError("RegExp#exec called on incompatible receiver");return _f.call(e,t)},Hf=[].push,Wf=Math.min,Uf=!Kd((function(){return!RegExp(4294967295,"y")}));function Jf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gf(e,t,n){return t&&Kf(e.prototype,t),n&&Kf(e,n),e}zf("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(op(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!Mf(e))return t.call(r,e,o);for(var i,s,a,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,d=new RegExp(e.source,c+"g");(i=_f.call(d,r))&&!((s=d.lastIndex)>u&&(l.push(r.slice(u,i.index)),i.length>1&&i.index<r.length&&Hf.apply(l,i.slice(1)),a=i[0].length,u=s,l.length>=o));)d.lastIndex===i.index&&d.lastIndex++;return u===r.length?!a&&d.test("")||l.push(""):l.push(r.slice(u)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=op(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var i=n(r,e,this,o,r!==t);if(i.done)return i.value;var s=vp(e),a=String(this),l=jf(s,RegExp),c=s.unicode,u=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Uf?"y":"g"),d=new l(Uf?s:"^(?:"+s.source+")",u),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===a.length)return null===qf(d,a)?[a]:[];for(var h=0,f=0,m=[];f<a.length;){d.lastIndex=Uf?f:0;var v,g=qf(d,Uf?a:a.slice(f));if(null===g||(v=Wf(Qp(d.lastIndex+(Uf?0:f)),a.length))===h)f=Vf(a,f,c);else{if(m.push(a.slice(h,f)),m.length===p)return m;for(var y=1;y<=g.length-1;y++)if(m.push(g[y]),m.length===p)return m;f=h=v}}return m.push(a.slice(h)),m}]}),!Uf);var Xf=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return vp(n),function(e){if(!sp(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Zf=function(e,t,n){var r,o;return Xf&&"function"==typeof(r=t.constructor)&&r!==n&&sp(o=r.prototype)&&o!==n.prototype&&Xf(e,o),e},Yf=Ah("species"),Qf=function(e){var t=Kp(e),n=yp.f;Gd&&t&&!t[Yf]&&n(t,Yf,{configurable:!0,get:function(){return this}})},em=yp.f,tm=ch.f,nm=Hp.set,rm=Ah("match"),om=Jd.RegExp,im=om.prototype,sm=/a/g,am=/a/g,lm=new om(sm)!==sm,cm=yf.UNSUPPORTED_Y;if(Gd&&bh("RegExp",!lm||cm||Kd((function(){return am[rm]=!1,om(sm)!=sm||om(am)==am||"/a/i"!=om(sm,"i")})))){for(var um=function(e,t){var n,r=this instanceof um,o=Mf(e),i=void 0===t;if(!r&&o&&e.constructor===um&&i)return e;lm?o&&!i&&(e=e.source):e instanceof um&&(i&&(t=vf.call(e)),e=e.source),cm&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var s=Zf(lm?new om(e,t):om(e,t),r?this:im,um);return cm&&n&&nm(s,{sticky:n}),s},dm=function(e){e in um||em(um,e,{configurable:!0,get:function(){return om[e]},set:function(t){om[e]=t}})},pm=tm(om),hm=0;pm.length>hm;)dm(pm[hm++]);im.constructor=um,um.prototype=im,Wp(Jd,"RegExp",um)}Qf("RegExp");var fm=RegExp.prototype,mm=fm.toString,vm=Kd((function(){return"/a/b"!=mm.call({source:"a",flags:"b"})})),gm="toString"!=mm.name;(vm||gm)&&Wp(RegExp.prototype,"toString",(function(){var e=vp(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in fm)?vf.call(e):n)}),{unsafe:!0});var ym=new RegExp("(".concat("left","|","center","|","right","|","justify",")")),bm=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/,wm=function(){function e(){Jf(this,e)}return Gf(e,null,[{key:"warn",value:function(e){console.warn("".concat("[Element-Tiptap Tip]"," ").concat(e))}},{key:"error",value:function(e){console.error("".concat("[Element-Tiptap Tip]"," ").concat(e))}}]),e}(),km={en:{editor:{extensions:{Bold:{tooltip:"Bold"},Underline:{tooltip:"Underline"},Italic:{tooltip:"Italic"},Strike:{tooltip:"Strike through"},Heading:{tooltip:"Heading",buttons:{paragraph:"Paragraph",heading:"Heading"}},Blockquote:{tooltip:"Block quote"},CodeBlock:{tooltip:"Code block"},Link:{add:{tooltip:"Apply link",control:{title:"Apply Link",href:"Href",open_in_new_tab:"Open in new tab",confirm:"Apply",cancel:"Cancel"}},edit:{tooltip:"Edit link",control:{title:"Edit Link",href:"Href",open_in_new_tab:"Open in new tab",confirm:"Update",cancel:"Cancel"}},unlink:{tooltip:"Unlink"},open:{tooltip:"Open link"}},Image:{buttons:{insert_image:{tooltip:"Insert image",external:"Insert Image By Url",upload:"Upload Image"},remove_image:{tooltip:"Remove"},image_options:{tooltip:"Image options"},display:{tooltip:"Display",inline:"Inline",block:"Break Text",left:"Float Left",right:"Float Right"}},control:{insert_by_url:{title:"Insert image",placeholder:"Url of image",confirm:"Insert",cancel:"Cancel",invalid_url:"Please enter the correct url"},upload_image:{title:"Upload image",button:"Choose an image file or drag it here"},edit_image:{title:"Edit image",confirm:"Update",cancel:"Cancel",form:{src:"Image Url",alt:"Alternative Text",width:"Width",height:"Height"}}}},Iframe:{tooltip:"Insert video",control:{title:"Insert video",placeholder:"Href",confirm:"Insert",cancel:"Cancel"}},BulletList:{tooltip:"Bullet list"},OrderedList:{tooltip:"Ordered list"},TodoList:{tooltip:"Todo list"},TextAlign:{buttons:{align_left:{tooltip:"Align left"},align_center:{tooltip:"Align center"},align_right:{tooltip:"Align right"},align_justify:{tooltip:"Align justify"}}},FontType:{tooltip:"Font family"},FontSize:{tooltip:"Font size",default:"default"},TextColor:{tooltip:"Text color"},TextHighlight:{tooltip:"Text highlight"},LineHeight:{tooltip:"Line height"},Table:{tooltip:"Table",buttons:{insert_table:"Insert Table",add_column_before:"Add Column Before",add_column_after:"Add Column After",delete_column:"Delete Column",add_row_before:"Add Row Before",add_row_after:"Add Row After",delete_row:"Delete Row",merge_cells:"Merge Cells",split_cell:"Split Cell",delete_table:"Delete Table"}},Indent:{buttons:{indent:{tooltip:"Indent"},outdent:{tooltip:"Outdent"}}},FormatClear:{tooltip:"Clear format"},HorizontalRule:{tooltip:"Horizontal rule"},History:{tooltip:{undo:"Undo",redo:"Redo"}},Fullscreen:{tooltip:{fullscreen:"Full screen",exit_fullscreen:"Exit full screen"}},Print:{tooltip:"Print"},Preview:{tooltip:"Preview",dialog:{title:"Preview"}},SelectAll:{tooltip:"Select all"},CodeView:{tooltip:"Code view"}},characters:"Characters"}},zh:{editor:{extensions:{Bold:{tooltip:"粗体"},Underline:{tooltip:"下划线"},Italic:{tooltip:"斜体"},Strike:{tooltip:"中划线"},Heading:{tooltip:"标题",buttons:{paragraph:"正文",heading:"标题"}},Blockquote:{tooltip:"引用"},CodeBlock:{tooltip:"代码块"},Link:{add:{tooltip:"添加链接",control:{title:"添加链接",href:"链接",open_in_new_tab:"在新标签页中打开",confirm:"添加",cancel:"取消"}},edit:{tooltip:"编辑链接",control:{title:"编辑链接",href:"链接",open_in_new_tab:"在新标签页中打开",confirm:"更新",cancel:"取消"}},unlink:{tooltip:"取消链接"},open:{tooltip:"打开链接"}},Image:{buttons:{insert_image:{tooltip:"插入图片",external:"插入网络图片",upload:"上传本地图片"},remove_image:{tooltip:"删除"},image_options:{tooltip:"图片属性"},display:{tooltip:"布局",inline:"内联",block:"断行",left:"左浮动",right:"右浮动"}},control:{insert_by_url:{title:"插入网络图片",placeholder:"输入链接",confirm:"插入",cancel:"取消",invalid_url:"请输入正确的图片链接"},upload_image:{title:"上传本地图片",button:"将图片文件拖到此处或者点击上传"},edit_image:{title:"编辑图片",confirm:"更新",cancel:"取消",form:{src:"图片链接",alt:"备用文本描述",width:"宽度",height:"高度"}}}},Iframe:{tooltip:"插入视频",control:{title:"插入视频",placeholder:"输入链接",confirm:"插入",cancel:"取消"}},BulletList:{tooltip:"无序列表"},OrderedList:{tooltip:"有序列表"},TodoList:{tooltip:"任务列表"},TextAlign:{buttons:{align_left:{tooltip:"左对齐"},align_center:{tooltip:"居中对齐"},align_right:{tooltip:"右对齐"},align_justify:{tooltip:"两端对齐"}}},FontType:{tooltip:"字体"},FontSize:{tooltip:"字号",default:"默认"},TextColor:{tooltip:"文本颜色"},TextHighlight:{tooltip:"文本高亮"},LineHeight:{tooltip:"行距"},Table:{tooltip:"表格",buttons:{insert_table:"插入表格",add_column_before:"向左插入一列",add_column_after:"向右插入一列",delete_column:"删除列",add_row_before:"向上插入一行",add_row_after:"向下插入一行",delete_row:"删除行",merge_cells:"合并单元格",split_cell:"拆分单元格",delete_table:"删除表格"}},Indent:{buttons:{indent:{tooltip:"增加缩进"},outdent:{tooltip:"减少缩进"}}},FormatClear:{tooltip:"清除格式"},HorizontalRule:{tooltip:"分隔线"},History:{tooltip:{undo:"撤销",redo:"重做"}},Fullscreen:{tooltip:{fullscreen:"全屏",exit_fullscreen:"退出全屏"}},Print:{tooltip:"打印"},Preview:{tooltip:"预览",dialog:{title:"预览"}},SelectAll:{tooltip:"全选"},CodeView:{tooltip:"查看源代码"}},characters:"字数"}},zh_tw:{editor:{extensions:{Bold:{tooltip:"粗體"},Underline:{tooltip:"底線"},Italic:{tooltip:"斜體"},Strike:{tooltip:"刪除線"},Heading:{tooltip:"標題",buttons:{paragraph:"段落",heading:"標題"}},Blockquote:{tooltip:"引用"},CodeBlock:{tooltip:"程式碼"},Link:{add:{tooltip:"新增超連結",control:{title:"新增超連結",href:"超連結",open_in_new_tab:"在新分頁開啟",confirm:"新增",cancel:"取消"}},edit:{tooltip:"編輯超連結",control:{title:"編輯超連結",href:"超連結",open_in_new_tab:"在新分頁開啟",confirm:"更新",cancel:"取消"}},unlink:{tooltip:"取消超連結"},open:{tooltip:"打開超連結"}},Image:{buttons:{insert_image:{tooltip:"新增圖片",external:"新增網路圖片",upload:"上傳本機圖片"},remove_image:{tooltip:"刪除"},image_options:{tooltip:"圖片屬性"},display:{tooltip:"佈局",inline:"内聯",block:"塊",left:"左浮動",right:"右浮動"}},control:{insert_by_url:{title:"新增網路圖片",placeholder:"輸入超連結",confirm:"新增",cancel:"取消",invalid_url:"請輸入正確的圖片連結"},upload_image:{title:"上傳本機圖片",button:"將圖片文件拖到此處或者點擊上傳"},edit_image:{title:"編輯圖片",confirm:"更新",cancel:"取消",form:{src:"圖片連結",alt:"替代文字",width:"寬度",height:"高度"}}}},Iframe:{tooltip:"新增影片",control:{title:"新增影片",placeholder:"輸入超連結",confirm:"確認",cancel:"取消"}},BulletList:{tooltip:"無序列表"},OrderedList:{tooltip:"有序列表"},TodoList:{tooltip:"任務列表"},TextAlign:{buttons:{align_left:{tooltip:"置左"},align_center:{tooltip:"置中"},align_right:{tooltip:"置右"},align_justify:{tooltip:"水平對齊"}}},FontType:{tooltip:"字體"},FontSize:{tooltip:"字體大小",default:"默認"},TextColor:{tooltip:"文字顏色"},TextHighlight:{tooltip:"文字反白"},LineHeight:{tooltip:"行距"},Table:{tooltip:"表格",buttons:{insert_table:"新增表格",add_column_before:"向左新增一列",add_column_after:"向右新增一列",delete_column:"刪除列",add_row_before:"向上新增一行",add_row_after:"向下新增一行",delete_row:"删除行",merge_cells:"合併",split_cell:"分離儲存格",delete_table:"删除表格"}},Indent:{buttons:{indent:{tooltip:"增加縮排"},outdent:{tooltip:"减少縮排"}}},FormatClear:{tooltip:"清除格式"},HorizontalRule:{tooltip:"分隔線"},History:{tooltip:{undo:"復原",redo:"取消復原"}},Fullscreen:{tooltip:{fullscreen:"全螢幕",exit_fullscreen:"退出全螢幕"}},Print:{tooltip:"列印"},Preview:{tooltip:"預覽",dialog:{title:"預覽"}},SelectAll:{tooltip:"全選"},CodeView:{tooltip:"查看原始碼"}},characters:"字數"}},pl:{editor:{extensions:{Bold:{tooltip:"Pogrubienie"},Underline:{tooltip:"Podkreślenie"},Italic:{tooltip:"Kursywa"},Strike:{tooltip:"Przekreślenie"},Heading:{tooltip:"Nagłówek",buttons:{paragraph:"Paragraf",heading:"Nagłówek"}},Blockquote:{tooltip:"Cytat"},CodeBlock:{tooltip:"Kod"},Link:{add:{tooltip:"Dodaj link",control:{title:"Dodaj Link",href:"Źródło",open_in_new_tab:"Otwórz w nowej karcie",confirm:"Dodaj",cancel:"Anuluj"}},edit:{tooltip:"Edytuj link",control:{title:"Edytuj link",href:"Źródło",open_in_new_tab:"Otwórz w nowej karcie",confirm:"aktualizacja",cancel:"Anuluj"}},unlink:{tooltip:"Odczepić"},open:{tooltip:"Otwórz link"}},Image:{buttons:{insert_image:{tooltip:"Dodaj obraz",external:"Dodaj obraz online",upload:"Dodaj obraz z dysku"},remove_image:{tooltip:"Usuń"},image_options:{tooltip:"Opcje obrazu"},display:{tooltip:"Pokaz",inline:"Inline",block:"Podziel tekst",left:"Przesuń w lewo",right:"Płyń w prawo"}},control:{insert_by_url:{title:"Dodawanie obrazu online",placeholder:"URL obrazu",confirm:"Dodaj",cancel:"Zamknij",invalid_url:"Proszę podać prawidłowy link prowadzący do obrazu"},upload_image:{title:"Dodawanie obrazu z dysku",button:"Wskaż obraz lub przeciągnij go tutaj"},edit_image:{title:"Edytuj obraz",confirm:"Aktualizacja",cancel:"Zamknij",form:{src:"URL obrazu",alt:"Alternatywny Tekst",width:"Szerokość",height:"Wysokość"}}}},Iframe:{tooltip:"Dodaj film",control:{title:"Dodaj film",placeholder:"URL filmu",confirm:"Dodaj",cancel:"Zamknij"}},BulletList:{tooltip:"Lista wypunktowana"},OrderedList:{tooltip:"Lista uporządkowana"},TodoList:{tooltip:"Lista rzeczy do zrobienia"},TextAlign:{buttons:{align_left:{tooltip:"Wyrównaj do lewej"},align_center:{tooltip:"Wyśrodkuj"},align_right:{tooltip:"Wyrównaj do prawej"},align_justify:{tooltip:"Wyjustuj"}}},FontType:{tooltip:"Rodzina czcionek"},FontSize:{tooltip:"Rozmiar czcionki",default:"domyślna"},TextColor:{tooltip:"Kolor tekstu"},TextHighlight:{tooltip:"Podświetlenie tekstu"},LineHeight:{tooltip:"Wysokość linii"},Table:{tooltip:"Tabela",buttons:{insert_table:"Dodaj tabelę",add_column_before:"Dodaj kolumnę przed",add_column_afer:"Dodaj kolumnę za",delete_column:"Usuń kolumnę",add_row_before:"Dodaj wiersz przed",add_row_after:"Dodaj wiersz za",delete_row:"Usuń wiersz",merge_cells:"Połącz komórki",split_cell:"Rozdziel komórki",delete_table:"Usuń tabelę"}},Indent:{buttons:{indent:{tooltip:"Zwiększ wcięcie"},outdent:{tooltip:"Zmniejsz wcięcie"}}},FormatClear:{tooltip:"Wyczyść formatowanie"},HorizontalRule:{tooltip:"Linia pozioma"},History:{tooltip:{undo:"Cofnij",redo:"Powtórz"}},Fullscreen:{tooltip:{fullscreen:"Pełny ekran",exit_fullscreen:"Zamknij pełny ekran"}},Print:{tooltip:"Drukuj"},Preview:{tooltip:"Podgląd",dialog:{title:"Podgląd"}},SelectAll:{tooltip:"Zaznacz wszystko"},CodeView:{tooltip:"Widok kodu"}},characters:"Znaki"}},ru:{editor:{extensions:{Bold:{tooltip:"Полужирный"},Underline:{tooltip:"Подчеркнутый"},Italic:{tooltip:"Курсив"},Strike:{tooltip:"Зачеркнутый"},Heading:{tooltip:"Заголовок",buttons:{paragraph:"Параграф",heading:"Заголовок"}},Blockquote:{tooltip:"Цитата"},CodeBlock:{tooltip:"Блок кода"},Link:{add:{tooltip:"Добавить ссылку",control:{title:"Добавить ссылку",href:"Адрес",open_in_new_tab:"Открыть в новой вкладке",confirm:"Применить",cancel:"Отменить"}},edit:{tooltip:"Редактировать ссылку",control:{title:"Редактировать ссылку",href:"Адрес",open_in_new_tab:"Открыть в новой вкладке",confirm:"Обновить",cancel:"Отменить"}},unlink:{tooltip:"Удалить ссылку"},open:{tooltip:"Открыть ссылку"}},Image:{buttons:{insert_image:{tooltip:"Вставить картинку",external:"Вставить картинку по ссылке",upload:"Загрузить картинку"},remove_image:{tooltip:"Удалить"},image_options:{tooltip:"Опции изображения"},display:{tooltip:"Положение",inline:"В тексте",block:"Обтекание текстом",left:"Слева",right:"Справа"}},control:{insert_by_url:{title:"Вставить картинку",placeholder:"Адрес картинки",confirm:"Вставить",cancel:"Отменить",invalid_url:"Пожалуйста введите правильный адрес"},upload_image:{title:"Загрузить картинку",button:"Выберите файл изображения или перетащите сюда"},edit_image:{title:"Редактировать изображение",confirm:"Обновить",cancel:"Отменить",form:{src:"Адрес картинки",alt:"Альтернативный текст",width:"Ширина",height:"Высота"}}}},Iframe:{tooltip:"Вставить видео",control:{title:"Вставить видео",placeholder:"Адрес",confirm:"Вставить",cancel:"Отменить"}},BulletList:{tooltip:"Маркированный список"},OrderedList:{tooltip:"Нумерованный список"},TodoList:{tooltip:"Список задач"},TextAlign:{buttons:{align_left:{tooltip:"Выровнять по левому краю"},align_center:{tooltip:"Выровнять по центру"},align_right:{tooltip:"Выровнять по правому краю"},align_justify:{tooltip:"Выровнять по ширине"}}},FontType:{tooltip:"Шрифт"},FontSize:{tooltip:"Размер шрифта",default:"По умолчанию"},TextColor:{tooltip:"Цвет текста"},TextHighlight:{tooltip:"Цвет выделения текста"},LineHeight:{tooltip:"Интервал"},Table:{tooltip:"Таблица",buttons:{insert_table:"Вставить таблицу",add_column_before:"Добавить столбец слева",add_column_after:"Добавить столбец справа",delete_column:"Удалить столбец",add_row_before:"Добавить строку сверху",add_row_after:"Добавить строку снизу",delete_row:"Удалить строку",merge_cells:"Объединить ячейки",split_cell:"Разделить ячейки",delete_table:"Удалить таблицу"}},Indent:{buttons:{indent:{tooltip:"Увеличить отступ"},outdent:{tooltip:"Уменьшить отступ"}}},FormatClear:{tooltip:"Очистить форматирование"},HorizontalRule:{tooltip:"Горизонтальная линия"},History:{tooltip:{undo:"Отменить",redo:"Повторить"}},Fullscreen:{tooltip:{fullscreen:"Полноэкранный режим",exit_fullscreen:"Выйти из полноэкранного режима"}},Print:{tooltip:"Печать"},Preview:{tooltip:"Предварительный просмотр",dialog:{title:"Предварительный просмотр"}},SelectAll:{tooltip:"Выделить все"},CodeView:{tooltip:"Просмотр кода"}},characters:"Количество символов"}},de:{editor:{extensions:{Bold:{tooltip:"Fett"},Underline:{tooltip:"Unterstrichen"},Italic:{tooltip:"Kursiv"},Strike:{tooltip:"Durchgestrichen"},Heading:{tooltip:"Überschrift",buttons:{paragraph:"Absatz",heading:"Überschrift"}},Blockquote:{tooltip:"Zitat"},CodeBlock:{tooltip:"Codeblock"},Link:{add:{tooltip:"Link hinzufügen",control:{title:"Link hinzufügen",href:"Link",open_in_new_tab:"Öffnen Sie in einem neuen Tab",confirm:"Hinzufügen",cancel:"Abbrechen"}},edit:{tooltip:"Link bearbeiten",control:{title:"Link bearbeiten",href:"Link",open_in_new_tab:"Öffnen Sie in einem neuen Tab",confirm:"Speichern",cancel:"Abbrechen"}},unlink:{tooltip:"Link entfernen"},open:{tooltip:"Link öffnen"}},Image:{buttons:{insert_image:{tooltip:"Bild einfügen",external:"Bild von URL einfügen",upload:"Bild hochladen"},remove_image:{tooltip:"Entfernen"},image_options:{tooltip:"Bildoptionen"},display:{tooltip:"Textumbruch",inline:"In der Zeile",block:"Text teilen",left:"Links",right:"Rechts"}},control:{insert_by_url:{title:"Bild einfügen",placeholder:"Bild URL",confirm:"Einfügen",cancel:"Abbrechen",invalid_url:"Diese URL hat ein ungültiges Format"},upload_image:{title:"Bild hochladen",button:"Wählen Sie ein Bild aus, oder ziehen Sie ein Bild auf dieses Feld"},edit_image:{title:"Bild Bearbeiten",confirm:"Speichern",cancel:"Abbrechen",form:{src:"Bild URL",alt:"Alternativer Text (angezeigt beim Überfahren mit Maus)",width:"Breite",height:"Höhe"}}}},Iframe:{tooltip:"Video einfügen",control:{title:"Video einfügen",placeholder:"Link",confirm:"Einfügen",cancel:"Abbrechen"}},BulletList:{tooltip:"Aufzählungsliste"},OrderedList:{tooltip:"Nummerierte Liste"},TodoList:{tooltip:"Erledigungsliste"},TextAlign:{buttons:{align_left:{tooltip:"Linksbündig"},align_center:{tooltip:"Zentriert"},align_right:{tooltip:"Rechtsbündig"},align_justify:{tooltip:"Blocksatz"}}},FontType:{tooltip:"Schriftfamilie"},FontSize:{tooltip:"Schriftgröße",default:"standard"},TextColor:{tooltip:"Textfarbe"},TextHighlight:{tooltip:"Hervorhebungsfarbe"},LineHeight:{tooltip:"Zeilenabstand"},Table:{tooltip:"Tabelle",buttons:{insert_table:"Tabelle einfügen",add_column_before:"Spalte vorher einfügen",add_column_after:"Spalte nachher einfügen",delete_column:"Spalte löschen",add_row_before:"Zeile vorher einfügen",add_row_after:"Zeile nachher einfügen",delete_row:"Zeile löschen",merge_cells:"Zellen verbinden",split_cell:"Zellen aufteilen",delete_table:"Tabelle löschen"}},Indent:{buttons:{indent:{tooltip:"Einzug vergrößern"},outdent:{tooltip:"Einzug verringern"}}},FormatClear:{tooltip:"Formattierung entfernen"},HorizontalRule:{tooltip:"Horizontale Linie"},History:{tooltip:{undo:"Rückgängig",redo:"Wiederholen"}},Fullscreen:{tooltip:{fullscreen:"Vollbild",exit_fullscreen:"Vollbild verlassen"}},Print:{tooltip:"Drucken"},Preview:{tooltip:"Vorschau",dialog:{title:"Vorschau"}},SelectAll:{tooltip:"Alles auswählen"},CodeView:{tooltip:"Codeansicht"}},characters:"Zeichen"}},ko:{editor:{extensions:{Bold:{tooltip:"굵게"},Underline:{tooltip:"밑줄"},Italic:{tooltip:"기울임"},Strike:{tooltip:"취소선"},Heading:{tooltip:"문단 형식",buttons:{paragraph:"문단",heading:"제목"}},Blockquote:{tooltip:"인용"},CodeBlock:{tooltip:"코드"},Link:{add:{tooltip:"링크 추가",control:{title:"링크 추가",href:"URL주소",open_in_new_tab:"새 탭에서 열기",confirm:"적용",cancel:"취소"}},edit:{tooltip:"링크 편집",control:{title:"링크 편집",href:"URL주소",open_in_new_tab:"새 탭에서 열기",confirm:"적용",cancel:"취소"}},unlink:{tooltip:"링크 제거"},open:{tooltip:"링크 열기"}},Image:{buttons:{insert_image:{tooltip:"이미지 추가",external:"이미지 URL을 입력하세요.",upload:"이미지 업로드"},remove_image:{tooltip:"제거"},image_options:{tooltip:"이미지 옵션"},display:{tooltip:"표시",inline:"인라인",block:"새줄",left:"좌측 정렬",right:"우측 정렬"}},control:{insert_by_url:{title:"이미지 추가",placeholder:"이미지 URL",confirm:"추가",cancel:"취소",invalid_url:"정확한 URL을 입력하세요"},upload_image:{title:"이미지 업로드",button:"이미지 파일을 선택하거나 끌어넣기 하세요"},edit_image:{title:"이미지 편집",confirm:"적용",cancel:"취소",form:{src:"이미지 URL",alt:"대체 텍스트",width:"너비",height:"높이"}}}},Iframe:{tooltip:"비디오 추가",control:{title:"비디오 추가",placeholder:"비디오 URL",confirm:"추가",cancel:"취소"}},BulletList:{tooltip:"비번호 목록"},OrderedList:{tooltip:"번호 목록"},TodoList:{tooltip:"할일 목록"},TextAlign:{buttons:{align_left:{tooltip:"좌측 정렬"},align_center:{tooltip:"중앙 정렬"},align_right:{tooltip:"우측 정렬"},align_justify:{tooltip:"좌우 정렬"}}},FontType:{tooltip:"폰트"},FontSize:{tooltip:"글자 크기",default:"기본"},TextColor:{tooltip:"글자 색"},TextHighlight:{tooltip:"글자 강조"},LineHeight:{tooltip:"줄 높이"},Table:{tooltip:"테이블",buttons:{insert_table:"테이블 추가",add_column_before:"이전에 열 추가",add_column_after:"이후에 열 추가",delete_column:"열 삭제",add_row_before:"이전에 줄 추가",add_row_after:"이후에 줄 추가",delete_row:"줄 삭제",merge_cells:"셀 병합",split_cell:"셀 분할",delete_table:"테이블 삭제"}},Indent:{buttons:{indent:{tooltip:"들여 쓰기"},outdent:{tooltip:"내어 쓰기"}}},FormatClear:{tooltip:"형식 지우기"},HorizontalRule:{tooltip:"가로 줄"},History:{tooltip:{undo:"되돌리기",redo:"다시 실행"}},Fullscreen:{tooltip:{fullscreen:"전체화면",exit_fullscreen:"전체화면 나가기"}},Print:{tooltip:"인쇄"},Preview:{tooltip:"미리보기",dialog:{title:"미리보기"}},SelectAll:{tooltip:"전체선택"},CodeView:{tooltip:"코드 뷰"}},characters:"문자수"}},es:{editor:{extensions:{Bold:{tooltip:"Negrita"},Underline:{tooltip:"Subrayado"},Italic:{tooltip:"Cursiva"},Strike:{tooltip:"Texto tachado"},Heading:{tooltip:"Encabezado",buttons:{paragraph:"Párrafo",heading:"Encabezado"}},Blockquote:{tooltip:"Bloque de cita"},CodeBlock:{tooltip:"Bloque de código"},Link:{add:{tooltip:"Crear enlace",control:{title:"Crear enlace",href:"Href",open_in_new_tab:"Abrir en una pestaña nueva",confirm:"Crear",cancel:"Cancelar"}},edit:{tooltip:"Editar enlace",control:{title:"Editar enlace",href:"Href",open_in_new_tab:"Abrir en una pestaña nueva",confirm:"Actualizar",cancel:"Cancelar"}},unlink:{tooltip:"Desenlazar"},open:{tooltip:"Abrir enlace"}},Image:{buttons:{insert_image:{tooltip:"Insertar imagen",external:"Insertar imagen desde Url",upload:"Cargar imagen"},remove_image:{tooltip:"Eliminar"},image_options:{tooltip:"Opciones de imagen"},display:{tooltip:"Visualización",inline:"En línea",block:"Bloque",left:"Flotar a la izquierda",right:"Flotar a la derecha"}},control:{insert_by_url:{title:"Insertar imagen",placeholder:"Url de la imagen",confirm:"Insertar",cancel:"Cancelar",invalid_url:"Por favor introduce una Url válida"},upload_image:{title:"Cargar imagen",button:"Selecciona una imagen o arrástrala aquí"},edit_image:{title:"Editar imagen",confirm:"Actualizar",cancel:"Cancelar",form:{src:"Url de la imagen",alt:"Texto alternativo",width:"Ancho",height:"Alto"}}}},Iframe:{tooltip:"Insertar vídeo",control:{title:"Insertar vídeo",placeholder:"Href",confirm:"Insertar",cancel:"Cancelar"}},BulletList:{tooltip:"Lista desordenada"},OrderedList:{tooltip:"Lista ordenada"},TodoList:{tooltip:"Lista de tareas"},TextAlign:{buttons:{align_left:{tooltip:"Alinear a la izquierda"},align_center:{tooltip:"Centrar texto"},align_right:{tooltip:"Alinear a la derecha"},align_justify:{tooltip:"Texto justificado"}}},FontType:{tooltip:"Fuente"},FontSize:{tooltip:"Tamaño de fuente",default:"por defecto"},TextColor:{tooltip:"Color de texto"},TextHighlight:{tooltip:"Resaltar texto"},LineHeight:{tooltip:"Altura de línea"},Table:{tooltip:"Tabla",buttons:{insert_table:"Insertar tabla",add_column_before:"Añadir columna antes",add_column_after:"Añadir columna después",delete_column:"Eliminar columna",add_row_before:"Añadir fila antes",add_row_after:"Añadir fila después",delete_row:"Eliminar fila",merge_cells:"Fusionar celdas",split_cell:"Separar celda",delete_table:"Eliminar la tabla"}},Indent:{buttons:{indent:{tooltip:"Indentar"},outdent:{tooltip:"Desindentar"}}},FormatClear:{tooltip:"Borrar formato"},HorizontalRule:{tooltip:"Separador horizontal"},History:{tooltip:{undo:"Deshacer",redo:"Rehacer"}},Fullscreen:{tooltip:{fullscreen:"Pantalla completa",exit_fullscreen:"Salir de pantalla completa"}},Print:{tooltip:"Imprimir"},Preview:{tooltip:"Vista previa",dialog:{title:"Vista previa"}},SelectAll:{tooltip:"Seleccionar todo"},CodeView:{tooltip:"Vista de código"}},characters:"Caracteres"}},fr:{editor:{extensions:{Bold:{tooltip:"Gras"},Underline:{tooltip:"Souligné"},Italic:{tooltip:"Italique"},Strike:{tooltip:"Barré"},Heading:{tooltip:"Titre",buttons:{paragraph:"Paragraphe",heading:"Titre"}},Blockquote:{tooltip:"Citation"},CodeBlock:{tooltip:"Bloc de code"},Link:{add:{tooltip:"Appliquer le lien",control:{title:"Appliquer le lien",href:"Cible du lien",open_in_new_tab:"Ouvrir dans un nouvel onglet",confirm:"Appliquer",cancel:"Annuler"}},edit:{tooltip:"Editer le lien",control:{title:"Editer le lien",href:"Cible du lien",open_in_new_tab:"Ouvrir dans un nouvel onglet",confirm:"Mettre à jour",cancel:"Annuler"}},unlink:{tooltip:"Supprimer le lien"},open:{tooltip:"Ouvrir le lien"}},Image:{buttons:{insert_image:{tooltip:"Insérer une image",external:"Insérer une image via un lien",upload:"Télécharger une image"},remove_image:{tooltip:"Retirer"},image_options:{tooltip:"Options de l'image"},display:{tooltip:"Affichage",inline:"En ligne",block:"Rupture du texte",left:"Floter à gauche",right:"Floter à droite"}},control:{insert_by_url:{title:"Insérer une image",placeholder:"Lien de l'image",confirm:"Insérer",cancel:"Annuler",invalid_url:"Lien de l'image incorrect, merci de corriger"},upload_image:{title:"Télécharger une image",button:"Choisir une image ou déposer celle-ci ici"},edit_image:{title:"Editer l'image",confirm:"Mettre à jour",cancel:"Annuler",form:{src:"Lien de l'image",alt:"Texte alternatif",width:"Largeur",height:"Hauteur"}}}},Iframe:{tooltip:"Insérer une video",control:{title:"Insérer une video",placeholder:"Lien",confirm:"Insérer",cancel:"Annuler"}},BulletList:{tooltip:"Liste à puces"},OrderedList:{tooltip:"Liste ordonnée"},TodoList:{tooltip:"Liste de choses à faire"},TextAlign:{buttons:{align_left:{tooltip:"Aligner à gauche"},align_center:{tooltip:"Aigner au centre"},align_right:{tooltip:"Aligner à droite"},align_justify:{tooltip:"Justifier"}}},FontType:{tooltip:"Police de caractère"},FontSize:{tooltip:"Taille de la police",default:"Par défaut"},TextColor:{tooltip:"Couleur du texte"},TextHighlight:{tooltip:"Texte surligné"},LineHeight:{tooltip:"Hauteur de ligne"},Table:{tooltip:"Tableau",buttons:{insert_table:"Insérer un tableau",add_column_before:"Ajouter une colonne avant",add_column_after:"Ajouter une colonne après",delete_column:"Supprimer une colonne",add_row_before:"Ajouter une ligne avant",add_row_after:"Ajouter une ligna après",delete_row:"Supprimer une ligne",merge_cells:"Fusionner les cellules",split_cell:"Diviser la cellule",delete_table:"Supprimer le tableau"}},Indent:{buttons:{indent:{tooltip:"Retrait positif"},outdent:{tooltip:"Retrait négatif"}}},FormatClear:{tooltip:"Supprimer le formatage"},HorizontalRule:{tooltip:"Ligne horizontal"},History:{tooltip:{undo:"Annuler",redo:"Refaire"}},Fullscreen:{tooltip:{fullscreen:"Plein écran",exit_fullscreen:"Sortir du plein écran"}},Print:{tooltip:"Impression"},Preview:{tooltip:"Prévisualisation",dialog:{title:"Prévisualisation"}},SelectAll:{tooltip:"Tout sélectionner"},CodeView:{tooltip:"Voir le code source"}},characters:"Caractères"}},pt_br:{editor:{extensions:{Bold:{tooltip:"Negrito"},Underline:{tooltip:"Sublinhado"},Italic:{tooltip:"Itálico"},Strike:{tooltip:"Riscado"},Heading:{tooltip:"Cabeçalho",buttons:{paragraph:"Parágrafo",heading:"Cabeçalho"}},Blockquote:{tooltip:"Bloco de citação"},CodeBlock:{tooltip:"Bloco de código"},Link:{add:{tooltip:"Inserir Link",control:{title:"Inserir Link",href:"Link de Referência",open_in_new_tab:"Abrir em nova aba",confirm:"Inserir",cancel:"Cancelar"}},edit:{tooltip:"Editar link",control:{title:"Editar Link",href:"Link de Referência",open_in_new_tab:"Abrir em nova aba",confirm:"Alterar",cancel:"Cancelar"}},unlink:{tooltip:"Excluir"},open:{tooltip:"Abrir link"}},Image:{buttons:{insert_image:{tooltip:"Inserir imagem",external:"Inserir Imagem com Url",upload:"Enviar Imagem"},remove_image:{tooltip:"Remover"},image_options:{tooltip:"Opções da Imagem"},display:{tooltip:"Visualização",inline:"Em Linha",block:"Quebra de Texto",left:"Para esquerda",right:"Para direita"}},control:{insert_by_url:{title:"Inserir imagem",placeholder:"Url da imagem",confirm:"Inserir",cancel:"Cancelar",invalid_url:"Por favor, entre com o link correto"},upload_image:{title:"Enviar imagem",button:"Escolha uma imagem ou arraste para cá"},edit_image:{title:"Editar imagem",confirm:"Alterar",cancel:"Cancelar",form:{src:"Imagem Url",alt:"Texto alternativo",width:"Largura",height:"Altura"}}}},Iframe:{tooltip:"Inserir vídeo",control:{title:"Inserir vídeo",placeholder:"Link de Referência",confirm:"Inserir",cancel:"Cancelar"}},BulletList:{tooltip:"Lista de Marcadores"},OrderedList:{tooltip:"Lista Enumerada"},TodoList:{tooltip:"Lista de afazeres"},TextAlign:{buttons:{align_left:{tooltip:"Alinhar a esquerda"},align_center:{tooltip:"Alinhar ao centro"},align_right:{tooltip:"Alinhar a direita"},align_justify:{tooltip:"Alinhamento justificado"}}},FontType:{tooltip:"Fonte"},FontSize:{tooltip:"Tamnaho da Fonte",default:"padrão"},TextColor:{tooltip:"Cor do Texto"},TextHighlight:{tooltip:"Cor de destaque"},LineHeight:{tooltip:"Altura da Linha"},Table:{tooltip:"Tabela",buttons:{insert_table:"Inserir Tabela",add_column_before:"Adicionar coluna antes",add_column_after:"Adicionar coluna depois",delete_column:"Deletar coluna",add_row_before:"Adicionar linha antes",add_row_after:"Adicionar linha depois",delete_row:"Deletar linha",merge_cells:"Mesclar células",split_cell:"Dividir célula",delete_table:"Deletar tabela"}},Indent:{buttons:{indent:{tooltip:"Aumentar Recuo"},outdent:{tooltip:"Diminuir Recuo"}}},FormatClear:{tooltip:"Limpar formatação"},HorizontalRule:{tooltip:"Linha horizontal"},History:{tooltip:{undo:"Desafazer",redo:"Refazer"}},Fullscreen:{tooltip:{fullscreen:"Tela cheia",exit_fullscreen:"Fechar tela cheia"}},Print:{tooltip:"Imprimir"},Preview:{tooltip:"Pre visualizar",dialog:{title:"Pre visualizar"}},SelectAll:{tooltip:"Selecionar Todos"},CodeView:{tooltip:"Visualização de Código"}},characters:"Caracteres"}},nl:{editor:{extensions:{Bold:{tooltip:"Vet"},Underline:{tooltip:"Onderstrepen"},Italic:{tooltip:"Cursief"},Strike:{tooltip:"Doorhalen"},Heading:{tooltip:"Hoofdstuk",buttons:{paragraph:"Paragraaf",heading:"Hoofdstuk"}},Blockquote:{tooltip:"Citaat blokkeren"},CodeBlock:{tooltip:"Codeblok"},Link:{add:{tooltip:"Link toepassen",control:{title:"Link toepassen",href:"Link",open_in_new_tab:"Openen in nieuw tabblad",confirm:"Toepassen",cancel:"Annuleren"}},edit:{tooltip:"Link bewerken",control:{title:"Link bewerken",href:"Link",open_in_new_tab:"Openen in nieuw tabblad",confirm:"Bijwerken",cancel:"Annuleren"}},unlink:{tooltip:"Link verwijderen"},open:{tooltip:"Link openen"}},Image:{buttons:{insert_image:{tooltip:"Afbeelding invoegen",external:"Afbeelding invoegen via URL",upload:"Afbeelding uploaden"},remove_image:{tooltip:"Verwijderen"},image_options:{tooltip:"Afbeeldingsopties"},display:{tooltip:"Weergeven",inline:"In tekstregel",block:"Tekst afbreken",left:"Links uitlijnen",right:"Rechts uitlijnen"}},control:{insert_by_url:{title:"Afbeelding invoegen",placeholder:"URL van afbeelding",confirm:"Invoegen",cancel:"Annuleren",invalid_url:"Vul een geldige URL in"},upload_image:{title:"Afbeelding uploaden",button:"Kies een afbeelding of sleep het hier"},edit_image:{title:"Afbeelding bewerken",confirm:"Bijwerken",cancel:"Annuleren",form:{src:"Afbeelding URL",alt:"Alternatieve tekst",width:"Breedte",height:"Hoogte"}}}},Iframe:{tooltip:"Video invoegen",control:{title:"Video invoegen",placeholder:"Link",confirm:"Invoegen",cancel:"Annuleren"}},BulletList:{tooltip:"Opsommingslijst"},OrderedList:{tooltip:"Genummerde lijst"},TodoList:{tooltip:"Takenlijst"},TextAlign:{buttons:{align_left:{tooltip:"Links uitlijnen"},align_center:{tooltip:"Centreren"},align_right:{tooltip:"Rechts uitlijnen"},align_justify:{tooltip:"Tekst uitvullen"}}},FontType:{tooltip:"Lettertype"},FontSize:{tooltip:"Tekengrootte",default:"Standaard"},TextColor:{tooltip:"Tekstkleur"},TextHighlight:{tooltip:"Tekst markeren"},LineHeight:{tooltip:"Regelafstand"},Table:{tooltip:"Tabel",buttons:{insert_table:"Tabel invoegen",add_column_before:"Kolom links invoegen",add_column_after:"Kolom rechts invoegen",delete_column:"Kolom verwijderen",add_row_before:"Rij boven toevoegen",add_row_after:"Rij onder toevoegen",delete_row:"Rij verwijderen",merge_cells:"Cellen samenvoegen",split_cell:"Cellen splitsen",delete_table:"Cellen verwijderen"}},Indent:{buttons:{indent:{tooltip:"Inspringen"},outdent:{tooltip:"Uitspringen"}}},FormatClear:{tooltip:"Opmaak wissen"},HorizontalRule:{tooltip:"Horizontale regel"},History:{tooltip:{undo:"Ongedaan maken",redo:"Herhalen"}},Fullscreen:{tooltip:{fullscreen:"Volledig scherm",exit_fullscreen:"Volledig scherm sluiten"}},Print:{tooltip:"Afdrukken"},Preview:{tooltip:"Voorbeeld",dialog:{title:"Voorbeeld"}},SelectAll:{tooltip:"Selecteer alles"},CodeView:{tooltip:"Codeweergave"}},characters:"Karakters"}},he:{editor:{extensions:{Bold:{tooltip:"מודגש"},Underline:{tooltip:"קו תחתון"},Italic:{tooltip:"הטה"},Strike:{tooltip:"קו חוצה"},Heading:{tooltip:"כותרת",buttons:{paragraph:"פסקה",heading:"כותרת"}},Blockquote:{tooltip:"ציטוט"},CodeBlock:{tooltip:"קוד"},Link:{add:{tooltip:"החל קישור",control:{title:"החל קישור",href:"קישור",open_in_new_tab:"פתח בחלון חדש",confirm:"החל",cancel:"ביטול"}},edit:{tooltip:"ערוך קישור",control:{title:"ערוך קישור",href:"קישור",open_in_new_tab:"פתח בחלון חדש",confirm:"עידכון",cancel:"ביטול"}},unlink:{tooltip:"הסר קישור"},open:{tooltip:"פתח קישור"}},Image:{buttons:{insert_image:{tooltip:"הוספת תמונה",external:"הוספת תמונה לפי קישור",upload:"העלאת תמונה"},remove_image:{tooltip:"הסר"},image_options:{tooltip:"אפשרויות תמונה"},display:{tooltip:"הצג",inline:"בשורה",block:"שבור טקסט",left:"הצמד לשמאל",right:"הצמד לימין"}},control:{insert_by_url:{title:"הוספת תמונה",placeholder:"קישור לתמונה",confirm:"הוספה",cancel:"ביטול",invalid_url:"נא הזן קישור תקין"},upload_image:{title:"העלאת תמונה",button:"לחץ כאן לבחירת תמונה מתיקיה או גרור אותה הנה"},edit_image:{title:"עריכה תמונה",confirm:"עדכון",cancel:"ביטול",form:{src:"קישור לתמונה",alt:"טקסט חלופי",width:"רוחב",height:"גובה"}}}},Iframe:{tooltip:"הוספת סרטון",control:{title:"הוספת סרטון",placeholder:"קישור",confirm:"הוספה",cancel:"ביטול"}},BulletList:{tooltip:"תבליטים"},OrderedList:{tooltip:"מספור"},TodoList:{tooltip:"רשימת משימות"},TextAlign:{buttons:{align_left:{tooltip:"ישר לשמאל"},align_center:{tooltip:"ישר לאמצע"},align_right:{tooltip:"ישר לימין"},align_justify:{tooltip:"ישר לשני הצדדים"}}},FontType:{tooltip:"גופן"},FontSize:{tooltip:"גודל גופן",default:"ברירת מחדל"},TextColor:{tooltip:"צבע טקסט"},TextHighlight:{tooltip:"צבע סימון טקסט"},LineHeight:{tooltip:"גובה שורה"},Table:{tooltip:"טבלה",buttons:{insert_table:"הוסף טבלה",add_column_before:"הוסף עמודה לפני",add_column_after:"הוסף עמודה אחרי",delete_column:"מחק עמודה",add_row_before:"הוסף שורה לפני",add_row_after:"הוסף שורה אחרי",delete_row:"מחק שורה",merge_cells:"מיזוג תאים",split_cell:"פיצול תא",delete_table:"מחיקת טבלה"}},Indent:{buttons:{indent:{tooltip:"בקטן כניסה"},outdent:{tooltip:"הגדל כניסה"}}},FormatClear:{tooltip:"נקה עיצוב"},HorizontalRule:{tooltip:"קו אופקי"},History:{tooltip:{undo:"הקודם",redo:"הבא"}},Fullscreen:{tooltip:{fullscreen:"מסך מלא",exit_fullscreen:"יציאה ממסך מלא"}},Print:{tooltip:"הדפס"},Preview:{tooltip:"תצוגה מקדימה",dialog:{title:"תצוגה מקדימה"}},SelectAll:{tooltip:"בחר הכל"},CodeView:{tooltip:"תצוגת קוד"}},characters:"תווים"}}},xm={get defaultLanguage(){return"en"},get supportedLanguages(){return Object.keys(km)},loadLanguage:function(e){return km[e]},isLangSupported:function(e){return this.supportedLanguages.includes(e)},buildI18nHandler:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";this.isLangSupported(t)?e=t:(wm.warn("Can't find the current language \"".concat(t,'", Using language "').concat("en",'" by default. Welcome contribution to https://github.com/Leecason/element-tiptap')),e="en");var n=this.loadLanguage(e);return function(e){return e.split(".").reduce((function(e,t){return e[t]}),n)}}},Sm=function(e,t,n){if(cf(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},Cm=[].push,_m=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,s=5==e||i;return function(a,l,c,u){for(var d,p,h=Sh(a),f=rp(h),m=Sm(l,c,3),v=Qp(f.length),g=0,y=u||Dh,b=t?y(a,v):n?y(a,0):void 0;v>g;g++)if((s||g in f)&&(p=m(d=f[g],g,h),e))if(t)b[g]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return g;case 2:Cm.call(b,d)}else if(o)return!1;return i?-1:r||o?o:b}},Om={forEach:_m(0),map:_m(1),filter:_m(2),some:_m(3),every:_m(4),find:_m(5),findIndex:_m(6)},Mm=Om.find,Em=!0,Tm=sf("find");"find"in[]&&Array(1).find((function(){Em=!1})),kh({target:"Array",proto:!0,forced:Em||!Tm},{find:function(e){return Mm(this,e,arguments.length>1?arguments[1]:void 0)}}),tf("find");var Am=yp.f,Nm=Function.prototype,Dm=Nm.toString,Rm=/^\s*function ([^ (]*)/;Gd&&!("name"in Nm)&&Am(Nm,"name",{configurable:!0,get:function(){try{return Dm.call(this).match(Rm)[1]}catch(e){return""}}});var Im=Object.assign,Pm=Object.defineProperty,zm=!Im||Kd((function(){if(Gd&&1!==Im({b:1},Im(Pm({},"a",{enumerable:!0,get:function(){Pm(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=Im({},e)[n]||"abcdefghijklmnopqrst"!=Wh(Im({},t)).join("")}))?function(e,t){for(var n=Sh(e),r=arguments.length,o=1,i=uh.f,s=Yd.f;r>o;)for(var a,l=rp(arguments[o++]),c=i?Wh(l).concat(i(l)):Wh(l),u=c.length,d=0;u>d;)a=c[d++],Gd&&!s.call(l,a)||(n[a]=l[a]);return n}:Im;function $m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jm(e){return function(e){if(Array.isArray(e))return $m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return $m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bm(e,t){return(Bm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bm(e,t)}function Vm(e){return(Vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qm(e){return(qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hm(e,t){return!t||"object"!==qm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vm(e);if(t){var o=Vm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hm(this,n)}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Um(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Jm(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}
/**
  * vue-class-component v7.2.3
  * (c) 2015-present Evan You
  * @license MIT
  */function Km(e){return(Km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xm(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Zm(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function Ym(e,t){Qm(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(n){Qm(e.prototype,t.prototype,n)})),Object.getOwnPropertyNames(t).forEach((function(n){Qm(e,t,n)}))}function Qm(e,t,n){(n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t)).forEach((function(r){var o=n?Reflect.getOwnMetadata(r,t,n):Reflect.getOwnMetadata(r,t);n?Reflect.defineMetadata(r,o,e,n):Reflect.defineMetadata(r,o,e)}))}kh({target:"Object",stat:!0,forced:Object.assign!==zm},{assign:zm});var ev={__proto__:[]}instanceof Array;function tv(e){return function(t,n,r){var o="function"==typeof t?t:t.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(t){return e(t,n,r)}))}}function nv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s().extend({mixins:t})}function rv(e,t){var n=t.prototype._init;t.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||n.push(r);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var r=new t;t.prototype._init=n;var o={};return Object.keys(r).forEach((function(e){void 0!==r[e]&&(o[e]=r[e])})),o}var ov=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function iv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(e){if("constructor"!==e)if(ov.indexOf(e)>-1)t[e]=n[e];else{var r=Object.getOwnPropertyDescriptor(n,e);void 0!==r.value?"function"==typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){return Gm({},e,r.value)}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return rv(this,e)}});var r=e.__decorators__;r&&(r.forEach((function(e){return e(t)})),delete e.__decorators__);var o=Object.getPrototypeOf(e.prototype),i=o instanceof s()?o.constructor:s(),a=i.extend(t);return av(a,e,i),Zm()&&Ym(a,e),a}var sv={prototype:!0,arguments:!0,callee:!0,caller:!0};function av(e,t,n){Object.getOwnPropertyNames(t).forEach((function(r){if(!sv[r]){var o=Object.getOwnPropertyDescriptor(e,r);if(!o||o.configurable){var i=Object.getOwnPropertyDescriptor(t,r);if(!ev){if("cid"===r)return;var s=Object.getOwnPropertyDescriptor(n,r);if(!function(e){var t=Km(e);return null==e||"object"!==t&&"function"!==t}(i.value)&&s&&s.value===i.value)return}Object.defineProperty(e,r,i)}}}))}function lv(e){return"function"==typeof e?iv(e):function(t){return iv(t,e)}}function cv(e){return tv((function(t,n){void 0===t.inject&&(t.inject={}),Array.isArray(t.inject)||(t.inject[n]=e||n)}))}lv.registerHooks=function(e){ov.push.apply(ov,Xm(e))};var uv="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function dv(e,t,n){if(uv&&!Array.isArray(e)&&"function"!=typeof e&&void 0===e.type){var r=Reflect.getMetadata("design:type",t,n);r!==Object&&(e.type=r)}}function pv(e){return void 0===e&&(e={}),function(t,n){dv(e,t,n),tv((function(t,n){(t.props||(t.props={}))[n]=e}))(t,n)}}function hv(e,t){void 0===t&&(t={});var n=t.deep,r=void 0!==n&&n,o=t.immediate,i=void 0!==o&&o;return tv((function(t,n){"object"!=typeof t.watch&&(t.watch=Object.create(null));var o=t.watch;"object"!=typeof o[e]||Array.isArray(o[e])?void 0===o[e]&&(o[e]=[]):o[e]=[o[e]],o[e].push({handler:n,deep:r,immediate:i})}))}var fv=/\B([A-Z])/g;function mv(e){return function(t,n,r){var o=n.replace(fv,"-$1").toLowerCase(),i=r.value;r.value=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=function(r){var i=e||o;void 0===r?0===n.length?t.$emit(i):1===n.length?t.$emit(i,n[0]):t.$emit.apply(t,[i].concat(n)):0===n.length?t.$emit(i,r):1===n.length?t.$emit(i,r,n[0]):t.$emit.apply(t,[i,r].concat(n))},a=i.apply(this,n);return vv(a)?a.then((function(e){s(e)})):s(a),a}}}function vv(e){return e instanceof Promise||e&&"function"==typeof e.then}var gv=function(e){Lm(n,ll);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"name",get:function(){return"content_attributes"}},{key:"defaultOptions",get:function(){return{spellcheck:!0}}},{key:"plugins",get:function(){return[new rn({props:{attributes:Object.assign({},this.options)}})]}}]),n}(),yv=Fh("slice"),bv=sf("slice",{ACCESSORS:!0,0:0,1:2}),wv=Ah("species"),kv=[].slice,xv=Math.max;kh({target:"Array",proto:!0,forced:!yv||!bv},{slice:function(e,t){var n,r,o,i=ip(this),s=Qp(i.length),a=nh(e,s),l=nh(void 0===t?s:t,s);if(xh(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!xh(n.prototype)?sp(n)&&null===(n=n[wv])&&(n=void 0):n=void 0,n===Array||void 0===n))return kv.call(i,a,l);for(r=new(void 0===n?Array:n)(xv(l-a,0)),o=0;a<l;a++,o++)a in i&&Ch(r,o,i[a]);return r.length=o,r}});var Sv="\t\n\v\f\r                　\u2028\u2029\ufeff",Cv="["+Sv+"]",_v=RegExp("^"+Cv+Cv+"*"),Ov=RegExp(Cv+Cv+"*$"),Mv=function(e){return function(t){var n=String(op(t));return 1&e&&(n=n.replace(_v,"")),2&e&&(n=n.replace(Ov,"")),n}},Ev={start:Mv(1),end:Mv(2),trim:Mv(3)},Tv=ch.f,Av=mp.f,Nv=yp.f,Dv=Ev.trim,Rv=Jd.Number,Iv=Rv.prototype,Pv="Number"==tp(Yh(Iv)),zv=function(e){var t,n,r,o,i,s,a,l,c=ap(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=Dv(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(s=(i=c.slice(2)).length,a=0;a<s;a++)if((l=i.charCodeAt(a))<48||l>o)return NaN;return parseInt(i,r)}return+c};if(bh("Number",!Rv(" 0o1")||!Rv("0b1")||Rv("+0x1"))){for(var $v,jv=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof jv&&(Pv?Kd((function(){Iv.valueOf.call(n)})):"Number"!=tp(n))?Zf(new Rv(zv(t)),n,jv):zv(t)},Fv=Gd?Tv(Rv):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Bv=0;Fv.length>Bv;Bv++)cp(Rv,$v=Fv[Bv])&&!cp(jv,$v)&&Nv(jv,$v,Av(Rv,$v));jv.prototype=Iv,Iv.constructor=jv,Wp(Jd,"Number",jv)}kh({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var Lv={};Lv[Ah("toStringTag")]="z";var Vv="[object z]"===String(Lv),qv=Ah("toStringTag"),Hv="Arguments"==tp(function(){return arguments}()),Wv=Vv?tp:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),qv))?n:Hv?tp(t):"Object"==(r=tp(t))&&"function"==typeof t.callee?"Arguments":r},Uv=Vv?{}.toString:function(){return"[object "+Wv(this)+"]"};Vv||Wp(Object.prototype,"toString",Uv,{unsafe:!0});var Jv=Jd.Promise,Kv=function(e,t,n){for(var r in t)Wp(e,r,t[r],n);return e},Gv=yp.f,Xv=Ah("toStringTag"),Zv=function(e,t,n){e&&!cp(e=n?e:e.prototype,Xv)&&Gv(e,Xv,{configurable:!0,value:t})},Yv=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Qv={},eg=Ah("iterator"),tg=Array.prototype,ng=function(e){return void 0!==e&&(Qv.Array===e||tg[eg]===e)},rg=Ah("iterator"),og=function(e){if(null!=e)return e[rg]||e["@@iterator"]||Qv[Wv(e)]},ig=function(e,t,n,r){try{return r?t(vp(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&vp(o.call(e)),t}},sg=Hd((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,o,i){var s,a,l,c,u,d,p,h=Sm(n,r,o?2:1);if(i)s=e;else{if("function"!=typeof(a=og(e)))throw TypeError("Target is not iterable");if(ng(a)){for(l=0,c=Qp(e.length);c>l;l++)if((u=o?h(vp(p=e[l])[0],p[1]):h(e[l]))&&u instanceof t)return u;return new t(!1)}s=a.call(e)}for(d=s.next;!(p=d.call(s)).done;)if("object"==typeof(u=ig(s,h,p.value,o))&&u&&u instanceof t)return u;return new t(!1)}).stop=function(e){return new t(!0,e)}})),ag=Ah("iterator"),lg=!1;try{var cg=0,ug={next:function(){return{done:!!cg++}},return:function(){lg=!0}};ug[ag]=function(){return this},Array.from(ug,(function(){throw 2}))}catch(pM){}var dg,pg,hg,fg=function(e,t){if(!t&&!lg)return!1;var n=!1;try{var r={};r[ag]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},mg=/(iphone|ipod|ipad).*applewebkit/i.test(Rh),vg=Jd.location,gg=Jd.setImmediate,yg=Jd.clearImmediate,bg=Jd.process,wg=Jd.MessageChannel,kg=Jd.Dispatch,xg=0,Sg={},Cg=function(e){if(Sg.hasOwnProperty(e)){var t=Sg[e];delete Sg[e],t()}},_g=function(e){return function(){Cg(e)}},Og=function(e){Cg(e.data)},Mg=function(e){Jd.postMessage(e+"",vg.protocol+"//"+vg.host)};gg&&yg||(gg=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Sg[++xg]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},dg(xg),xg},yg=function(e){delete Sg[e]},"process"==tp(bg)?dg=function(e){bg.nextTick(_g(e))}:kg&&kg.now?dg=function(e){kg.now(_g(e))}:wg&&!mg?(hg=(pg=new wg).port2,pg.port1.onmessage=Og,dg=Sm(hg.postMessage,hg,1)):!Jd.addEventListener||"function"!=typeof postMessage||Jd.importScripts||Kd(Mg)||"file:"===vg.protocol?dg="onreadystatechange"in pp("script")?function(e){Jh.appendChild(pp("script")).onreadystatechange=function(){Jh.removeChild(this),Cg(e)}}:function(e){setTimeout(_g(e),0)}:(dg=Mg,Jd.addEventListener("message",Og,!1)));var Eg,Tg,Ag,Ng,Dg,Rg,Ig,Pg,zg={set:gg,clear:yg},$g=mp.f,jg=zg.set,Fg=Jd.MutationObserver||Jd.WebKitMutationObserver,Bg=Jd.process,Lg=Jd.Promise,Vg="process"==tp(Bg),qg=$g(Jd,"queueMicrotask"),Hg=qg&&qg.value;Hg||(Eg=function(){var e,t;for(Vg&&(e=Bg.domain)&&e.exit();Tg;){t=Tg.fn,Tg=Tg.next;try{t()}catch(e){throw Tg?Ng():Ag=void 0,e}}Ag=void 0,e&&e.enter()},Vg?Ng=function(){Bg.nextTick(Eg)}:Fg&&!mg?(Dg=!0,Rg=document.createTextNode(""),new Fg(Eg).observe(Rg,{characterData:!0}),Ng=function(){Rg.data=Dg=!Dg}):Lg&&Lg.resolve?(Ig=Lg.resolve(void 0),Pg=Ig.then,Ng=function(){Pg.call(Ig,Eg)}):Ng=function(){jg.call(Jd,Eg)});var Wg,Ug,Jg,Kg,Gg=Hg||function(e){var t={fn:e,next:void 0};Ag&&(Ag.next=t),Tg||(Tg=t,Ng()),Ag=t},Xg=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=cf(t),this.reject=cf(n)},Zg={f:function(e){return new Xg(e)}},Yg=function(e,t){if(vp(e),sp(t)&&t.constructor===e)return t;var n=Zg.f(e);return(0,n.resolve)(t),n.promise},Qg=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},ey=zg.set,ty=Ah("species"),ny="Promise",ry=Hp.get,oy=Hp.set,iy=Hp.getterFor(ny),sy=Jv,ay=Jd.TypeError,ly=Jd.document,cy=Jd.process,uy=Kp("fetch"),dy=Zg.f,py=dy,hy="process"==tp(cy),fy=!!(ly&&ly.createEvent&&Jd.dispatchEvent),my=bh(ny,(function(){if(Op(sy)===String(sy)){if(66===$h)return!0;if(!hy&&"function"!=typeof PromiseRejectionEvent)return!0}if($h>=51&&/native code/.test(sy))return!1;var e=sy.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[ty]=t,!(e.then((function(){}))instanceof t)})),vy=my||!fg((function(e){sy.all(e).catch((function(){}))})),gy=function(e){var t;return!(!sp(e)||"function"!=typeof(t=e.then))&&t},yy=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;Gg((function(){for(var o=t.value,i=1==t.state,s=0;r.length>s;){var a,l,c,u=r[s++],d=i?u.ok:u.fail,p=u.resolve,h=u.reject,f=u.domain;try{d?(i||(2===t.rejection&&xy(e,t),t.rejection=1),!0===d?a=o:(f&&f.enter(),a=d(o),f&&(f.exit(),c=!0)),a===u.promise?h(ay("Promise-chain cycle")):(l=gy(a))?l.call(a,p,h):p(a)):h(o)}catch(e){f&&!c&&f.exit(),h(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&wy(e,t)}))}},by=function(e,t,n){var r,o;fy?((r=ly.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),Jd.dispatchEvent(r)):r={promise:t,reason:n},(o=Jd["on"+e])?o(r):"unhandledrejection"===e&&function(e,t){var n=Jd.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},wy=function(e,t){ey.call(Jd,(function(){var n,r=t.value;if(ky(t)&&(n=Qg((function(){hy?cy.emit("unhandledRejection",r,e):by("unhandledrejection",e,r)})),t.rejection=hy||ky(t)?2:1,n.error))throw n.value}))},ky=function(e){return 1!==e.rejection&&!e.parent},xy=function(e,t){ey.call(Jd,(function(){hy?cy.emit("rejectionHandled",e):by("rejectionhandled",e,t.value)}))},Sy=function(e,t,n,r){return function(o){e(t,n,o,r)}},Cy=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,yy(e,t,!0))},_y=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw ay("Promise can't be resolved itself");var o=gy(n);o?Gg((function(){var r={done:!1};try{o.call(n,Sy(_y,e,r,t),Sy(Cy,e,r,t))}catch(n){Cy(e,r,n,t)}})):(t.value=n,t.state=1,yy(e,t,!1))}catch(n){Cy(e,{done:!1},n,t)}}};function Oy(e){return Number.isNaN(e)}function My(e,t,n){return e<t?t:e>n?n:e}function Ey(e){var t=new FileReader;return new Promise((function(n,r){t.onload=function(e){return n(e.target.result)},t.onerror=r,t.readAsDataURL(e)}))}my&&(sy=function(e){Yv(this,sy,ny),cf(e),Wg.call(this);var t=ry(this);try{e(Sy(_y,this,t),Sy(Cy,this,t))}catch(e){Cy(this,t,e)}},(Wg=function(e){oy(this,{type:ny,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Kv(sy.prototype,{then:function(e,t){var n=iy(this),r=dy(jf(this,sy));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=hy?cy.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&yy(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),Ug=function(){var e=new Wg,t=ry(e);this.promise=e,this.resolve=Sy(_y,e,t),this.reject=Sy(Cy,e,t)},Zg.f=dy=function(e){return e===sy||e===Jg?new Ug(e):py(e)},"function"==typeof Jv&&(Kg=Jv.prototype.then,Wp(Jv.prototype,"then",(function(e,t){var n=this;return new sy((function(e,t){Kg.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof uy&&kh({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return Yg(sy,uy.apply(Jd,arguments))}}))),kh({global:!0,wrap:!0,forced:my},{Promise:sy}),Zv(sy,ny,!1),Qf(ny),Jg=Kp(ny),kh({target:ny,stat:!0,forced:my},{reject:function(e){var t=dy(this);return t.reject.call(void 0,e),t.promise}}),kh({target:ny,stat:!0,forced:my},{resolve:function(e){return Yg(this,e)}}),kh({target:ny,stat:!0,forced:vy},{all:function(e){var t=this,n=dy(t),r=n.resolve,o=n.reject,i=Qg((function(){var n=cf(t.resolve),i=[],s=0,a=1;sg(e,(function(e){var l=s++,c=!1;i.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,i[l]=e,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=dy(t),r=n.reject,o=Qg((function(){var o=cf(t.resolve);sg(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var Ty=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),Ay=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"elTiptapEditorStyle",get:function(){return[this.editorSizeStyle]}},{key:"editorSizeStyle",get:function(){var e=this.width,t=this.height;return{width:e=Oy(Number(e))?e:"".concat(e).concat("px"),height:t=Oy(Number(t))?t:"".concat(t).concat("px")}}}]),n}();Um([pv({type:[String,Number],default:void 0})],Ay.prototype,"width",void 0),Um([pv({type:[String,Number],default:void 0})],Ay.prototype,"height",void 0),Um([pv({type:Boolean,default:!0})],Ay.prototype,"showMenubar",void 0),Um([pv({type:Boolean,default:!0})],Ay.prototype,"charCounterCount",void 0);var Ny=Ay=Um([lv],Ay),Dy=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).cmInstance=null,e.isCodeViewMode=!1,e}return Gf(n,[{key:"onCodeViewModeChange",value:function(e){var t=this;if(e)this.$nextTick((function(){return!t.cmInstance&&t.initCodemirror()}));else if(this.cmInstance){var n=this.cmInstance.getValue();this.editor.setContent(n,!0),this.destroyCodemirror()}}},{key:"initCodemirror",value:function(){var e=this.extensions.find((function(e){return"code_view"===e.name}));if(e){var t=e.options,n=t.codemirror,r=t.codemirrorOptions;if(n){var o=Object.assign(Object.assign({},r),{readOnly:this.readonly,spellcheck:this.spellcheckEnabled});this.cmInstance=n.fromTextArea(this.$refs.cmTextArea,o),this.cmInstance.setValue(this.editor.getHTML()),this.formatCode()}}}},{key:"destroyCodemirror",value:function(){var e=this.cmInstance.doc.cm.getWrapperElement();e&&e.remove&&e.remove(),this.cmInstance=null}},{key:"formatCode",value:function(){var e=this.cmInstance;e.execCommand("selectAll");var t={from:e.getCursor(!0),to:e.getCursor(!1)};e.autoFormatRange(t.from,t.to),e.setCursor(0)}}]),n}();Um([hv("isCodeViewMode")],Dy.prototype,"onCodeViewModeChange",null);var Ry=Dy=Um([lv],Dy),Iy=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"generateCommandButtonComponentSpecs",value:function(e){var t=this;return this.editor.extensions.extensions.reduce((function(n,r){if(!1===r.options.menubar)return n;if("function"!=typeof r.menuBtnView)return n;var o=r.menuBtnView(Object.assign(Object.assign({},e),{editor:t.editor,t:t.et.t}));return Array.isArray(o)?[].concat(jm(n),jm(o)):[].concat(jm(n),[o])}),[])}}]),n}();function Py(e,t,n,r,o,i,s,a,l,c){"boolean"!=typeof s&&(l=a,a=s,s=!1);const u="function"==typeof n?n.options:n;let d;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),r&&(u._scopeId=r),i?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=d):t&&(d=s?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),d)if(u.functional){const e=u.render;u.render=function(t,n){return d.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,d):[d]}return n}Um([pv({type:yl,required:!0})],Iy.prototype,"editor",void 0),Um([cv()],Iy.prototype,"et",void 0);const zy=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("editor-menu-bar",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",[n("div",{staticClass:"el-tiptap-editor__menu-bar"},e._l(e.generateCommandButtonComponentSpecs(t),(function(t,r){return n(t.component,e._g(e._b({key:"command-button"+r,tag:"component",attrs:{"enable-tooltip":e.et.tooltip,readonly:e.et.isCodeViewMode}},"component",t.componentProps,!1),t.componentEvents))})),1)],null,t)]}}],null,!0)})},staticRenderFns:[]},void 0,Iy=Um([lv({components:{EditorMenuBar:xl}})],Iy),void 0,!1,void 0,!1,void 0,void 0,void 0);var $y=Om.some,jy=df("some"),Fy=sf("some");kh({target:"Array",proto:!0,forced:!jy||!Fy},{some:function(e){return $y(this,e,arguments.length>1?arguments[1]:void 0)}});var By=/"/g,Ly=function(e,t,n,r){var o=String(op(e)),i="<"+t;return""!==n&&(i+=" "+n+'="'+String(r).replace(By,"&quot;")+'"'),i+">"+o+"</"+t+">"},Vy=function(e){return Kd((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))};kh({target:"String",proto:!0,forced:Vy("link")},{link:function(e){return Ly(this,"a","href",e)}});for(var qy="-_",Hy=36;Hy--;)qy+=Hy.toString(36);for(Hy=36;Hy---10;)qy+=Hy.toString(36).toUpperCase();let Wy={};function Uy(e,t){t?t.constructor.super.util.warn(e,t):console.error(e)}var Jy={name:"fa-icon",props:{name:{type:String,validator(e){return!e||e in Wy||(Uy(`Invalid prop: prop "name" is referring to an unregistered icon "${e}".\nPlease make sure you have imported this icon before using it.`,this),!1)}},title:String,scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:e=>"horizontal"===e||"vertical"===e||"both"===e},label:String,tabindex:[Number,String]},data:()=>({id:Gy("va-"),x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}),computed:{normalizedScale(){let e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(Uy('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},klass(){let e={"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-flip-both":"both"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse};return this.classes&&Object.keys(this.classes).forEach((t=>{this.classes[t]&&(e[t]=!0)})),e},icon(){return this.name?Wy[this.name]:null},box(){return this.icon?`0 0 ${this.icon.width} ${this.icon.height}`:`0 0 ${this.width} ${this.height}`},ratio(){if(!this.icon)return 1;let{width:e,height:t}=this.icon;return Math.max(e,t)/16},width(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw(){if(!this.icon||!this.icon.raw)return null;let e=this.icon.raw,t={};return e=e.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,((e,n,r)=>{let o=Gy("vat-");return t[r]=o,` id="${o}"`})),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,((e,n,r,o)=>{let i=n||o;return i&&t[i]?"#"+t[i]:e})),e},focusable(){let{tabindex:e}=this;return null==e?"false":("string"==typeof e?parseInt(e,10):e)>=0?null:"false"}},mounted(){this.updateStack()},updated(){this.updateStack()},methods:{updateStack(){if(!this.name&&null!==this.name&&0===this.$children.length)return void Uy('Invalid prop: prop "name" is required.',this);if(this.icon)return;let e=0,t=0;this.$children.forEach((n=>{n.outerScale=this.normalizedScale,e=Math.max(e,n.width),t=Math.max(t,n.height)})),this.childrenWidth=e,this.childrenHeight=t,this.$children.forEach((n=>{n.x=(e-n.width)/2,n.y=(t-n.height)/2}))}},render(e){if(null===this.name)return e();let t={class:this.klass,style:this.style,attrs:{role:this.$attrs.role||(this.label||this.title?"img":null),"aria-label":this.label||null,"aria-hidden":!(this.label||this.title),tabindex:this.tabindex,x:this.x,y:this.y,width:this.width,height:this.height,viewBox:this.box,focusable:this.focusable},on:this.$listeners},n=this.id;if(this.title&&(t.attrs["aria-labelledby"]=n),this.raw){let e=`<g>${this.raw}</g>`;this.title&&(e=`<title id="${n}">${function(e){return e.replace(/[<>"&]/g,(e=>Xy[e]||e))}(this.title)}</title>${e}`),t.domProps={innerHTML:e}}let r=this.title?[e("title",{attrs:{id:n}},this.title)]:[];return e("svg",t,this.raw?null:r.concat([e("g",this.$slots.default||(this.icon?[...this.icon.paths.map(((t,n)=>e("path",{attrs:t,key:"path-"+n}))),...this.icon.polygons.map(((t,n)=>e("polygon",{attrs:t,key:"polygon-"+n})))]:[]))]))},register(e){for(let t in e){let n=e[t],{paths:r=[],d:o,polygons:i=[],points:s}=n;o&&r.push({d:o}),s&&i.push({points:s}),Wy[t]=Ky({},n,{paths:r,polygons:i})}},icons:Wy};function Ky(e,...t){return t.forEach((t=>{for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})),e}function Gy(e=""){return e+function(e){var t="";for(Hy=e||21;Hy--;)t+=qy[64*Math.random()|0];return t}(7)}const Xy={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"},Zy=Py({},void 0,Jy,void 0,void 0,void 0,!1,void 0,void 0,void 0);function Yy(e){return function(e){if(Array.isArray(e))return Qy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Qy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qy(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eb(e,t){var n=e.selection,r=n.from,o=n.to,i=[];e.doc.nodesBetween(r,o,(function(e){i=[].concat(Yy(i),Yy(e.marks))}));var s=i.find((function(e){return e.type.name===t.name}));return s?s.attrs:{}}function tb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||!t)return!1;var n=e.parent.childAfter(e.parentOffset);if(!n.node)return!1;var r=n.node.marks.find((function(e){return e.type===t}));if(!r)return!1;for(var o=e.index(),i=e.start()+n.offset,s=o+1,a=i+n.node.nodeSize;o>0&&r.isInSet(e.parent.child(o-1).marks);)o-=1,i-=e.parent.child(o).nodeSize;for(;s<e.parent.childCount&&r.isInSet(e.parent.child(s).marks);)a+=e.parent.child(s).nodeSize,s+=1;return{from:i,to:a}}Zy.register({heading:{width:512,height:512,paths:[{d:"M448 96v320h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32v-128h-192v128h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32v-320h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v128h192v-128h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32z"}]}}),Zy.register({font:{width:448,height:512,paths:[{d:"M432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h19.6l-23.3-64h-152.6l-23.3 64h19.6c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h23.4l130.7-362.3c4.1-12 17.6-21.7 30.3-21.7h0 47.2 0c12.6 0 26.2 9.7 30.3 21.7l130.7 362.3h23.4zM176.8 272h94.3l-47.2-129.5z"}]}}),Zy.register({tint:{width:352,height:512,paths:[{d:"M205.2 22.1c47 158.5 146.8 200.1 146.8 311.8 0 98.4-78.7 178.1-176 178.1s-176-79.7-176-178.1c0-111.2 100-154.1 146.8-311.8 9-30.1 50.5-28.8 58.4 0zM176 448c8.8 0 16-7.2 16-16s-7.2-16-16-16c-44.1 0-80-35.9-80-80 0-8.8-7.2-16-16-16s-16 7.2-16 16c0 61.8 50.3 112 112 112z"}]}}),Zy.register({highlighter:{width:544,height:512,paths:[{d:"M0 480l68.3-70.5 67 67-35.5 35.5zM124.6 240l41.5-35.4 173.3 173.3-35.5 41.6c-9.5 10.8-24.4 15-38.2 10.8l-42.7-13.1-50.9 50.9-96.2-96.2 50.9-50.9-13-42.8c-0.9-2.9-1.6-7.7-1.6-10.7 0-9.1 5.5-21.4 12.4-27.4zM527.9 79.3c20.5 20.5 21.5 53.4 2.3 75.1l-169.9 199.1-169.8-169.8 199.1-170c21.7-19.2 54.6-18.1 75.1 2.4z"}]}}),Zy.register({bold:{width:384,height:512,paths:[{d:"M333.5 238c34.4 27.5 55.6 71.2 50.8 119.6-6.9 70.7-70.2 122.4-141 122.4h-209.3c-8.8 0-16-7.2-16-16v-48c0-8.8 7.2-16 16-16h31.9v-288h-31.9c-8.8 0-16-7.2-16-16v-48c0-8.8 7.2-16 16-16h199.4c74.6 0 134.4 64.5 127.1 140.8-2 20.3-14.1 49.5-27 65.2zM145.7 112v96h87.8c26.5 0 48-21.5 48-48s-21.5-48-48-48h-87.8zM233.4 400c30.9 0 56-25.1 56-56s-25.1-56-56-56h-87.8v112h87.8z"}]}}),Zy.register({underline:{width:448,height:512,paths:[{d:"M32 64c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h144c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v160c0 44.2 35.8 80 80 80s80-35.8 80-80v-160h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h144c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v160c0 88.2-71.8 160-160 160s-160-71.8-160-160v-160h-32zM432 448c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Zy.register({italic:{width:320,height:512,paths:[{d:"M320 48v32c0 8.8-7.2 16-16 16h-62.8l-80 320h46.8c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-192c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h62.8l80-320h-46.8c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16z"}]}}),Zy.register({strikethrough:{width:512,height:512,paths:[{d:"M496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-480c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h102.3c-11.7-16.5-19.8-35.5-21.8-56.4-0.3-3.3-0.6-8.7-0.6-12 0-68.2 55.4-123.6 123.6-123.7h68 0c43.7 0 95 31.7 114.5 70.8l0.5 1c0.9 1.9 1.7 5.1 1.7 7.1 0 5.5-4 11.9-8.8 14.3l-42.9 21.5c-1.9 0.9-5.1 1.7-7.2 1.7-5.5 0-11.9-4-14.3-8.8-7.6-15.2-27.6-27.6-44.6-27.6h0-66.8c-24 0-43.5 19.5-43.5 43.5 0 17.7 13.8 36.4 30.7 41.6l87.2 26.8h202.1zM315.8 320h94.4c2.2 6.6 4.6 17.5 5.3 24.4 0.3 3.3 0.6 8.7 0.6 12 0 68.2-55.4 123.6-123.6 123.7h-68 0c-43.7 0-95-31.7-114.5-70.8l-0.5-1c-0.9-1.9-1.7-5.1-1.7-7.1 0-5.5 4-11.9 8.8-14.3l42.9-21.5c1.9-0.9 5.1-1.7 7.2-1.7 5.5 0 11.9 4 14.3 8.8 7.6 15.2 27.6 27.6 44.6 27.6h0 66.8c24 0 43.5-19.5 43.5-43.5 0-13.2-9.1-29.5-20.2-36.5z"}]}}),Zy.register({link:{width:512,height:512,paths:[{d:"M326.6 185.4c59.7 59.8 58.9 155.7 0.4 214.6-0.1 0.1-0.2 0.3-0.4 0.4l-67.2 67.2c-59.3 59.3-155.7 59.3-215 0-59.3-59.3-59.3-155.7 0-215l37.1-37.1c9.8-9.8 26.8-3.3 27.3 10.6 0.6 17.7 3.8 35.5 9.7 52.7 2 5.8 0.6 12.3-3.8 16.6l-13.1 13.1c-28 28-28.9 73.7-1.2 102 28 28.6 74.1 28.7 102.3 0.5l67.2-67.2c28.2-28.2 28.1-73.8 0-101.8-3.7-3.7-7.4-6.6-10.3-8.6-3.7-2.5-6.8-8.2-6.9-12.6-0.4-10.6 3.3-21.5 11.7-29.8l21.1-21.1c5.5-5.5 14.2-6.2 20.6-1.7 6.1 4.2 15.3 12 20.5 17.2zM467.5 44.4c59.3 59.3 59.3 155.7 0 215l-37.1 37.1c-9.8 9.8-26.8 3.3-27.3-10.6-0.6-17.7-3.8-35.5-9.7-52.7-2-5.8-0.6-12.3 3.8-16.6l13.1-13.1c28-28 28.9-73.7 1.2-102-28-28.6-74.1-28.7-102.3-0.5l-67.2 67.2c-28.2 28.2-28.1 73.8 0 101.8 3.7 3.7 7.4 6.6 10.3 8.6 3.7 2.5 6.8 8.2 6.9 12.6 0.4 10.6-3.3 21.5-11.7 29.8l-21.1 21.1c-5.5 5.5-14.2 6.2-20.6 1.7-6.1-4.2-15.3-12-20.5-17.2-59.7-59.8-58.9-155.7-0.4-214.6 0.1-0.1 0.2-0.3 0.4-0.4l67.2-67.2c59.3-59.3 155.7-59.3 215 0z"}]}}),Zy.register({edit:{width:576,height:512,paths:[{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8l-218.4 218.4-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8 218.4-218.4c3.8-3.8 10-3.8 13.8 0zM564.6 60.3c15.2 15.2 15.2 39.9 0 55.2l-35.4 35.4c-3.8 3.8-10 3.8-13.8 0l-90.2-90.2c-3.8-3.8-3.8-10 0-13.8l35.4-35.4c15.3-15.2 40-15.2 55.2 0zM384 346.2c0-3.2 1.3-6.2 3.5-8.5l40-40c7.6-7.5 20.5-2.2 20.5 8.5v157.8c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h285.8c10.7 0 16.1 12.9 8.5 20.5l-40 40c-2.3 2.2-5.3 3.5-8.5 3.5h-229.8v320h320v-101.8z"}]}}),Zy.register({unlink:{width:512,height:512,paths:[{d:"M304.1 405.9c4.7 4.7 4.7 12.3 0 17l-44.7 44.7c-59.3 59.3-155.7 59.3-215 0-59.3-59.3-59.3-155.7 0-215l44.7-44.7c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17l-44.7 44.7c-28.1 28.1-28.1 73.8 0 101.8 28.1 28.1 73.8 28.1 101.8 0l44.7-44.7c4.7-4.7 12.3-4.7 17 0zM247.5 145.7l-39.6-39.6c-4.7-4.7-4.7-12.3 0-17l44.7-44.7c59.3-59.3 155.7-59.3 215 0s59.3 155.7 0 215l-44.7 44.7c-4.7 4.7-12.3 4.7-17 0l-39.6-39.6c-4.7-4.7-4.7-12.3 0-17l44.7-44.7c28.1-28.1 28.1-73.8 0-101.8-28.1-28.1-73.8-28.1-101.8 0l-44.7 44.7c-4.7 4.7-12.3 4.7-17 0zM482.3 505c-9.4 9.4-24.6 9.4-33.9 0l-441.4-441.4c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l441.4 441.4c9.4 9.4 9.4 24.6 0 33.9z"}]}}),Zy.register({"external-link-alt":{width:512,height:512,paths:[{d:"M432 320c8.8 0 16 7.2 16 16v128c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-144v320h320v-112c0-8.8 7.2-16 16-16h32zM488 0c13.2 0 24 10.8 24 24v128c0 21.5-26 32-41 17l-35.7-35.7-243.6 243.7c-3.9 3.9-11.5 7.1-17 7.1s-13.1-3.2-17-7.1l-22.7-22.6c-3.9-3.9-7.1-11.5-7.1-17s3.2-13.1 7.1-17l243.7-243.6-35.7-35.7c-15-15.1-4.4-41 17-41h128z"}]}}),Zy.register({image:{width:512,height:512,paths:[{d:"M464 448h-416c-26.5 0-48-21.5-48-48v-288c0-26.5 21.5-48 48-48h416c26.5 0 48 21.5 48 48v288c0 26.5-21.5 48-48 48zM112 120c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56zM64 384h384v-112l-87.5-87.5c-4.7-4.7-12.3-4.7-17 0l-135.5 135.5-55.5-55.5c-4.7-4.7-12.3-4.7-17 0l-71.5 71.5v48z"}]}}),Zy.register({"regular/image":{width:512,height:512,paths:[{d:"M464 64c26.5 0 48 21.5 48 48v288c0 26.5-21.5 48-48 48h-416c-26.5 0-48-21.5-48-48v-288c0-26.5 21.5-48 48-48h416zM458 400c3.3 0 6-2.7 6-6v-276c0-3.3-2.7-6-6-6h-404c-3.3 0-6 2.7-6 6v276c0 3.3 2.7 6 6 6h404zM128 152c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zM96 352v-48l39.5-39.5c4.7-4.7 12.3-4.7 17 0l39.5 39.5 119.5-119.5c4.7-4.7 12.3-4.7 17 0l87.5 87.5v80h-320z"}]}}),Zy.register({"ellipsis-h":{width:512,height:512,paths:[{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zM432 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM80 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72z"}]}}),Zy.register({"regular/trash-alt":{width:448,height:512,paths:[{d:"M268 416c-6.6 0-12-5.4-12-12v-216c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v216c0 6.6-5.4 12-12 12h-24zM432 80c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16v336c0 26.5-21.5 48-48 48h-288c-26.5 0-48-21.5-48-48v-336h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h82.4l34-56.7c7.7-12.9 26.2-23.3 41.2-23.3h0 100.8 0c15 0 33.4 10.4 41.2 23.3l34 56.7h82.4zM171.8 50.9l-17.5 29.1h139.2l-17.5-29.1c-1-1.6-3.3-2.9-5.1-2.9h0-94 0c-1.9 0-4.2 1.3-5.1 2.9zM368 464v-336h-288v336h288zM156 416c-6.6 0-12-5.4-12-12v-216c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v216c0 6.6-5.4 12-12 12h-24z"}]}}),Zy.register({video:{width:576,height:512,paths:[{d:"M336.2 64c26.4 0 47.8 21.4 47.8 47.8v288.4c0 26.4-21.4 47.8-47.8 47.8h-288.4c-26.4 0-47.8-21.4-47.8-47.8v-288.4c0-26.4 21.4-47.8 47.8-47.8h288.4zM525.6 101.7c21.3-14.6 50.4 0.4 50.4 25.8v256.9c0 25.5-29.2 40.4-50.4 25.8l-109.6-75.5v-157.4z"}]}}),Zy.register({code:{width:640,height:512,paths:[{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9l136.5-470.2c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9l-136.5 470.2c-1.9 6.4-8.5 10.1-14.9 8.2zM164.9 399.3c-4.5 4.9-12.1 5.1-17 0.5l-144.1-135.1c-5.1-4.7-5.1-12.8 0-17.5l144.1-135c4.9-4.6 12.5-4.3 17 0.5l43.5 46.4c4.7 4.9 4.3 12.7-0.8 17.2l-90.6 79.7 90.6 79.7c5.1 4.5 5.4 12.3 0.8 17.2zM492.1 399.9c-4.9 4.5-12.5 4.3-17-0.6l-43.5-46.4c-4.7-4.9-4.3-12.7 0.8-17.2l90.6-79.7-90.6-79.8c-5.1-4.5-5.4-12.3-0.8-17.2l43.5-46.4c4.6-4.8 12.2-5 17-0.5l144.1 135.2c5.1 4.7 5.1 12.8 0 17.5z"}]}}),Zy.register({"quote-right":{width:512,height:512,paths:[{d:"M464 32c26.5 0 48 21.5 48 48v240c0 88.4-71.6 160-160 160h-8c-13.3 0-24-10.7-24-24v-48c0-13.3 10.7-24 24-24h8c35.3 0 64-28.7 64-64v-64h-80c-26.5 0-48-21.5-48-48v-128c0-26.5 21.5-48 48-48h128zM176 32c26.5 0 48 21.5 48 48v240c0 88.4-71.6 160-160 160h-8c-13.3 0-24-10.7-24-24v-48c0-13.3 10.7-24 24-24h8c35.3 0 64-28.7 64-64v-64h-80c-26.5 0-48-21.5-48-48v-128c0-26.5 21.5-48 48-48h128z"}]}}),Zy.register({"align-left":{width:448,height:512,paths:[{d:"M12.8 352c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3 0c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3zM12.8 96c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3 0c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3zM432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Zy.register({"align-center":{width:448,height:512,paths:[{d:"M432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM108.1 96c-6.7 0-12.1-5.4-12.1-12.1v-39.8c0-6.7 5.4-12.1 12.1-12.1h0 231.8c6.7 0 12.1 5.4 12.1 12.1v39.8 0c0 6.7-5.4 12.1-12.1 12.1v0h-231.8zM339.9 352h-231.8c-6.7 0-12.1-5.4-12.1-12.1v-39.8c0-6.7 5.4-12.1 12.1-12.1h0 231.8c6.7 0 12.1 5.4 12.1 12.1v39.8 0c0 6.7-5.4 12.1-12.1 12.1v0z"}]}}),Zy.register({"align-right":{width:448,height:512,paths:[{d:"M16 224c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 32c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3z"}]}}),Zy.register({"align-justify":{width:448,height:512,paths:[{d:"M432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 288c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Zy.register({"text-width":{width:448,height:512,paths:[{d:"M432 32c8.8 0 16 7.2 16 16v80c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-16h-120v112h24c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h24v-112h-120v16c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-80c0-8.8 7.2-16 16-16h416zM363.3 292.7l80 80c2.6 2.6 4.7 7.7 4.7 11.3s-2.1 8.7-4.7 11.3l-80 80c-10 10-27.3 3-27.3-11.3v-48h-224v48c0 15.6-18 20.6-27.3 11.3l-80-80c-2.6-2.6-4.7-7.7-4.7-11.3s2.1-8.7 4.7-11.3l80-80c10-10 27.3-3 27.3 11.3v48h224v-48c0-15.6 18-20.6 27.3-11.3z"}]}}),Zy.register({"text-height":{width:576,height:512,paths:[{d:"M304 32c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32h-56v304h40c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h40v-304h-56v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-96c0-8.8 7.2-16 16-16h288zM560 368c15.6 0 20.6 18 11.3 27.3l-80 80c-2.6 2.6-7.7 4.7-11.3 4.7s-8.7-2.1-11.3-4.7l-80-80c-10-10-3-27.3 11.3-27.3h48v-224h-48c-15.6 0-20.6-18-11.3-27.3l80-80c2.6-2.6 7.7-4.7 11.3-4.7s8.7 2.1 11.3 4.7l80 80c10 10 3 27.3-11.3 27.3h-48v224h48z"}]}}),Zy.register({"list-ul":{width:512,height:512,paths:[{d:"M48 48c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM48 208c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM48 368c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320z"}]}}),Zy.register({"list-ol":{width:512,height:512,paths:[{d:"M61.8 401c19.6 5.1 28.7 20.5 28.7 34.9 0 21.4-14.3 44.1-48.5 44.1-16.6 0-29.3-4.8-37-9.4-5.8-4.2-6.3-9.8-2.6-15.9l5.6-9.3c3.9-6.6 9.1-7 15.6-3.1 4.1 1.7 11 3.1 15.5 3.1 10.2 0 14.4-3.5 14.4-8.2 0-6.6-5.6-9.1-15.9-9.1h-4.7c-6 0-9.3-2.1-12.3-7.9l-1-1.9c-2.5-4.8-1.2-9.8 2.8-14.9l5.6-7c2.9-3.6 7.8-9.1 11-12.3h-22.8c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h57c7.5 0 11.3 4 11.3 11.3v3.3c0 0.2 0 0.6 0 0.9 0 4.2-2.3 10.2-5.1 13.3zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM16 160c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h16v-64h-8c-4.4 0-8-3.6-8-8 0-1 0.4-2.6 0.8-3.6l8-16c1.2-2.4 4.4-4.4 7.1-4.4h24c4.4 0 8 3.6 8 8v88h16c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-64zM12.1 320c-7 0-12.1-4-12.1-11.4v-4c0-47.3 51-56.4 51-69.1 0-7.2-6-8.8-9.3-8.8h-0.1c-3 0-7.2 1.7-9.4 3.8-5.1 4.9-10.5 7-16.1 2.4l-8.6-6.9c-5.8-4.5-7.2-9.8-2.8-15.4 6.7-8.8 19.1-18.8 40.5-18.8 19.5 0 44.5 10.5 44.5 39.6 0 37.8-45 46.2-48.3 56.4h38.7c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-67.9z"}]}}),Zy.register({tasks:{width:512,height:512,paths:[{d:"M139.6 35.5l17 16.5c1.9 1.9 3.4 5.7 3.4 8.5 0 2.8-1.6 6.6-3.5 8.5l-72.2 72.2-15.6 15.6c-2 1.9-6 3.5-8.8 3.5-2.8 0-6.8-1.6-8.8-3.5l-47.6-47.4c-1.9-1.9-3.5-5.8-3.5-8.5 0-2.8 1.6-6.6 3.5-8.5l15.7-15.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5l22.7 22.1 63.7-63.3c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5zM139.6 194.7l17 17c1.9 1.9 3.4 5.7 3.4 8.4 0 2.7-1.6 6.6-3.5 8.5l-72.2 72.2-15.7 15.7c-2 1.9-6 3.5-8.8 3.5s-6.8-1.6-8.8-3.5l-47.5-47.5c-1.9-1.9-3.5-5.7-3.5-8.5s1.6-6.6 3.5-8.5l15.7-15.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5l22.7 22.1 63.7-63.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5zM64 368c26.5 0 48 21.5 48 48s-21.5 48-48 48c-26.5 0-48.6-21.5-48.6-48s22.1-48 48.6-48zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288z"}]}}),Zy.register({indent:{width:448,height:512,paths:[{d:"M27.3 363.3c-10 10-27.3 3-27.3-11.3v-192c0-14.2 17.3-21.3 27.3-11.3l96 96c2.6 2.6 4.7 7.7 4.7 11.3 0 3.7-2.1 8.7-4.7 11.3zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM435.2 160c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Zy.register({outdent:{width:448,height:512,paths:[{d:"M100.7 363.3l-96-96c-2.6-2.6-4.7-7.7-4.7-11.3s2.1-8.7 4.7-11.3l96-96c10-10 27.3-3 27.3 11.3v192c0 14.2-17.3 21.3-27.3 11.3zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM435.2 160c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Zy.register({minus:{width:448,height:512,paths:[{d:"M416 208c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32h-384c-17.7 0-32-14.3-32-32v-32c0-17.7 14.3-32 32-32h384z"}]}}),Zy.register({table:{width:512,height:512,paths:[{d:"M464 32c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48h-416c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h416zM224 416v-96h-160v96h160zM224 256v-96h-160v96h160zM448 416v-96h-160v96h160zM448 256v-96h-160v96h160z"}]}}),Zy.register({"remove-format":{width:640,height:512,paths:[{d:"M336 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32.5l26.5-79.6 67.1 51.8-9.3 27.8h11.2zM633.8 458.1c3.4 2.7 6.2 8.3 6.2 12.6 0 3-1.5 7.4-3.4 9.8l-19.6 25.3c-2.7 3.4-8.3 6.2-12.6 6.2-3 0-7.4-1.5-9.8-3.4l-588.4-454.7c-3.4-2.7-6.2-8.3-6.2-12.6 0-3 1.5-7.4 3.4-9.8l19.6-25.3c2.7-3.4 8.3-6.2 12.6-6.2 3 0 7.4 1.5 9.8 3.4l114.5 88.5v-43.9c0-8.8 7.2-16 16-16h416c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32h-117.8l-49.2 147.6zM309.9 207.8l31.9-95.8h-117.8v29.4z"}]}}),Zy.register({undo:{width:512,height:512,paths:[{d:"M212.3 224.3h-200.3c-6.6 0-12-5.4-12-12v-200.3c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v78.1c45.8-50.8 112.3-82.6 186.2-82.1 136.9 1 246.4 111.6 246.2 248.5-0.3 136.7-111.2 247.5-248 247.5-64.1 0-122.5-24.3-166.5-64.2-5.1-4.6-5.3-12.6-0.5-17.4l34-34c4.5-4.5 11.7-4.7 16.4-0.5 31 27.5 71.9 44.1 116.6 44.1 97.3 0 176-78.7 176-176 0-97.3-78.7-176-176-176-58.5 0-110.3 28.5-142.3 72.3h98.3c6.6 0 12 5.4 12 12v48c0 6.6-5.4 12-12 12z"}]}}),Zy.register({redo:{width:512,height:512,paths:[{d:"M500.3 0c6.6 0 12 5.4 12 12v200.3c0 6.6-5.4 12-12 12h-200.3c-6.6 0-12-5.4-12-12v-47.4 0c0-6.6 5.4-12 12-12 0.2 0 0.4 0 0.6 0l101.5 4.9c-28.9-43-94.3-77.8-146.1-77.8-97.2 0-176 78.8-176 176 0 97.2 78.8 176 176 176 36.7 0 88.7-19.7 116.3-43.9 1.9-1.6 5.4-3 7.9-3 2.7 0 6.5 1.6 8.5 3.5l34 34c1.9 1.9 3.5 5.7 3.5 8.5 0 3-1.8 7-4 8.9-39 35.3-113.3 63.9-165.8 63.9h-0.3c-136.9 0-247.9-110.9-248-247.8-0.1-136.7 111.3-248.2 248-248.2h0.3c63.2 0 147.7 39.1 188.6 87.3l-4-82.8c0-0.2 0-0.4 0-0.6 0-6.6 5.4-12 12-12h0 47.4z"}]}}),Zy.register({expand:{width:448,height:512,paths:[{d:"M0 180v-124c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-84v84c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12zM288 44c0-6.6 5.4-12 12-12h124c13.3 0 24 10.7 24 24v124c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-84h-84c-6.6 0-12-5.4-12-12v-40zM436 320c6.6 0 12 5.4 12 12v124c0 13.3-10.7 24-24 24h-124c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84v-84c0-6.6 5.4-12 12-12h40zM160 468c0 6.6-5.4 12-12 12h-124c-13.3 0-24-10.7-24-24v-124c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40z"}]}}),Zy.register({compress:{width:448,height:512,paths:[{d:"M436 192h-124c-13.3 0-24-10.7-24-24v-124c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zM160 168c0 13.3-10.7 24-24 24h-124c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84v-84c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v124zM160 468c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-84h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h124c13.3 0 24 10.7 24 24v124zM352 468c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-124c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-84v84z"}]}}),Zy.register({print:{width:512,height:512,paths:[{d:"M448 192c35.3 0 64 28.7 64 64v112c0 8.8-7.2 16-16 16h-48v96c0 17.7-14.3 32-32 32h-320c-17.7 0-32-14.3-32-32v-96h-48c-8.8 0-16-7.2-16-16v-112c0-35.3 28.7-64 64-64v-160c0-17.7 14.3-32 32-32h274.7c8.5 0 16.6 3.4 22.6 9.4l45.3 45.3c6 6 9.4 14.1 9.4 22.6v114.8zM384 448v-96h-256v96h256zM384 224v-96h-48c-8.8 0-16-7.2-16-16v-48h-192v160h256zM432 296c13.3 0 24-10.8 24-24 0-13.3-10.8-24-24-24s-24 10.7-24 24c0 13.3 10.8 24 24 24z"}]}}),Zy.register({eye:{width:576,height:512,paths:[{d:"M572.5 241.4c1.9 3.8 3.5 10.3 3.5 14.6s-1.6 10.8-3.5 14.6c-54.2 105.8-161.6 177.4-284.5 177.4s-230.3-71.6-284.5-177.4c-1.9-3.8-3.5-10.3-3.5-14.6s1.6-10.8 3.5-14.6c54.2-105.8 161.6-177.4 284.5-177.4s230.3 71.6 284.5 177.4zM288 400h0.1c79.4 0 143.9-64.5 143.9-143.9v-0.1c0-79.5-64.5-144-144-144s-144 64.5-144 144 64.5 144 144 144zM288 160h0.2c52.9 0 95.8 42.9 95.8 95.8 0 52.9-42.9 95.8-95.8 95.8-52.9 0-95.8-42.9-95.8-95.8 0-7 1.5-18.3 3.3-25.1 7 5.1 19.7 9.3 28.4 9.3 26.4 0 47.8-21.4 47.8-47.8 0-8.7-4.2-21.4-9.3-28.4 6.8-2 18.2-3.7 25.3-3.8z"}]}}),Zy.register({"regular/object-group":{width:512,height:512,paths:[{d:"M500 128h-12v256h12c6.6 0 12 5.4 12 12v72c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-12h-320v12c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-72c0-6.6 5.4-12 12-12h12v-256h-12c-6.6 0-12-5.4-12-12v-72c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v12h320v-12c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v72c0 6.6-5.4 12-12 12zM448 64v32h32v-32h-32zM32 64v32h32v-32h-32zM64 448v-32h-32v32h32zM480 448v-32h-32v32h32zM440 384v-256h-12c-6.6 0-12-5.4-12-12v-12h-320v12c0 6.6-5.4 12-12 12h-12v256h12c6.6 0 12 5.4 12 12v12h320v-12c0-6.6 5.4-12 12-12h12zM404 192c6.6 0 12 5.4 12 12v168c0 6.6-5.4 12-12 12h-200c-6.6 0-12-5.4-12-12v-52h-84c-6.6 0-12-5.4-12-12v-168c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v52h84zM136 168v112h144v-112h-144zM376 344v-112h-56v76c0 6.6-5.4 12-12 12h-76v24h144z"}]}}),Zy.register({"regular/file-code":{width:384,height:512,paths:[{d:"M149.9 349.1c3.5 3.3 3.7 8.9 0.4 12.4l-17.4 18.6c-1.6 1.8-4 2.8-6.4 2.8-2.2 0-4.4-0.9-6-2.4l-57.7-54.1c-3.7-3.4-3.7-9.3 0-12.8l57.7-54.1c3.4-3.3 9-3.2 12.4 0.4l17.4 18.6 0.2 0.2c3.2 3.6 2.8 9.2-0.8 12.4l-32.8 28.9 32.8 28.9zM369.9 97.9c9 9 14.1 21.3 14.1 34v332.1c0 26.5-21.5 48-48 48h-288c-26.5 0-48-21.5-48-48v-416c0-26.5 21.5-48 48-48.1h204.1c12.7 0 24.9 5.1 33.9 14.1zM256 51.9v76.1h76.1zM336 464v-288h-104c-13.3 0-24-10.7-24-24v-104h-160v416h288zM209.6 214l24.4 7c4.7 1.3 7.4 6.2 6 10.9l-54.7 188.2c-1.3 4.6-6.2 7.4-10.9 6l-24.4-7.1c-4.7-1.3-7.4-6.2-6-10.9l54.7-188.1c1.4-4.7 6.2-7.4 10.9-6zM234.1 290.9c-3.5-3.3-3.7-8.9-0.4-12.4l17.4-18.6c3.3-3.6 8.9-3.7 12.4-0.4l57.7 54.1c3.7 3.4 3.7 9.3 0 12.8l-57.7 54.1c-3.5 3.3-9.1 3.1-12.4-0.4l-17.4-18.6-0.2-0.2c-3.2-3.6-2.8-9.2 0.8-12.4l32.8-28.9-32.8-28.9z"}]}}),Zy.register({"arrow-left":{width:448,height:512,paths:[{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0l-194.4-194.3c-9.4-9.4-9.4-24.6 0-33.9l194.4-194.4c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-0.4 34.3l-120.5 114.8h287.4c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24h-287.4l120.5 114.8c9.8 9.3 10 24.8 0.4 34.3z"}]}});var nb=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"onClick",value:function(){this.readonly||this.command()}},{key:"commandButtonClass",get:function(){return{"el-tiptap-editor__command-button":!0,"el-tiptap-editor__command-button--active":this.isActive,"el-tiptap-editor__command-button--readonly":this.readonly}}}]),n}();Um([pv({type:String,required:!0})],nb.prototype,"icon",void 0),Um([pv({type:Boolean,default:!1})],nb.prototype,"isActive",void 0),Um([pv({type:String,required:!0})],nb.prototype,"tooltip",void 0),Um([pv({type:Boolean,required:!0})],nb.prototype,"enableTooltip",void 0),Um([pv({type:Function,default:function(){}})],nb.prototype,"command",void 0),Um([pv({type:Boolean,default:!1})],nb.prototype,"readonly",void 0);const rb=Py({render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-tooltip",{attrs:{content:this.tooltip,"open-delay":350,disabled:!this.enableTooltip||this.readonly,transition:"el-zoom-in-bottom",effect:"dark",placement:"top"}},[t("div",{class:this.commandButtonClass,on:{mousedown:function(e){e.preventDefault()},click:this.onClick}},[t("v-icon",{attrs:{name:this.icon}})],1)])},staticRenderFns:[]},void 0,nb=Um([lv({components:Fm({"v-icon":Zy},xd().name,xd())})],nb),void 0,!1,void 0,!1,void 0,void 0,void 0);var ob=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"openLink",value:function(){if(this.url){var e=window.open();e&&(e.opener=null,e.location.href=this.url)}}}]),n}();Um([pv({type:String,required:!0})],ob.prototype,"url",void 0),Um([cv()],ob.prototype,"et",void 0);const ib=Py({render:function(){var e=this.$createElement;return(this._self._c||e)("command-button",{attrs:{command:this.openLink,"enable-tooltip":this.et.tooltip,tooltip:this.et.t("editor.extensions.Link.open.tooltip"),icon:"external-link-alt"}})},staticRenderFns:[]},void 0,ob=Um([lv({components:{CommandButton:rb}})],ob),void 0,!1,void 0,!1,void 0,void 0,void 0);var sb=Hd((function(e,t){t.__esModule=!0,t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isHtmlElement=function(e){return e&&e.nodeType===Node.ELEMENT_NODE},t.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return null!=e}}));qd(sb),sb.isString,sb.isObject,sb.isHtmlElement,sb.isFunction,sb.isUndefined,sb.isDefined;var ab=Hd((function(e,t){t.__esModule=!0,t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.noop=function(){},t.hasOwn=function(e,t){return i.call(e,t)},t.toObject=function(e){for(var t={},n=0;n<e.length;n++)e[n]&&a(t,e[n]);return t},t.getPropByPath=function(e,t,n){for(var r=e,o=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,s=o.length;i<s-1&&(r||n);++i){var a=o[i];if(!(a in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[a]}return{o:r,k:o[i],v:r?r[o[i]]:null}},t.rafThrottle=function(e){var t=!1;return function(){for(var n=this,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];t||(t=!0,window.requestAnimationFrame((function(r){e.apply(n,o),t=!1})))}},t.objToArray=function(e){return Array.isArray(e)?e:d(e)?[]:[e]};var r,o=(r=s())&&r.__esModule?r:{default:r},i=Object.prototype.hasOwnProperty;function a(e,t){for(var n in t)e[n]=t[n];return e}t.getValueByPath=function(e,t){for(var n=(t=t||"").split("."),r=e,o=null,i=0,s=n.length;i<s;i++){var a=n[i];if(!r)break;if(i===s-1){o=r[a];break}r=r[a]}return o},t.generateId=function(){return Math.floor(1e4*Math.random())},t.valueEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var n=0;n!==e.length;++n)if(e[n]!==t[n])return!1;return!0},t.escapeRegexpString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var l=t.arrayFindIndex=function(e,t){for(var n=0;n!==e.length;++n)if(t(e[n]))return n;return-1},c=(t.arrayFind=function(e,t){var n=l(e,t);return-1!==n?e[n]:void 0},t.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},t.isIE=function(){return!o.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},t.isEdge=function(){return!o.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},t.isFirefox=function(){return!o.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.autoprefixer=function(e){if("object"!==(void 0===e?"undefined":n(e)))return e;var t=["ms-","webkit-"];return["transform","transition","animation"].forEach((function(n){var r=e[n];n&&r&&t.forEach((function(t){e[t+n]=r}))})),e},t.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},t.capitalize=function(e){return(0,sb.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},t.looseEqual=function(e,t){var n=(0,sb.isObject)(e),r=(0,sb.isObject)(t);return n&&r?JSON.stringify(e)===JSON.stringify(t):!n&&!r&&String(e)===String(t)}),u=t.arrayEquals=function(e,t){if(t=t||[],(e=e||[]).length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1;return!0},d=(t.isEqual=function(e,t){return Array.isArray(e)&&Array.isArray(t)?u(e,t):c(e,t)},t.isEmpty=function(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1})}));qd(ab),ab.isEmpty,ab.isEqual,ab.arrayEquals,ab.looseEqual,ab.capitalize,ab.kebabCase,ab.autoprefixer,ab.isFirefox,ab.isEdge,ab.isIE,ab.coerceTruthyValueToArray,ab.arrayFind,ab.arrayFindIndex,ab.escapeRegexpString,ab.valueEquals,ab.generateId,ab.getValueByPath,ab.noop,ab.hasOwn,ab.toObject,ab.getPropByPath,ab.rafThrottle,ab.objToArray;var lb=Hd((function(e,t){t.__esModule=!0,t.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}}));qd(lb);var cb=Hd((function(e,t){t.__esModule=!0,t.isDef=function(e){return null!=e},t.isKorean=function(e){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e)}}));qd(cb),cb.isDef,cb.isKorean;var ub=Hd((function(e,t){function n(e,t,r){this.$children.forEach((function(o){o.$options.componentName===e?o.$emit.apply(o,[t].concat(r)):n.apply(o,[e,t].concat([r]))}))}t.__esModule=!0,t.default={methods:{dispatch:function(e,t,n){for(var r=this.$parent||this.$root,o=r.$options.componentName;r&&(!o||o!==e);)(r=r.$parent)&&(o=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,r){n.call(this,e,t,r)}}}}));qd(ub);var db=Hd((function(e,t){t.__esModule=!0,t.default=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t]||{};for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];void 0!==i&&(e[o]=i)}}return e}}));qd(db);var pb=qd(Hd((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=76)}({0:function(e,t,n){function r(e,t,n,r,o,i,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=lb},21:function(e,t){e.exports=cb},4:function(e,t){e.exports=ub},76:function(e,t,n){n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?n("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?n("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?n("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?n("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[e._v("\n            "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n          ")])]):e._e()],2),e.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?n("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:n("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?n("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)};r._withStripped=!0;var o=n(4),i=n.n(o),s=n(11),a=n.n(s),l=void 0,c="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",u=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function d(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),o=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:u.map((function(e){return e+":"+t.getPropertyValue(e)})).join(";"),paddingSize:r,borderSize:o,boxSizing:n}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l||(l=document.createElement("textarea"),document.body.appendChild(l));var r=d(e),o=r.paddingSize,i=r.borderSize,s=r.boxSizing,a=r.contextStyle;l.setAttribute("style",a+";"+c),l.value=e.value||e.placeholder||"";var u=l.scrollHeight,p={};"border-box"===s?u+=i:"content-box"===s&&(u-=o),l.value="";var h=l.scrollHeight-o;if(null!==t){var f=h*t;"border-box"===s&&(f=f+o+i),u=Math.max(f,u),p.minHeight=f+"px"}if(null!==n){var m=h*n;"border-box"===s&&(m=m+o+i),u=Math.min(m,u)}return p.height=u+"px",l.parentNode&&l.parentNode.removeChild(l),l=null,p}var h=n(9),f=n.n(h),m=n(21),v={name:"ElInput",componentName:"ElInput",mixins:[i.a,a.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return f()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick((function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var e=this.autosize;if("textarea"===this.type)if(e){var t=e.minRows,n=e.maxRows;this.textareaCalcStyle=p(this.$refs.textarea,t,n)}else this.textareaCalcStyle={minHeight:p(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(e){var t=e.target.value,n=t[t.length-1]||"";this.isComposing=!Object(m.isKorean)(n)},handleCompositionEnd:function(e){this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit("change",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(t.length){for(var n=null,r=0;r<t.length;r++)if(t[r].parentNode===this.$el){n=t[r];break}if(n){var o={suffix:"append",prefix:"prepend"}[e];this.$slots[o]?n.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+o).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},g=n(0),y=Object(g.a)(v,r,[],!1,null,null,null);y.options.__file="packages/input/src/input.vue";var b=y.exports;b.install=function(e){e.component(b.name,b)},t.default=b},9:function(e,t){e.exports=db}})}))),hb=Hd((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),fb=Hd((function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)})),mb=(fb.version,function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}),vb=function(e){return"object"==typeof e?null!==e:"function"==typeof e},gb=function(e){if(!vb(e))throw TypeError(e+" is not an object!");return e},yb=function(e){try{return!!e()}catch(e){return!0}},bb=!yb((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),wb=hb.document,kb=vb(wb)&&vb(wb.createElement),xb=function(e){return kb?wb.createElement(e):{}},Sb=!bb&&!yb((function(){return 7!=Object.defineProperty(xb("div"),"a",{get:function(){return 7}}).a})),Cb=function(e,t){if(!vb(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!vb(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!vb(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!vb(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},_b=Object.defineProperty,Ob={f:bb?Object.defineProperty:function(e,t,n){if(gb(e),t=Cb(t,!0),gb(n),Sb)try{return _b(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},Mb=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Eb=bb?function(e,t,n){return Ob.f(e,t,Mb(1,n))}:function(e,t,n){return e[t]=n,e},Tb={}.hasOwnProperty,Ab=function(e,t){return Tb.call(e,t)},Nb=function(e,t,n){var r,o,i,s=e&Nb.F,a=e&Nb.G,l=e&Nb.S,c=e&Nb.P,u=e&Nb.B,d=e&Nb.W,p=a?fb:fb[t]||(fb[t]={}),h=p.prototype,f=a?hb:l?hb[t]:(hb[t]||{}).prototype;for(r in a&&(n=t),n)(o=!s&&f&&void 0!==f[r])&&Ab(p,r)||(i=o?f[r]:n[r],p[r]=a&&"function"!=typeof f[r]?n[r]:u&&o?mb(i,hb):d&&f[r]==i?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(i):c&&"function"==typeof i?mb(Function.call,i):i,c&&((p.virtual||(p.virtual={}))[r]=i,e&Nb.R&&h&&!h[r]&&Eb(h,r,i)))};Nb.F=1,Nb.G=2,Nb.S=4,Nb.P=8,Nb.B=16,Nb.W=32,Nb.U=64,Nb.R=128;var Db,Rb=Nb,Ib={}.toString,Pb=function(e){return Ib.call(e).slice(8,-1)},zb=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==Pb(e)?e.split(""):Object(e)},$b=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},jb=function(e){return zb($b(e))},Fb=Math.ceil,Bb=Math.floor,Lb=function(e){return isNaN(e=+e)?0:(e>0?Bb:Fb)(e)},Vb=Math.min,qb=Math.max,Hb=Math.min,Wb=Hd((function(e){var t=hb["__core-js_shared__"]||(hb["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:fb.version,mode:"pure",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),Ub=0,Jb=Math.random(),Kb=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++Ub+Jb).toString(36))},Gb=Wb("keys"),Xb=function(e){return Gb[e]||(Gb[e]=Kb(e))},Zb=(Db=!1,function(e,t,n){var r,o,i=jb(e),s=(r=i.length)>0?Vb(Lb(r),9007199254740991):0,a=function(e,t){return(e=Lb(e))<0?qb(e+t,0):Hb(e,t)}(n,s);if(Db&&t!=t){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((Db||a in i)&&i[a]===t)return Db||a||0;return!Db&&-1}),Yb=Xb("IE_PROTO"),Qb=function(e,t){var n,r=jb(e),o=0,i=[];for(n in r)n!=Yb&&Ab(r,n)&&i.push(n);for(;t.length>o;)Ab(r,n=t[o++])&&(~Zb(i,n)||i.push(n));return i},ew="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),tw=Object.keys||function(e){return Qb(e,ew)},nw={f:Object.getOwnPropertySymbols},rw={f:{}.propertyIsEnumerable},ow=function(e){return Object($b(e))},iw=Object.assign,sw=!iw||yb((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=iw({},e)[n]||Object.keys(iw({},t)).join("")!=r}))?function(e,t){for(var n=ow(e),r=arguments.length,o=1,i=nw.f,s=rw.f;r>o;)for(var a,l=zb(arguments[o++]),c=i?tw(l).concat(i(l)):tw(l),u=c.length,d=0;u>d;)a=c[d++],bb&&!s.call(l,a)||(n[a]=l[a]);return n}:iw;Rb(Rb.S+Rb.F,"Object",{assign:sw});var aw=fb.Object.assign,lw=Hd((function(e){e.exports={default:aw,__esModule:!0}}));qd(lw);var cw=qd(Hd((function(e,t){t.__esModule=!0;var n,r=(n=lw)&&n.__esModule?n:{default:n};t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}}))),uw=Eb,dw=bb?Object.defineProperties:function(e,t){gb(e);for(var n,r=tw(t),o=r.length,i=0;o>i;)Ob.f(e,n=r[i++],t[n]);return e},pw=hb.document,hw=pw&&pw.documentElement,fw=Xb("IE_PROTO"),mw=function(){},vw=function(){var e,t=xb("iframe"),n=ew.length;for(t.style.display="none",hw.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),vw=e.F;n--;)delete vw.prototype[ew[n]];return vw()},gw=Object.create||function(e,t){var n;return null!==e?(mw.prototype=gb(e),n=new mw,mw.prototype=null,n[fw]=e):n=vw(),void 0===t?n:dw(n,t)},yw=Hd((function(e){var t=Wb("wks"),n=hb.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:Kb)("Symbol."+e))}).store=t})),bw=Ob.f,ww=yw("toStringTag"),kw=function(e,t,n){e&&!Ab(e=n?e:e.prototype,ww)&&bw(e,ww,{configurable:!0,value:t})},xw={};Eb(xw,yw("iterator"),(function(){return this}));var Sw=function(e,t,n){e.prototype=gw(xw,{next:Mb(1,n)}),kw(e,t+" Iterator")},Cw=Xb("IE_PROTO"),_w=Object.prototype,Ow=Object.getPrototypeOf||function(e){return e=ow(e),Ab(e,Cw)?e[Cw]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?_w:null},Mw=yw("iterator"),Ew=!([].keys&&"next"in[].keys()),Tw=function(e,t,n,r,o,i,s){Sw(n,t,r);var a,l,c,u=function(e){if(!Ew&&e in f)return f[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},d=t+" Iterator",p="values"==o,h=!1,f=e.prototype,m=f[Mw]||f["@@iterator"]||o&&f[o],v=m||u(o),g=o?p?u("entries"):v:void 0,y="Array"==t&&f.entries||m;if(y&&(c=Ow(y.call(new e)))!==Object.prototype&&c.next&&kw(c,d,!0),p&&m&&"values"!==m.name&&(h=!0,v=function(){return m.call(this)}),s&&(Ew||h||!f[Mw])&&Eb(f,Mw,v),o)if(a={values:p?v:u("values"),keys:i?v:u("keys"),entries:g},s)for(l in a)l in f||uw(f,l,a[l]);else Rb(Rb.P+Rb.F*(Ew||h),t,a);return a},Aw=function(e){return function(t,n){var r,o,i=String($b(t)),s=Lb(n),a=i.length;return s<0||s>=a?e?"":void 0:(r=i.charCodeAt(s))<55296||r>56319||s+1===a||(o=i.charCodeAt(s+1))<56320||o>57343?e?i.charAt(s):r:e?i.slice(s,s+2):o-56320+(r-55296<<10)+65536}}(!0);Tw(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Aw(t,n),this._i+=e.length,{value:e,done:!1})}));for(var Nw=function(e,t){return{value:t,done:!!e}},Dw=(Tw(Array,"Array",(function(e,t){this._t=jb(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Nw(1)):Nw(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),yw("toStringTag")),Rw="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Iw=0;Iw<Rw.length;Iw++){var Pw=Rw[Iw],zw=hb[Pw],$w=zw&&zw.prototype;$w&&!$w[Dw]&&Eb($w,Dw,Pw)}var jw={f:yw},Fw=jw.f("iterator"),Bw=Hd((function(e){e.exports={default:Fw,__esModule:!0}}));qd(Bw);var Lw=Hd((function(e){var t=Kb("meta"),n=Ob.f,r=0,o=Object.isExtensible||function(){return!0},i=!yb((function(){return o(Object.preventExtensions({}))})),s=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},a=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!vb(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Ab(e,t)){if(!o(e))return"F";if(!n)return"E";s(e)}return e[t].i},getWeak:function(e,n){if(!Ab(e,t)){if(!o(e))return!0;if(!n)return!1;s(e)}return e[t].w},onFreeze:function(e){return i&&a.NEED&&o(e)&&!Ab(e,t)&&s(e),e}}})),Vw=(Lw.KEY,Lw.NEED,Lw.fastKey,Lw.getWeak,Lw.onFreeze,Ob.f),qw=function(e){var t=fb.Symbol||(fb.Symbol={});"_"==e.charAt(0)||e in t||Vw(t,e,{value:jw.f(e)})},Hw=Array.isArray||function(e){return"Array"==Pb(e)},Ww=ew.concat("length","prototype"),Uw={f:Object.getOwnPropertyNames||function(e){return Qb(e,Ww)}},Jw=Uw.f,Kw={}.toString,Gw="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Xw={f:function(e){return Gw&&"[object Window]"==Kw.call(e)?function(e){try{return Jw(e)}catch(e){return Gw.slice()}}(e):Jw(jb(e))}},Zw=Object.getOwnPropertyDescriptor,Yw={f:bb?Zw:function(e,t){if(e=jb(e),t=Cb(t,!0),Sb)try{return Zw(e,t)}catch(e){}if(Ab(e,t))return Mb(!rw.f.call(e,t),e[t])}},Qw=Lw.KEY,ek=Yw.f,tk=Ob.f,nk=Xw.f,rk=hb.Symbol,ok=hb.JSON,ik=ok&&ok.stringify,sk=yw("_hidden"),ak=yw("toPrimitive"),lk={}.propertyIsEnumerable,ck=Wb("symbol-registry"),uk=Wb("symbols"),dk=Wb("op-symbols"),pk=Object.prototype,hk="function"==typeof rk&&!!nw.f,fk=hb.QObject,mk=!fk||!fk.prototype||!fk.prototype.findChild,vk=bb&&yb((function(){return 7!=gw(tk({},"a",{get:function(){return tk(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=ek(pk,t);r&&delete pk[t],tk(e,t,n),r&&e!==pk&&tk(pk,t,r)}:tk,gk=function(e){var t=uk[e]=gw(rk.prototype);return t._k=e,t},yk=hk&&"symbol"==typeof rk.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof rk},bk=function(e,t,n){return e===pk&&bk(dk,t,n),gb(e),t=Cb(t,!0),gb(n),Ab(uk,t)?(n.enumerable?(Ab(e,sk)&&e[sk][t]&&(e[sk][t]=!1),n=gw(n,{enumerable:Mb(0,!1)})):(Ab(e,sk)||tk(e,sk,Mb(1,{})),e[sk][t]=!0),vk(e,t,n)):tk(e,t,n)},wk=function(e,t){gb(e);for(var n,r=function(e){var t=tw(e),n=nw.f;if(n)for(var r,o=n(e),i=rw.f,s=0;o.length>s;)i.call(e,r=o[s++])&&t.push(r);return t}(t=jb(t)),o=0,i=r.length;i>o;)bk(e,n=r[o++],t[n]);return e},kk=function(e){var t=lk.call(this,e=Cb(e,!0));return!(this===pk&&Ab(uk,e)&&!Ab(dk,e))&&(!(t||!Ab(this,e)||!Ab(uk,e)||Ab(this,sk)&&this[sk][e])||t)},xk=function(e,t){if(e=jb(e),t=Cb(t,!0),e!==pk||!Ab(uk,t)||Ab(dk,t)){var n=ek(e,t);return!n||!Ab(uk,t)||Ab(e,sk)&&e[sk][t]||(n.enumerable=!0),n}},Sk=function(e){for(var t,n=nk(jb(e)),r=[],o=0;n.length>o;)Ab(uk,t=n[o++])||t==sk||t==Qw||r.push(t);return r},Ck=function(e){for(var t,n=e===pk,r=nk(n?dk:jb(e)),o=[],i=0;r.length>i;)!Ab(uk,t=r[i++])||n&&!Ab(pk,t)||o.push(uk[t]);return o};hk||(uw((rk=function(){if(this instanceof rk)throw TypeError("Symbol is not a constructor!");var e=Kb(arguments.length>0?arguments[0]:void 0),t=function(n){this===pk&&t.call(dk,n),Ab(this,sk)&&Ab(this[sk],e)&&(this[sk][e]=!1),vk(this,e,Mb(1,n))};return bb&&mk&&vk(pk,e,{configurable:!0,set:t}),gk(e)}).prototype,"toString",(function(){return this._k})),Yw.f=xk,Ob.f=bk,Uw.f=Xw.f=Sk,rw.f=kk,nw.f=Ck,jw.f=function(e){return gk(yw(e))}),Rb(Rb.G+Rb.W+Rb.F*!hk,{Symbol:rk});for(var _k="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ok=0;_k.length>Ok;)yw(_k[Ok++]);for(var Mk=tw(yw.store),Ek=0;Mk.length>Ek;)qw(Mk[Ek++]);Rb(Rb.S+Rb.F*!hk,"Symbol",{for:function(e){return Ab(ck,e+="")?ck[e]:ck[e]=rk(e)},keyFor:function(e){if(!yk(e))throw TypeError(e+" is not a symbol!");for(var t in ck)if(ck[t]===e)return t},useSetter:function(){mk=!0},useSimple:function(){mk=!1}}),Rb(Rb.S+Rb.F*!hk,"Object",{create:function(e,t){return void 0===t?gw(e):wk(gw(e),t)},defineProperty:bk,defineProperties:wk,getOwnPropertyDescriptor:xk,getOwnPropertyNames:Sk,getOwnPropertySymbols:Ck});var Tk=yb((function(){nw.f(1)}));Rb(Rb.S+Rb.F*Tk,"Object",{getOwnPropertySymbols:function(e){return nw.f(ow(e))}}),ok&&Rb(Rb.S+Rb.F*(!hk||yb((function(){var e=rk();return"[null]"!=ik([e])||"{}"!=ik({a:e})||"{}"!=ik(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(vb(t)||void 0!==e)&&!yk(e))return Hw(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!yk(t))return t}),r[1]=t,ik.apply(ok,r)}}),rk.prototype[ak]||Eb(rk.prototype,ak,rk.prototype.valueOf),kw(rk,"Symbol"),kw(Math,"Math",!0),kw(hb.JSON,"JSON",!0);var Ak=Object.freeze({__proto__:null});qw("asyncIterator"),qw("observable"),Wd(Ak);var Nk=fb.Symbol,Dk=Hd((function(e){e.exports={default:Nk,__esModule:!0}}));qd(Dk);var Rk=qd(Hd((function(e,t){t.__esModule=!0;var n=i(Bw),r=i(Dk),o="function"==typeof r.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function i(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===o(n.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":o(e)}}))),Ik=/%[sdj%]/g;function Pk(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,o=t[0],i=t.length;if("function"==typeof o)return o.apply(null,t.slice(1));if("string"==typeof o){for(var s=String(o).replace(Ik,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(e){return"[Circular]"}break;default:return e}})),a=t[r];r<i;a=t[++r])s+=" "+a;return s}return o}function zk(e,t){return null==e||!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"pattern"===e}(t)||"string"!=typeof e||e)}function $k(e,t,n){var r=0,o=e.length;!function i(s){if(s&&s.length)n(s);else{var a=r;r+=1,a<o?t(e[a],i):n([])}}([])}function jk(e,t,n,r){if(t.first)return $k(function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}(e),n,r);var o=t.firstFields||[];!0===o&&(o=Object.keys(e));var i=Object.keys(e),s=i.length,a=0,l=[],c=function(e){l.push.apply(l,e),++a===s&&r(l)};i.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?$k(r,n,c):function(e,t,n){var r=[],o=0,i=e.length;function s(e){r.push.apply(r,e),++o===i&&n(r)}e.forEach((function(e){t(e,s)}))}(r,n,c)}))}function Fk(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:t,field:t.field||e.fullField}}}function Bk(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===(void 0===r?"undefined":Rk(r))&&"object"===Rk(e[n])?e[n]=cw({},e[n],r):e[n]=r}return e}function Lk(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!zk(t,i||e.type)||r.push(Pk(o.messages.required,e.fullField))}var Vk={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},qk={integer:function(e){return qk.number(e)&&parseInt(e,10)===e},float:function(e){return qk.number(e)&&!qk.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===(void 0===e?"undefined":Rk(e))&&!qk.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(Vk.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(Vk.url)},hex:function(e){return"string"==typeof e&&!!e.match(Vk.hex)}},Hk={required:Lk,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(Pk(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)Lk(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?qk[i](t)||r.push(Pk(o.messages.types[i],e.fullField,e.type)):i&&(void 0===t?"undefined":Rk(t))!==e.type&&r.push(Pk(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"==typeof e.len,s="number"==typeof e.min,a="number"==typeof e.max,l=t,c=null,u="number"==typeof t,d="string"==typeof t,p=Array.isArray(t);if(u?c="number":d?c="string":p&&(c="array"),!c)return!1;p&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?l!==e.len&&r.push(Pk(o.messages[c].len,e.fullField,e.len)):s&&!a&&l<e.min?r.push(Pk(o.messages[c].min,e.fullField,e.min)):a&&!s&&l>e.max?r.push(Pk(o.messages[c].max,e.fullField,e.max)):s&&a&&(l<e.min||l>e.max)&&r.push(Pk(o.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(Pk(o.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,o){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Pk(o.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||r.push(Pk(o.messages.pattern.mismatch,e.fullField,t,e.pattern))))}};function Wk(e,t,n,r,o){var i=e.type,s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t,i)&&!e.required)return n();Hk.required(e,t,r,s,o,i),zk(t,i)||Hk.type(e,t,r,s,o)}n(s)}var Uk={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t,"string")&&!e.required)return n();Hk.required(e,t,r,i,o,"string"),zk(t,"string")||(Hk.type(e,t,r,i,o),Hk.range(e,t,r,i,o),Hk.pattern(e,t,r,i,o),!0===e.whitespace&&Hk.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t)&&!e.required)return n();Hk.required(e,t,r,i,o),void 0!==t&&Hk.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t)&&!e.required)return n();Hk.required(e,t,r,i,o),void 0!==t&&(Hk.type(e,t,r,i,o),Hk.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t)&&!e.required)return n();Hk.required(e,t,r,i,o),void 0!==t&&Hk.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t)&&!e.required)return n();Hk.required(e,t,r,i,o),zk(t)||Hk.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t)&&!e.required)return n();Hk.required(e,t,r,i,o),void 0!==t&&(Hk.type(e,t,r,i,o),Hk.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t)&&!e.required)return n();Hk.required(e,t,r,i,o),void 0!==t&&(Hk.type(e,t,r,i,o),Hk.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t,"array")&&!e.required)return n();Hk.required(e,t,r,i,o,"array"),zk(t,"array")||(Hk.type(e,t,r,i,o),Hk.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t)&&!e.required)return n();Hk.required(e,t,r,i,o),void 0!==t&&Hk.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t)&&!e.required)return n();Hk.required(e,t,r,i,o),t&&Hk.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t,"string")&&!e.required)return n();Hk.required(e,t,r,i,o),zk(t,"string")||Hk.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zk(t)&&!e.required)return n();if(Hk.required(e,t,r,i,o),!zk(t)){var s=void 0;s="number"==typeof t?new Date(t):t,Hk.type(e,s,r,i,o),s&&Hk.range(e,s.getTime(),r,i,o)}}n(i)},url:Wk,hex:Wk,email:Wk,required:function(e,t,n,r,o){var i=[],s=Array.isArray(t)?"array":void 0===t?"undefined":Rk(t);Hk.required(e,t,r,i,o,s),n(i)}};function Jk(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Kk=Jk();function Gk(e){this.rules=null,this._messages=Kk,this.define(e)}Gk.prototype={messages:function(e){return e&&(this._messages=Bk(Jk(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===e?"undefined":Rk(e))||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t=void 0,n=void 0;for(t in e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],o=e,i=n,s=r;if("function"==typeof i&&(s=i,i={}),this.rules&&0!==Object.keys(this.rules).length){if(i.messages){var a=this.messages();a===Kk&&(a=Jk()),Bk(a,i.messages),i.messages=a}else i.messages=this.messages();var l=void 0,c=void 0,u={},d=i.keys||Object.keys(this.rules);d.forEach((function(n){l=t.rules[n],c=o[n],l.forEach((function(r){var i=r;"function"==typeof i.transform&&(o===e&&(o=cw({},o)),c=o[n]=i.transform(c)),(i="function"==typeof i?{validator:i}:cw({},i)).validator=t.getValidationMethod(i),i.field=n,i.fullField=i.fullField||n,i.type=t.getType(i),i.validator&&(u[n]=u[n]||[],u[n].push({rule:i,value:c,source:o,field:n}))}))}));var p={};jk(u,i,(function(e,t){var n=e.rule,r=!("object"!==n.type&&"array"!==n.type||"object"!==Rk(n.fields)&&"object"!==Rk(n.defaultField));function o(e,t){return cw({},t,{fullField:n.fullField+"."+e})}function s(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=s;if(Array.isArray(a)||(a=[a]),a.length,a.length&&n.message&&(a=[].concat(n.message)),a=a.map(Fk(n)),i.first&&a.length)return p[n.field]=1,t(a);if(r){if(n.required&&!e.value)return a=n.message?[].concat(n.message).map(Fk(n)):i.error?[i.error(n,Pk(i.messages.required,n.field))]:[],t(a);var l={};if(n.defaultField)for(var c in e.value)e.value.hasOwnProperty(c)&&(l[c]=n.defaultField);for(var u in l=cw({},l,e.rule.fields))if(l.hasOwnProperty(u)){var d=Array.isArray(l[u])?l[u]:[l[u]];l[u]=d.map(o.bind(null,u))}var h=new Gk(l);h.messages(i.messages),e.rule.options&&(e.rule.options.messages=i.messages,e.rule.options.error=i.error),h.validate(e.value,e.rule.options||i,(function(e){t(e&&e.length?a.concat(e):e)}))}else t(a)}r=r&&(n.required||!n.required&&e.value),n.field=e.field;var a=n.validator(n,e.value,s,e.source,i);a&&a.then&&a.then((function(){return s()}),(function(e){return s(e)}))}),(function(e){h(e)}))}else s&&s();function h(e){var t,n=void 0,r=void 0,o=[],i={};for(n=0;n<e.length;n++)t=e[n],Array.isArray(t)?o=o.concat.apply(o,t):o.push(t);if(o.length)for(n=0;n<o.length;n++)i[r=o[n].field]=i[r]||[],i[r].push(o[n]);else o=null,i=null;s(o,i)}},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!Uk.hasOwnProperty(e.type))throw new Error(Pk("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Uk.required:Uk[this.getType(e)]||!1}},Gk.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Uk[e]=t},Gk.messages=Kk;var Xk,Zk=Wd(Object.freeze({__proto__:null,default:Gk})),Yk=qd(Hd((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=67)}({0:function(e,t,n){function r(e,t,n,r,o,i,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},3:function(e,t){e.exports=ab},4:function(e,t){e.exports=ub},48:function(e,t){e.exports=Zk},67:function(e,t,n){n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":e.elForm&&e.elForm.statusIcon,"is-error":"error"===e.validateState,"is-validating":"validating"===e.validateState,"is-success":"success"===e.validateState,"is-required":e.isRequired||e.required,"is-no-asterisk":e.elForm&&e.elForm.hideRequiredAsterisk},e.sizeClass?"el-form-item--"+e.sizeClass:""]},[n("label-wrap",{attrs:{"is-auto-width":e.labelStyle&&"auto"===e.labelStyle.width,"update-all":"auto"===e.form.labelWidth}},[e.label||e.$slots.label?n("label",{staticClass:"el-form-item__label",style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label+e.form.labelSuffix))])],2):e._e()]),n("div",{staticClass:"el-form-item__content",style:e.contentStyle},[e._t("default"),n("transition",{attrs:{name:"el-zoom-in-top"}},["error"===e.validateState&&e.showMessage&&e.form.showMessage?e._t("error",[n("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.elForm&&e.elForm.inlineMessage||!1}},[e._v("\n          "+e._s(e.validateMessage)+"\n        ")])],{error:e.validateMessage}):e._e()],2)],2)],1)};r._withStripped=!0;var o=n(48),i=n.n(o),s=n(4),a=n.n(s),l=n(9),c=n.n(l),u=n(3),d={props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["elForm","elFormItem"],render:function(){var e=arguments[0],t=this.$slots.default;if(!t)return null;if(this.isAutoWidth){var n=this.elForm.autoLabelWidth,r={};if(n&&"auto"!==n){var o=parseInt(n,10)-this.computedWidth;o&&(r.marginLeft=o+"px")}return e("div",{class:"el-form-item__label-wrap",style:r},[t])}return t[0]},methods:{getLabelWidth:function(){if(this.$el&&this.$el.firstElementChild){var e=window.getComputedStyle(this.$el.firstElementChild).width;return Math.ceil(parseFloat(e))}return 0},updateLabelWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===e?this.computedWidth=this.getLabelWidth():"remove"===e&&this.elForm.deregisterLabelWidth(this.computedWidth))}},watch:{computedWidth:function(e,t){this.updateAll&&(this.elForm.registerLabelWidth(e,t),this.elFormItem.updateComputedLabelWidth(e))}},data:function(){return{computedWidth:0}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")}},p=n(0),h=Object(p.a)(d,void 0,void 0,!1,null,null,null);h.options.__file="packages/form/src/label-wrap.vue";var f=h.exports,m={name:"ElFormItem",componentName:"ElFormItem",mixins:[a.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},components:{LabelWrap:f},watch:{error:{immediate:!0,handler:function(e){this.validateMessage=e,this.validateState=e?"error":""}},validateStatus:function(e){this.validateState=e}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var e={};if("top"===this.form.labelPosition)return e;var t=this.labelWidth||this.form.labelWidth;return t&&(e.width=t),e},contentStyle:function(){var e={},t=this.label;if("top"===this.form.labelPosition||this.form.inline)return e;if(!t&&!this.labelWidth&&this.isNested)return e;var n=this.labelWidth||this.form.labelWidth;return"auto"===n?"auto"===this.labelWidth?e.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(e.marginLeft=this.elForm.autoLabelWidth):e.marginLeft=n,e},form:function(){for(var e=this.$parent,t=e.$options.componentName;"ElForm"!==t;)"ElFormItem"===t&&(this.isNested=!0),t=(e=e.$parent).$options.componentName;return e},fieldValue:function(){var e=this.form.model;if(e&&this.prop){var t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),Object(u.getPropByPath)(e,t,!0).v}},isRequired:function(){var e=this.getRules(),t=!1;return e&&e.length&&e.every((function(e){return!e.required||(t=!0,!1)})),t},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},methods:{validate:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.noop;this.validateDisabled=!1;var r=this.getFilteredRule(e);if((!r||0===r.length)&&void 0===this.required)return n(),!0;this.validateState="validating";var o={};r&&r.length>0&&r.forEach((function(e){delete e.trigger})),o[this.prop]=r;var s=new i.a(o),a={};a[this.prop]=this.fieldValue,s.validate(a,{firstFields:!0},(function(e,r){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",n(t.validateMessage,r),t.elForm&&t.elForm.$emit("validate",t.prop,!e,t.validateMessage||null)}))},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var e=this;this.validateState="",this.validateMessage="";var t=this.form.model,n=this.fieldValue,r=this.prop;-1!==r.indexOf(":")&&(r=r.replace(/:/,"."));var o=Object(u.getPropByPath)(t,r,!0);this.validateDisabled=!0,Array.isArray(n)?o.o[o.k]=[].concat(this.initialValue):o.o[o.k]=this.initialValue,this.$nextTick((function(){e.validateDisabled=!1})),this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var e=this.form.rules,t=this.rules,n=void 0!==this.required?{required:!!this.required}:[],r=Object(u.getPropByPath)(e,this.prop||"");return e=e?r.o[this.prop||""]||r.v:[],[].concat(t||e||[]).concat(n)},getFilteredRule:function(e){return this.getRules().filter((function(t){return!t.trigger||""===e||(Array.isArray(t.trigger)?t.trigger.indexOf(e)>-1:t.trigger===e)})).map((function(e){return c()({},e)}))},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},updateComputedLabelWidth:function(e){this.computedLabelWidth=e?e+"px":""},addValidateEvents:function(){(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var e=this.fieldValue;Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e}),this.addValidateEvents()}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},v=Object(p.a)(m,r,[],!1,null,null,null);v.options.__file="packages/form/src/form-item.vue";var g=v.exports;g.install=function(e){e.component(g.name,g)},t.default=g},9:function(e,t){e.exports=db}})}))),Qk=qd(Hd((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=121)}({0:function(e,t,n){function r(e,t,n,r,o,i,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},121:function(e,t,n){n.r(t);var r=function(){var e=this.$createElement;return(this._self._c||e)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)};r._withStripped=!0;var o=n(9),i=n.n(o),s={name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach((function(e){e.removeValidateEvents(),e.addValidateEvents()})),this.validateOnRuleChange&&this.validate((function(){}))}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var e=Math.max.apply(Math,this.potentialLabelWidthArr);return e?e+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var e=this;this.$on("el.form.addField",(function(t){t&&e.fields.push(t)})),this.$on("el.form.removeField",(function(t){t.prop&&e.fields.splice(e.fields.indexOf(t),1)}))},methods:{resetFields:function(){this.model?this.fields.forEach((function(e){e.resetField()})):console.warn("[Element Warn][Form]model is required for resetFields to work.")},clearValidate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length?"string"==typeof e?this.fields.filter((function(t){return e===t.prop})):this.fields.filter((function(t){return e.indexOf(t.prop)>-1})):this.fields;t.forEach((function(e){e.clearValidate()}))},validate:function(e){var t=this;if(this.model){var n=void 0;"function"!=typeof e&&window.Promise&&(n=new window.Promise((function(t,n){e=function(e){e?t(e):n(e)}})));var r=!0,o=0;0===this.fields.length&&e&&e(!0);var s={};return this.fields.forEach((function(n){n.validate("",(function(n,a){n&&(r=!1),s=i()({},s,a),"function"==typeof e&&++o===t.fields.length&&e(r,s)}))})),n||void 0}console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(e,t){e=[].concat(e);var n=this.fields.filter((function(t){return-1!==e.indexOf(t.prop)}));n.length?n.forEach((function(e){e.validate("",t)})):console.warn("[Element Warn]please pass correct props!")},getLabelWidthIndex:function(e){var t=this.potentialLabelWidthArr.indexOf(e);if(-1===t)throw new Error("[ElementForm]unpected width ",e);return t},registerLabelWidth:function(e,t){if(e&&t){var n=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(n,1,e)}else e&&this.potentialLabelWidthArr.push(e)},deregisterLabelWidth:function(e){var t=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(t,1)}}},a=n(0),l=Object(a.a)(s,r,[],!1,null,null,null);l.options.__file="packages/form/src/form.vue";var c=l.exports;c.install=function(e){e.component(c.name,c)},t.default=c},9:function(e,t){e.exports=db}})}))),ex=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).linkAttrs=e.initLinkAttrs,e.editLinkDialogVisible=!1,e}return Gf(n,[{key:"updateLinkAttrs",value:function(){this.editorContext.commands.link(this.linkAttrs),this.closeEditLinkDialog()}},{key:"openEditLinkDialog",value:function(){this.editLinkDialogVisible=!0}},{key:"closeEditLinkDialog",value:function(){this.editLinkDialogVisible=!1}}]),n}();Um([pv({type:Object,required:!0})],ex.prototype,"editorContext",void 0),Um([pv({type:Object,required:!0})],ex.prototype,"initLinkAttrs",void 0),Um([cv()],ex.prototype,"et",void 0);const tx=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("command-button",{attrs:{command:e.openEditLinkDialog,"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Link.edit.tooltip"),icon:"edit"}}),e._v(" "),n("el-dialog",{attrs:{title:e.et.t("editor.extensions.Link.edit.control.title"),visible:e.editLinkDialogVisible,"append-to-body":!0,width:"400px","custom-class":"el-tiptap-edit-link-dialog"},on:{"update:visible":function(t){e.editLinkDialogVisible=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[n("el-button",{attrs:{size:"small",round:""},on:{click:e.closeEditLinkDialog}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Link.edit.control.cancel"))+"\n      ")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small",round:""},on:{mousedown:function(e){e.preventDefault()},click:e.updateLinkAttrs}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Link.edit.control.confirm"))+"\n      ")])]},proxy:!0}])},[n("el-form",{attrs:{model:e.linkAttrs,"label-position":"right",size:"small"}},[n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Link.edit.control.href"),prop:"href"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.linkAttrs.href,callback:function(t){e.$set(e.linkAttrs,"href",t)},expression:"linkAttrs.href"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"openInNewTab"}},[n("el-checkbox",{model:{value:e.linkAttrs.openInNewTab,callback:function(t){e.$set(e.linkAttrs,"openInNewTab",t)},expression:"linkAttrs.openInNewTab"}},[e._v("\n          "+e._s(e.et.t("editor.extensions.Link.edit.control.open_in_new_tab"))+"\n        ")])],1)],1)],1)],1)},staticRenderFns:[]},void 0,ex=Um([lv({components:(Xk={},Fm(Xk,Ed().name,Ed()),Fm(Xk,Qk.name,Qk),Fm(Xk,Yk.name,Yk),Fm(Xk,pb.name,pb),Fm(Xk,Od().name,Od()),Fm(Xk,Cd().name,Cd()),Fm(Xk,"CommandButton",rb),Xk)})],ex),void 0,!1,void 0,!1,void 0,void 0,void 0);var nx=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return n}();Um([pv({type:Object,required:!0})],nx.prototype,"editorContext",void 0),Um([cv()],nx.prototype,"et",void 0);const rx=Py({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("command-button",{attrs:{command:function(){return e.editorContext.commands.link({href:""})},"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Link.unlink.tooltip"),icon:"unlink"}})},staticRenderFns:[]},void 0,nx=Um([lv({components:{CommandButton:rb}})],nx),void 0,!1,void 0,!1,void 0,void 0,void 0);var ox=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"linkAttrs",get:function(){return(0,this.editorContext.getMarkAttrs)("link")}}]),n}();Um([pv({type:Object,required:!0})],ox.prototype,"editorContext",void 0);const ix=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"link-bubble-menu"},[e._t("prepend"),e._v(" "),n("open-link-command-button",{attrs:{url:e.linkAttrs.href}}),e._v(" "),n("edit-link-command-button",{attrs:{"editor-context":e.editorContext,"init-link-attrs":e.linkAttrs}}),e._v(" "),n("unlink-command-button",{attrs:{"editor-context":e.editorContext}})],2)},staticRenderFns:[]},void 0,ox=Um([lv({components:{OpenLinkCommandButton:ib,EditLinkCommandButton:tx,UnlinkCommandButton:rx}})],ox),void 0,!1,void 0,!1,void 0,void 0,void 0);var sx=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).activeMenu="none",e.isLinkBack=!1,e}return Gf(n,[{key:"linkBack",value:function(){this.setMenuType("default"),this.isLinkBack=!0}},{key:"onSelectionChange",value:function(e){this.$_isLinkSelection(e)?this.isLinkBack||this.setMenuType("link"):(this.activeMenu=this.$_getCurrentMenuType(),this.isLinkBack=!1)}},{key:"generateCommandButtonComponentSpecs",value:function(e){var t=this;return this.editor.extensions.extensions.reduce((function(n,r){if(!r.options.bubble)return n;if("function"!=typeof r.menuBtnView)return n;var o=r.menuBtnView(Object.assign(Object.assign({},e),{editor:t.editor,t:t.et.t}));return Array.isArray(o)?[].concat(jm(n),jm(o)):[].concat(jm(n),[o])}),[])}},{key:"setMenuType",value:function(e){this.activeMenu=e}},{key:"$_isLinkSelection",value:function(e){var t=this.editor.schema.marks.link;if(!t)return!1;if(!e)return!1;var n=e.$from,r=e.$to,o=tb(n,t);return!!o&&o.to===r.pos}},{key:"$_getCurrentMenuType",value:function(){return this.isLinkSelection?"link":this.editor.state.selection instanceof Ft||this.editor.state.selection instanceof qt?"default":"none"}},{key:"bubbleMenuEnable",get:function(){return this.linkMenuEnable||this.textMenuEnable}},{key:"linkMenuEnable",get:function(){return!!this.editor.schema.marks.link}},{key:"textMenuEnable",get:function(){return this.editor.extensions.extensions.some((function(e){return e.options.bubble}))}},{key:"isLinkSelection",get:function(){var e=this.editor.state.tr.selection;return this.$_isLinkSelection(e)}}]),n}();Um([pv({type:yl,required:!0})],sx.prototype,"editor",void 0),Um([pv({type:Object,default:function(){return{}}})],sx.prototype,"menuBubbleOptions",void 0),Um([cv()],sx.prototype,"et",void 0),Um([hv("editor.state.selection")],sx.prototype,"onSelectionChange",null);const ax=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("editor-menu-bubble",e._b({attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"el-tiptap-editor__menu-bubble",class:{"el-tiptap-editor__menu-bubble--active":t.menu.isActive&&e.bubbleMenuEnable},style:"\n      left: "+t.menu.left+"px;\n      bottom: "+(t.menu.bottom+10)+"px;\n    "},["link"===e.activeMenu?n("link-bubble-menu",{attrs:{editorContext:Object.assign({},t,{editor:e.editor})},scopedSlots:e._u([{key:"prepend",fn:function(){return[e.textMenuEnable?n("div",{staticClass:"el-tiptap-editor__command-button",on:{mousedown:function(e){e.preventDefault()},click:e.linkBack}},[n("v-icon",{attrs:{name:"arrow-left"}})],1):e._e()]},proxy:!0}],null,!0)}):"default"===e.activeMenu?e._l(e.generateCommandButtonComponentSpecs(t),(function(t,r){return n(t.component,e._g(e._b({key:"command-button"+r,tag:"component",attrs:{"enable-tooltip":e.et.tooltip}},"component",t.componentProps,!1),t.componentEvents))})):e._e()],2)]}}])},"editor-menu-bubble",e.menuBubbleOptions,!1))},staticRenderFns:[]},void 0,sx=Um([lv({components:{"v-icon":Zy,EditorMenuBubble:El,LinkBubbleMenu:ix}})],sx),void 0,!1,void 0,!1,void 0,void 0,void 0);var lx,cx,ux=["transaction","focus","blur","paste","drop"],dx=function(e){Lm(n,nv(Ny,Ry));var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).editor=null,e.emitAfterOnUpdate=!1,e.isFullscreen=!1,e}return Gf(n,[{key:"onContentChange",value:function(e){this.emitAfterOnUpdate?this.emitAfterOnUpdate=!1:this.editor&&this.editor.setContent(e)}},{key:"onReadonlyChange",value:function(){this.editor&&this.editor.setOptions({editable:!this.readonly})}},{key:"mounted",value:function(){var e=this,t=this.generateExtensions(),n=ux.reduce((function(t,n){return Object.assign(Object.assign({},t),Fm({},"on".concat(Ty(n)),(function(){return e.emitEvent.bind(e)(n)})))}),{});this.editor=new yl(Object.assign(Object.assign(Object.assign(Object.assign({},this.editorProperties),{editable:!this.readonly,useBuiltInExtensions:!1,extensions:t}),n),{content:this.content,onUpdate:this.onUpdate.bind(this)})),this.$emit(this.genEvent("init"),{editor:this.editor})}},{key:"beforeDestroy",value:function(){this.editor&&this.editor.destroy()}},{key:"generateExtensions",value:function(){var e=jm(this.extensions);return e.push(new gv({spellcheck:this.spellcheckEnabled})),e.push(this.initPlaceholderExtension()),e}},{key:"emitEvent",value:function(e){this.$emit(this.genEvent(e),{editor:this.editor})}},{key:"onUpdate",value:function(e){var t;this.emitAfterOnUpdate=!0,t="html"===this.output?e.getHTML():JSON.stringify(e.getJSON()),this.$emit(this.genEvent("update"),t,e)}},{key:"t",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.i18nHandler.apply(this,t)}},{key:"genEvent",value:function(e){return"on".concat(Ty(e))}},{key:"getTitleExtension",value:function(){if(this.extensions.find((function(e){return"doc"===e.name})).options.title){var e=this.extensions.find((function(e){return"title"===e.name}));if(e)return e}return null}},{key:"initPlaceholderExtension",value:function(){var e=this,t=this.getTitleExtension();return new yd(t?{emptyEditorClass:"el-tiptap-editor--empty",emptyNodeClass:"el-tiptap-editor__with-title-placeholder",showOnlyCurrent:!1,emptyNodeText:function(n){return"title"===n.type.name?t.options.placeholder:e.placeholder}}:{emptyEditorClass:"el-tiptap-editor--empty",emptyNodeClass:"el-tiptap-editor__placeholder",emptyNodeText:this.placeholder})}},{key:"et",get:function(){return this}},{key:"characters",get:function(){return this.editor?this.editor.state.doc.textContent.length:0}},{key:"showFooter",get:function(){return this.charCounterCount&&!this.isCodeViewMode}},{key:"spellcheckEnabled",get:function(){return null==this.spellcheck?!this.$elementTiptapPlugin||this.$elementTiptapPlugin.spellcheck:this.spellcheck}},{key:"i18nHandler",get:function(){var e=this.lang||this.$elementTiptapPlugin.lang;return xm.buildI18nHandler(e)}}]),n}();Um([pv({type:Array,default:function(){return[]}})],dx.prototype,"extensions",void 0),Um([(lx="onUpdate",cx={type:String,default:""},void 0===cx&&(cx={}),function(e,t){dv(cx,e,t),tv((function(e,t){(e.props||(e.props={}))[t]=cx,e.model={prop:t,event:lx||t}}))(e,t)})],dx.prototype,"content",void 0),Um([pv({type:String,default:""})],dx.prototype,"placeholder",void 0),Um([pv({type:Object,default:function(){return{}}})],dx.prototype,"editorProperties",void 0),Um([pv({type:String,default:"html",validator:function(e){return["html","json"].includes(e)}})],dx.prototype,"output",void 0),Um([pv({type:Boolean,default:!1})],dx.prototype,"readonly",void 0),Um([pv({type:Boolean,default:void 0})],dx.prototype,"spellcheck",void 0),Um([pv({type:Boolean,default:!0})],dx.prototype,"tooltip",void 0),Um([pv({type:String,default:void 0,validator:function(e){return xm.isLangSupported(e)}})],dx.prototype,"lang",void 0),Um([pv({type:[String,Array,Object],default:void 0})],dx.prototype,"editorClass",void 0),Um([pv({type:[String,Array,Object],default:void 0})],dx.prototype,"editorContentClass",void 0),Um([pv({type:[String,Array,Object],default:void 0})],dx.prototype,"editorMenubarClass",void 0),Um([pv({type:[String,Array,Object],default:void 0})],dx.prototype,"editorBubbleMenuClass",void 0),Um([pv({type:[String,Array,Object],default:void 0})],dx.prototype,"editorFooterClass",void 0),Um([pv({type:Object,default:function(){return{}}})],dx.prototype,"menuBubbleOptions",void 0),Um([function(e){return tv((function(t,n){var r,o=t.provide;("function"!=typeof(r=o)||!r.managed&&!r.managedReactive)&&(o=t.provide=function(e){var t=function(){var n=this,r="function"==typeof e?e.call(this):e;for(var o in(r=Object.create(r||null)).__reactiveInject__=this.__reactiveInject__||{},t.managed)r[t.managed[o]]=this[o];var i=function(e){r[t.managedReactive[e]]=s[e],r.__reactiveInject__.hasOwnProperty(t.managedReactive[e])||Object.defineProperty(r.__reactiveInject__,t.managedReactive[e],{enumerable:!0,get:function(){return n[e]}})},s=this;for(var o in t.managedReactive)i(o);return r};return t.managed={},t.managedReactive={},t}(o)),o.managed[n]=e||n}))}()],dx.prototype,"et",null),Um([hv("content")],dx.prototype,"onContentChange",null),Um([hv("readonly")],dx.prototype,"onReadonlyChange",null);const px=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.editor?n("div",{class:[{"el-tiptap-editor":!0,"el-tiptap-editor--fullscreen":e.isFullscreen},e.editorClass],style:e.elTiptapEditorStyle},[n("menu-bubble",{class:e.editorBubbleMenuClass,attrs:{editor:e.editor,menuBubbleOptions:e.menuBubbleOptions}}),e._v(" "),e.showMenubar?n("menu-bar",{class:[{"border-top-radius":e.showMenubar},e.editorMenubarClass],attrs:{editor:e.editor},scopedSlots:e._u([e.$scopedSlots.menubar?{key:"default",fn:function(t){return[e._t("menubar",null,null,t)]}}:null],null,!0)}):e._e(),e._v(" "),e.isCodeViewMode?n("div",{class:{"el-tiptap-editor__codemirror":!0,"border-bottom-radius":e.isCodeViewMode}},[n("textarea",{ref:"cmTextArea"})]):e._e(),e._v(" "),n("editor-content",{directives:[{name:"show",rawName:"v-show",value:!e.isCodeViewMode,expression:"!isCodeViewMode"}],class:[{"el-tiptap-editor__content":!0,"border-top-radius":!e.showMenubar,"border-bottom-radius":!e.showFooter},e.editorContentClass],attrs:{editor:e.editor}}),e._v(" "),e._t("footer",[e.showFooter?n("div",{class:[{"el-tiptap-editor__footer":!0,"border-bottom-radius":e.showFooter},e.editorFooterClass]},[n("span",{staticClass:"el-tiptap-editor__characters"},[e._v("\n        "+e._s(e.t("editor.characters"))+": "+e._s(e.characters)+"\n      ")])]):e._e()],{editor:e.editor})],2):e._e()},staticRenderFns:[]},void 0,dx=Um([lv({components:{MenuBar:zy,MenuBubble:ax,EditorContent:bl},inject:[]})],dx),void 0,!1,void 0,!1,void 0,void 0,void 0);var hx=function(e){Lm(n,fl);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"defaultOptions",get:function(){return{title:!1}}},{key:"schema",get:function(){return{content:this.options.title?"title block+":"block+"}}}]),n}(),fx=Om.forEach,mx=df("forEach"),vx=sf("forEach"),gx=mx&&vx?[].forEach:function(e){return fx(this,e,arguments.length>1?arguments[1]:void 0)};kh({target:"Array",proto:!0,forced:[].forEach!=gx},{forEach:gx});var yx=["paragraph","heading","list_item","todo_item"],bx=/^\d+(.\d+)?$/;function wx(e){if(!e)return"";var t=String(e);if(bx.test(t)){var n=parseFloat(t);t=String(Math.round(100*n))+"%"}return 1.7*parseFloat(t)+"%"}function kx(e,t){var n=e,r=n.selection,o=n.doc;if(!r||!o)return e;if(!(r instanceof Ft||r instanceof qt))return e;var i=r.from,s=r.to,a=[],l=t&&"100%"!==t?t:null;return o.nodesBetween(i,s,(function(e,t){var n=e.type;return!yx.includes(n.name)||((e.attrs.lineHeight||null)!==l&&a.push({node:e,pos:t,nodeType:n}),"list_item"!==n.name&&"todo_item"!==n.name)})),a.length?(a.forEach((function(t){var n=t.node,r=t.pos,o=t.nodeType,i=n.attrs;i=Object.assign(Object.assign({},i),{lineHeight:l}),e=e.setNodeMarkup(r,o,i,n.marks)})),e):e}var xx={attrs:{textAlign:{default:null},indent:{default:null},lineHeight:{default:null}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:Sx}],toDOM:Cx};function Sx(e){var t=e.style,n=t.textAlign,r=t.lineHeight,o=e.getAttribute("data-text-align")||n||"";return{textAlign:o=ym.test(o)?o:null,indent:parseInt(e.getAttribute("data-indent"),10)||0,lineHeight:r=function(e){if(!e)return"";if("100%"===e)return"";var t=e;if(bx.test(e)){var n=parseFloat(e);if("100%"===(t=String(Math.round(100*n))+"%"))return""}return parseFloat(t)/1.7+"%"}(r)||null}}function Cx(e){var t=e.attrs,n=t.textAlign,r=t.indent,o=t.lineHeight,i="",s={};if(n&&"left"!==n&&(i+="text-align: ".concat(n,";")),r&&(s["data-indent"]=r),o){var a=wx(o);i+="line-height: ".concat(a,";")}return i&&(s.style=i),["p",s,0]}var _x,Ox=function(e){Lm(n,ml);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"schema",get:function(){return xx}}]),n}(),Mx=Cx,Ex=Sx,Tx=function(e){Lm(n,hl);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"name",get:function(){return"title"}},{key:"defaultOptions",get:function(){return{placeholder:"",class:""}}},{key:"schema",get:function(){var e=this;return{attrs:{textAlign:{default:null}},content:"inline*",parseDOM:[{tag:"h1",getAttrs:Ex}],toDOM:function(t){var n=Mx(t);return["h1",Object.assign(Object.assign({},n[1]),{class:e.options.class}),0]}}}}]),n}(),Ax=Om.map,Nx=Fh("map"),Dx=sf("map");function Rx(e,t){var n=function(e){var t=e.schema.nodes.heading;return(0,wd.Tr)(t)(e.selection)}(e);return null==t?!!n:!!(n&&n.node&&n.node.attrs&&n.node.attrs.level===t)}kh({target:"Array",proto:!0,forced:!Nx||!Dx},{map:function(e){return Ax(this,e,arguments.length>1?arguments[1]:void 0)}}),zf("match",1,(function(e,t,n){return[function(t){var n=op(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=vp(e),i=String(this);if(!o.global)return qf(o,i);var s=o.unicode;o.lastIndex=0;for(var a,l=[],c=0;null!==(a=qf(o,i));){var u=String(a[0]);l[c]=u,""===u&&(o.lastIndex=Vf(i,Qp(o.lastIndex),s)),c++}return 0===c?null:l}]}));var Ix=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"isHeadingActive",value:function(e){return Rx(this.editor.state,e)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"level",get:function(){return this.editor.extensions.options.heading.level}}]),n}();Um([pv({type:Object,required:!0})],Ix.prototype,"editorContext",void 0),Um([cv()],Ix.prototype,"et",void 0);const Px=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:function(t){return t>0?e.editorContext.commands.heading({level:t}):e.editorContext.commands.paragraph()}}},[n("command-button",{attrs:{"is-active":e.isHeadingActive(),"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Heading.tooltip"),readonly:e.et.isCodeViewMode,icon:"heading"}}),e._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":e.editorContext.isActive.paragraph()},attrs:{command:0}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Heading.buttons.paragraph")))])]),e._v(" "),e._l(e.level,(function(t){return n("el-dropdown-item",{key:t,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":e.isHeadingActive(t)},attrs:{command:t}},[n("h"+t,{tag:"component",attrs:{"data-item-type":"heading"}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Heading.buttons.heading"))+" "+e._s(t)+"\n      ")])],1)}))],2)],1)},staticRenderFns:[]},void 0,Ix=Um([lv({components:(_x={},Fm(_x,Id().name,Id()),Fm(_x,Dd().name,Dd()),Fm(_x,Ad().name,Ad()),Fm(_x,"CommandButton",rb),_x)})],Ix),void 0,!1,void 0,!1,void 0,void 0,void 0);function zx(e){var t=Ex(e),n=e.nodeName.match(/[H|h](\d)/)[1];return t.level=Number(n),t}function $x(e){var t=Mx(e),n=e.attrs.level||1;return t[0]="h".concat(n),t}var jx=function(e){Lm(n,Yu);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){return{component:Px,componentProps:{editorContext:e}}}},{key:"schema",get:function(){return Object.assign(Object.assign({},xx),{attrs:Object.assign(Object.assign({},xx.attrs),{level:{default:1}}),defining:!0,draggable:!1,parseDOM:this.options.levels.map((function(e){return{tag:"h".concat(e),getAttrs:zx}})),toDOM:$x})}}]),n}(),Fx=Object.assign(Object.assign({},xx),{attrs:{textAlign:{default:null},indent:{default:null}},content:"block*",defining:!0,parseDOM:[{tag:"blockquote",getAttrs:function(e){return Ex(e)}}],toDOM:function(e){var t=Mx(e);return t[0]="blockquote",t}}),Bx=function(e){Lm(n,Ku);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:rb,componentProps:{command:n.blockquote,isActive:t.blockquote(),icon:"quote-right",tooltip:r("editor.extensions.Blockquote.tooltip")}}}},{key:"schema",get:function(){return Fx}}]),n}(),Lx=function(e){Lm(n,Xu);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:rb,componentProps:{command:n.code_block,isActive:t.code_block(),icon:"code",tooltip:r("editor.extensions.CodeBlock.tooltip")}}}}]),n}(),Vx={attrs:{textAlign:{default:null},lineHeight:{default:null}},content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li",getAttrs:function(e){var t=e.style,n=t.textAlign,r=t.lineHeight,o=e.getAttribute("data-text-align")||n||"";return o=ym.test(o)?o:null,r=r&&r!==wx(1.7)?r:null,{textAlign:o,lineHeight:r}}}],toDOM:function(e){var t=e.attrs,n=t.textAlign,r=t.lineHeight,o="",i={};if(n&&"left"!==n&&(o+="text-align: ".concat(n)),r){var s=wx(r);o+="line-height: ".concat(s,";")}return o&&(i.style=o),["li",i,0]}},qx=function(e){Lm(n,nd);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"schema",get:function(){return Vx}}]),n}(),Hx=function(e){Lm(n,Gu);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:rb,componentProps:{isActive:t.bullet_list(),command:n.bullet_list,icon:"list-ul",tooltip:r("editor.extensions.BulletList.tooltip")}}}}]),n}(),Wx=function(e){Lm(n,rd);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:rb,componentProps:{isActive:t.ordered_list(),command:n.ordered_list,icon:"list-ol",tooltip:r("editor.extensions.OrderedList.tooltip")}}}}]),n}(),Ux=Hd((function(e,t){t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=void 0;var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hasClass=p,t.addClass=function(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),o=0,i=r.length;o<i;o++){var s=r[o];s&&(e.classList?e.classList.add(s):p(e,s)||(n+=" "+s))}e.classList||(e.className=n)}},t.removeClass=function(e,t){if(e&&t){for(var n=t.split(" "),r=" "+e.className+" ",o=0,i=n.length;o<i;o++){var s=n[o];s&&(e.classList?e.classList.remove(s):p(e,s)&&(r=r.replace(" "+s+" "," ")))}e.classList||(e.className=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}(r))}},t.setStyle=function e(t,n,o){if(t&&n)if("object"===(void 0===n?"undefined":r(n)))for(var i in n)n.hasOwnProperty(i)&&e(t,i,n[i]);else"opacity"===(n=c(n))&&l<9?t.style.filter=isNaN(o)?"":"alpha(opacity="+100*o+")":t.style[n]=o};var o=((n=s())&&n.__esModule?n:{default:n}).default.prototype.$isServer,i=/([\:\-\_]+(.))/g,a=/^moz([A-Z])/,l=o?0:Number(document.documentMode),c=function(e){return e.replace(i,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(a,"Moz$1")},u=t.on=!o&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)},d=t.off=!o&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)};function p(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}t.once=function(e,t,n){u(e,t,(function r(){n&&n.apply(this,arguments),d(e,t,r)}))};var h=t.getStyle=l<9?function(e,n){if(!o){if(!e||!n)return null;"float"===(n=c(n))&&(n="styleFloat");try{switch(n){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(e){return 1}default:return e.style[n]||e.currentStyle?e.currentStyle[n]:null}}catch(t){return e.style[n]}}}:function(e,t){if(!o){if(!e||!t)return null;"float"===(t=c(t))&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(n){return e.style[t]}}},f=t.isScroll=function(e,t){if(!o)return h(e,null!==t||void 0!==t?t?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)};t.getScrollContainer=function(e,t){if(!o){for(var n=e;n;){if([window,document,document.documentElement].includes(n))return window;if(f(n,t))return n;n=n.parentNode}return n}},t.isInContainer=function(e,t){if(o||!e||!t)return!1;var n=e.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}}));qd(Ux),Ux.isInContainer,Ux.getScrollContainer,Ux.isScroll,Ux.getStyle,Ux.once,Ux.off,Ux.on,Ux.hasClass,Ux.addClass,Ux.removeClass,Ux.setStyle;var Jx=Hd((function(e,t){t.__esModule=!0;var n,r=(n=s())&&n.__esModule?n:{default:n},o=!1,i=!1,a=void 0,l=function(){if(!r.default.prototype.$isServer){var e=u.modalDom;return e?o=!0:(o=!1,e=document.createElement("div"),u.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){u.doOnModalClick&&u.doOnModalClick()}))),e}},c={},u={modalFade:!0,getInstance:function(e){return c[e]},register:function(e,t){e&&t&&(c[e]=t)},deregister:function(e){e&&(c[e]=null,delete c[e])},nextZIndex:function(){return u.zIndex++},modalStack:[],doOnModalClick:function(){var e=u.modalStack[u.modalStack.length-1];if(e){var t=u.getInstance(e.id);t&&t.closeOnClickModal&&t.close()}},openModal:function(e,t,n,i,s){if(!r.default.prototype.$isServer&&e&&void 0!==t){this.modalFade=s;for(var a=this.modalStack,c=0,u=a.length;c<u;c++)if(a[c].id===e)return;var d=l();(0,Ux.addClass)(d,"v-modal"),this.modalFade&&!o&&(0,Ux.addClass)(d,"v-modal-enter"),i&&i.trim().split(/\s+/).forEach((function(e){return(0,Ux.addClass)(d,e)})),setTimeout((function(){(0,Ux.removeClass)(d,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(d):document.body.appendChild(d),t&&(d.style.zIndex=t),d.tabIndex=0,d.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:i})}},closeModal:function(e){var t=this.modalStack,n=l();if(t.length>0){var r=t[t.length-1];if(r.id===e)r.modalClass&&r.modalClass.trim().split(/\s+/).forEach((function(e){return(0,Ux.removeClass)(n,e)})),t.pop(),t.length>0&&(n.style.zIndex=t[t.length-1].zIndex);else for(var o=t.length-1;o>=0;o--)if(t[o].id===e){t.splice(o,1);break}}0===t.length&&(this.modalFade&&(0,Ux.addClass)(n,"v-modal-leave"),setTimeout((function(){0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",u.modalDom=void 0),(0,Ux.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(u,"zIndex",{configurable:!0,get:function(){return i||(a=a||(r.default.prototype.$ELEMENT||{}).zIndex||2e3,i=!0),a},set:function(e){a=e}}),r.default.prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){var t=function(){if(!r.default.prototype.$isServer&&u.modalStack.length>0){var e=u.modalStack[u.modalStack.length-1];if(!e)return;return u.getInstance(e.id)}}();t&&t.closeOnPressEscape&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction("cancel"):t.close())}})),t.default=u}));qd(Jx);var Kx=Hd((function(e,t){t.__esModule=!0,t.default=function(){if(r.default.prototype.$isServer)return 0;if(void 0!==o)return o;var e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),o=t-i};var n,r=(n=s())&&n.__esModule?n:{default:n},o=void 0}));qd(Kx);var Gx=Hd((function(e,t){t.__esModule=!0,t.PopupManager=void 0;var n=a(s()),r=a(db),o=a(Jx),i=a(Kx);function a(e){return e&&e.__esModule?e:{default:e}}var l=1,c=void 0;t.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+l++,o.default.register(this._popupId,this)},beforeDestroy:function(){o.default.deregister(this._popupId),o.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;if(e){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,n.default.nextTick((function(){t.open()})))}else this.close()}},methods:{open:function(e){var t=this;this.rendered||(this.rendered=!0);var n=(0,r.default)({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var o=Number(n.openDelay);o>0?this._openTimer=setTimeout((function(){t._openTimer=null,t.doOpen(n)}),o):this.doOpen(n)},doOpen:function(e){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var t=this.$el,n=e.modal,r=e.zIndex;if(r&&(o.default.zIndex=r),n&&(this._closing&&(o.default.closeModal(this._popupId),this._closing=!1),o.default.openModal(this._popupId,o.default.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)){this.withoutHiddenClass=!(0,Ux.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,Ux.getStyle)(document.body,"paddingRight"),10)),c=(0,i.default)();var s=document.documentElement.clientHeight<document.body.scrollHeight,a=(0,Ux.getStyle)(document.body,"overflowY");c>0&&(s||"scroll"===a)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+c+"px"),(0,Ux.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=o.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var e=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var t=Number(this.closeDelay);t>0?this._closeTimer=setTimeout((function(){e._closeTimer=null,e.doClose()}),t):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){o.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,Ux.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},t.PopupManager=o.default}));qd(Gx),Gx.PopupManager;var Xx=Hd((function(e,t){t.__esModule=!0,t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||!t)throw new Error("instance & callback is required");var o=!1,i=function(){o||(o=!0,t&&t.apply(null,arguments))};r?e.$once("after-leave",i):e.$on("after-leave",i),setTimeout((function(){i()}),n+100)}}));qd(Xx);var Zx,Yx=qd(Hd((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=68)}({0:function(e,t,n){function r(e,t,n,r,o,i,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},15:function(e,t){e.exports=Gx},2:function(e,t){e.exports=Ux},41:function(e,t){e.exports=Xx},68:function(e,t,n){n.r(t);var r=n(7),o=n.n(r),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[e.customClass,{"is-fullscreen":e.fullscreen}],style:{backgroundColor:e.background||""}},[n("div",{staticClass:"el-loading-spinner"},[e.spinner?n("i",{class:e.spinner}):n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),e.text?n("p",{staticClass:"el-loading-text"},[e._v(e._s(e.text))]):e._e()])])])};i._withStripped=!0;var s={data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(e){this.text=e}}},a=n(0),l=Object(a.a)(s,i,[],!1,null,null,null);l.options.__file="packages/loading/src/loading.vue";var c=l.exports,u=n(2),d=n(15),p=n(41),h=n.n(p),f=o.a.extend(c),m={install:function(e){if(!e.prototype.$isServer){var t=function(t,r){r.value?e.nextTick((function(){r.modifiers.fullscreen?(t.originalPosition=Object(u.getStyle)(document.body,"position"),t.originalOverflow=Object(u.getStyle)(document.body,"overflow"),t.maskStyle.zIndex=d.PopupManager.nextZIndex(),Object(u.addClass)(t.mask,"is-fullscreen"),n(document.body,t,r)):(Object(u.removeClass)(t.mask,"is-fullscreen"),r.modifiers.body?(t.originalPosition=Object(u.getStyle)(document.body,"position"),["top","left"].forEach((function(e){var n="top"===e?"scrollTop":"scrollLeft";t.maskStyle[e]=t.getBoundingClientRect()[e]+document.body[n]+document.documentElement[n]-parseInt(Object(u.getStyle)(document.body,"margin-"+e),10)+"px"})),["height","width"].forEach((function(e){t.maskStyle[e]=t.getBoundingClientRect()[e]+"px"})),n(document.body,t,r)):(t.originalPosition=Object(u.getStyle)(t,"position"),n(t,t,r)))})):(h()(t.instance,(function(e){if(t.instance.hiding){t.domVisible=!1;var n=r.modifiers.fullscreen||r.modifiers.body?document.body:t;Object(u.removeClass)(n,"el-loading-parent--relative"),Object(u.removeClass)(n,"el-loading-parent--hidden"),t.instance.hiding=!1}}),300,!0),t.instance.visible=!1,t.instance.hiding=!0)},n=function(t,n,r){n.domVisible||"none"===Object(u.getStyle)(n,"display")||"hidden"===Object(u.getStyle)(n,"visibility")?n.domVisible&&!0===n.instance.hiding&&(n.instance.visible=!0,n.instance.hiding=!1):(Object.keys(n.maskStyle).forEach((function(e){n.mask.style[e]=n.maskStyle[e]})),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&Object(u.addClass)(t,"el-loading-parent--relative"),r.modifiers.fullscreen&&r.modifiers.lock&&Object(u.addClass)(t,"el-loading-parent--hidden"),n.domVisible=!0,t.appendChild(n.mask),e.nextTick((function(){n.instance.hiding?n.instance.$emit("after-leave"):n.instance.visible=!0})),n.domInserted=!0)};e.directive("loading",{bind:function(e,n,r){var o=e.getAttribute("element-loading-text"),i=e.getAttribute("element-loading-spinner"),s=e.getAttribute("element-loading-background"),a=e.getAttribute("element-loading-custom-class"),l=r.context,c=new f({el:document.createElement("div"),data:{text:l&&l[o]||o,spinner:l&&l[i]||i,background:l&&l[s]||s,customClass:l&&l[a]||a,fullscreen:!!n.modifiers.fullscreen}});e.instance=c,e.mask=c.$el,e.maskStyle={},n.value&&t(e,n)},update:function(e,n){e.instance.setText(e.getAttribute("element-loading-text")),n.oldValue!==n.value&&t(e,n)},unbind:function(e,n){e.domInserted&&(e.mask&&e.mask.parentNode&&e.mask.parentNode.removeChild(e.mask),t(e,{value:!1,modifiers:n.modifiers})),e.instance&&e.instance.$destroy()}})}}},v=m,g=n(9),y=n.n(g),b=o.a.extend(c),w={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},k=void 0;b.prototype.originalPosition="",b.prototype.originalOverflow="",b.prototype.close=function(){var e=this;this.fullscreen&&(k=void 0),h()(this,(function(t){var n=e.fullscreen||e.body?document.body:e.target;Object(u.removeClass)(n,"el-loading-parent--relative"),Object(u.removeClass)(n,"el-loading-parent--hidden"),e.$el&&e.$el.parentNode&&e.$el.parentNode.removeChild(e.$el),e.$destroy()}),300),this.visible=!1};var x=function(e,t,n){var r={};e.fullscreen?(n.originalPosition=Object(u.getStyle)(document.body,"position"),n.originalOverflow=Object(u.getStyle)(document.body,"overflow"),r.zIndex=d.PopupManager.nextZIndex()):e.body?(n.originalPosition=Object(u.getStyle)(document.body,"position"),["top","left"].forEach((function(t){var n="top"===t?"scrollTop":"scrollLeft";r[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]+"px"})),["height","width"].forEach((function(t){r[t]=e.target.getBoundingClientRect()[t]+"px"}))):n.originalPosition=Object(u.getStyle)(t,"position"),Object.keys(r).forEach((function(e){n.$el.style[e]=r[e]}))},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!o.a.prototype.$isServer){if("string"==typeof(e=y()({},w,e)).target&&(e.target=document.querySelector(e.target)),e.target=e.target||document.body,e.target!==document.body?e.fullscreen=!1:e.body=!0,e.fullscreen&&k)return k;var t=e.body?document.body:e.target,n=new b({el:document.createElement("div"),data:e});return x(e,t,n),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&Object(u.addClass)(t,"el-loading-parent--relative"),e.fullscreen&&e.lock&&Object(u.addClass)(t,"el-loading-parent--hidden"),t.appendChild(n.$el),o.a.nextTick((function(){n.visible=!0})),e.fullscreen&&(k=n),n}};t.default={install:function(e){e.use(v),e.prototype.$loading=S},directive:v,service:S}},7:function(e,t){e.exports=s()},9:function(e,t){e.exports=db}})}))),Qx=(Hd((function(e){!function(t){var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag",l=t.regeneratorRuntime;if(l)e.exports=l;else{(l=t.regeneratorRuntime=e.exports).wrap=f;var c={},u={};u[i]=function(){return this};var d=Object.getPrototypeOf,p=d&&d(d(_([])));p&&p!==n&&r.call(p,i)&&(u=p);var h=y.prototype=v.prototype=Object.create(u);g.prototype=h.constructor=y,y.constructor=g,y[a]=g.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(h),e},l.awrap=function(e){return{__await:e}},b(w.prototype),w.prototype[s]=function(){return this},l.AsyncIterator=w,l.async=function(e,t,n,r){var o=new w(f(e,t,n,r));return l.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(h),h[a]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=_,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}}}function f(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new C(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=m(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function v(){}function g(){}function y(){}function b(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){var t;this._invoke=function(n,o){function i(){return new Promise((function(t,i){!function t(n,o,i,s){var a=m(e[n],e,o);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,i,s)}),(function(e){t("throw",e,i,s)})):Promise.resolve(c).then((function(e){l.value=e,i(l)}),s)}s(a.arg)}(n,o,t,i)}))}return t=t?t.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=m(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())})),function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).imageUploadDialogVisible=!1,e.uploading=!1,e}return Gf(n,[{key:"openUrlPrompt",value:function(){var e=this;Bd().prompt("",this.et.t("editor.extensions.Image.control.insert_by_url.title"),{confirmButtonText:this.et.t("editor.extensions.Image.control.insert_by_url.confirm"),cancelButtonText:this.et.t("editor.extensions.Image.control.insert_by_url.cancel"),inputPlaceholder:this.et.t("editor.extensions.Image.control.insert_by_url.placeholder"),inputPattern:this.imageNodeOptions.urlPattern,inputErrorMessage:this.et.t("editor.extensions.Image.control.insert_by_url.invalid_url"),roundButton:!0}).then((function(t){var n=t.value;e.editorContext.commands.image({src:n})})).catch((function(){}))}},{key:"uploadImage",value:function(e){return Jm(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.file,r=this.imageNodeOptions.uploadRequest,o=Yx.service({target:".el-tiptap-upload"}),t.prev=3,t.next=6,r?r(n):Ey(n);case 6:i=t.sent,this.editorContext.commands.image({src:i}),this.imageUploadDialogVisible=!1,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),wm.error(t.t0);case 14:return t.prev=14,this.$nextTick((function(){o.close()})),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[3,11,14,17]])})))}},{key:"imageNodeOptions",get:function(){return this.editorContext.editor.extensions.options.image}}]),n}());Um([pv({type:Object,required:!0})],Qx.prototype,"editorContext",void 0),Um([cv()],Qx.prototype,"et",void 0);const eS=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-popover",{attrs:{disabled:e.et.isCodeViewMode,placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"}},[n("div",{staticClass:"el-tiptap-popper__menu"},[n("div",{staticClass:"el-tiptap-popper__menu__item",on:{click:e.openUrlPrompt}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Image.buttons.insert_image.external")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",on:{click:function(t){e.imageUploadDialogVisible=!0}}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Image.buttons.insert_image.upload")))])])]),e._v(" "),n("command-button",{attrs:{slot:"reference","enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Image.buttons.insert_image.tooltip"),readonly:e.et.isCodeViewMode,icon:"image"},slot:"reference"})],1),e._v(" "),n("el-dialog",{attrs:{title:e.et.t("editor.extensions.Image.control.upload_image.title"),visible:e.imageUploadDialogVisible,"append-to-body":!0},on:{"update:visible":function(t){e.imageUploadDialogVisible=t}}},[n("el-upload",{staticClass:"el-tiptap-upload",attrs:{"http-request":e.uploadImage,"show-file-list":!1,action:"#",drag:"",accept:"image/*"}},[n("div",{staticClass:"el-tiptap-upload__icon"},[n("i",{staticClass:"fa fa-upload"})]),e._v(" "),n("div",{staticClass:"el-tiptap-upload__text"},[e._v("\n        "+e._s(e.et.t("editor.extensions.Image.control.upload_image.button"))+"\n      ")])])],1)],1)},staticRenderFns:[]},void 0,Qx=Um([lv({components:(Zx={},Fm(Zx,Ed().name,Ed()),Fm(Zx,jd().name,jd()),Fm(Zx,zd().name,zd()),Fm(Zx,"CommandButton",rb),Zx)})],Qx),void 0,!1,void 0,!1,void 0,void 0,void 0);var tS,nS=[],rS="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(tS||(tS={}));var oS,iS,sS=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),aS=function(e){return e instanceof SVGElement&&"getBBox"in e},lS=function(e){if(aS(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},cS=function(e){var t,n,r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},uS="undefined"!=typeof window?window:{},dS=new WeakMap,pS=/auto|scroll/,hS=/^tb|vertical/,fS=/msie|trident/i.test(uS.navigator&&uS.navigator.userAgent),mS=function(e){return parseFloat(e||"0")},vS=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),Object.freeze({inlineSize:(n?t:e)||0,blockSize:(n?e:t)||0})},gS=Object.freeze({devicePixelContentBoxSize:vS(),borderBoxSize:vS(),contentBoxSize:vS(),contentRect:new sS(0,0,0,0)}),yS=function(e,t){if(void 0===t&&(t=!1),dS.has(e)&&!t)return dS.get(e);if(lS(e))return dS.set(e,gS),gS;var n=getComputedStyle(e),r=aS(e)&&e.ownerSVGElement&&e.getBBox(),o=!fS&&"border-box"===n.boxSizing,i=hS.test(n.writingMode||""),s=!r&&pS.test(n.overflowY||""),a=!r&&pS.test(n.overflowX||""),l=r?0:mS(n.paddingTop),c=r?0:mS(n.paddingRight),u=r?0:mS(n.paddingBottom),d=r?0:mS(n.paddingLeft),p=r?0:mS(n.borderTopWidth),h=r?0:mS(n.borderRightWidth),f=r?0:mS(n.borderBottomWidth),m=d+c,v=l+u,g=(r?0:mS(n.borderLeftWidth))+h,y=p+f,b=a?e.offsetHeight-y-e.clientHeight:0,w=s?e.offsetWidth-g-e.clientWidth:0,k=o?m+g:0,x=o?v+y:0,S=r?r.width:mS(n.width)-k-w,C=r?r.height:mS(n.height)-x-b,_=S+m+w+g,O=C+v+b+y,M=Object.freeze({devicePixelContentBoxSize:vS(Math.round(S*devicePixelRatio),Math.round(C*devicePixelRatio),i),borderBoxSize:vS(_,O,i),contentBoxSize:vS(S,C,i),contentRect:new sS(d,l,S,C)});return dS.set(e,M),M},bS=function(e,t,n){var r=yS(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case tS.DEVICE_PIXEL_CONTENT_BOX:return s;case tS.BORDER_BOX:return o;default:return i}},wS=function(e){var t=yS(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=[t.borderBoxSize],this.contentBoxSize=[t.contentBoxSize],this.devicePixelContentBoxSize=[t.devicePixelContentBoxSize]},kS=function(e){if(lS(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},xS=function(){var e=1/0,t=[];nS.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new wS(t.target),o=kS(t.target);r.push(n),t.lastReportedSize=bS(t.target,t.observedBox),o<e&&(e=o)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++)(0,r[n])();return e},SS=function(e){nS.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(kS(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},CS=function(){var e=0;for(SS(e);nS.some((function(e){return e.activeTargets.length>0}));)e=xS(),SS(e);return nS.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:rS}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=rS),window.dispatchEvent(e)}(),e>0},_S=[],OS=function(e){if(!oS){var t=0,n=document.createTextNode("");new MutationObserver((function(){return _S.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),oS=function(){n.textContent=""+(t?t--:t++)}}_S.push(e),oS()},MS=0,ES={attributes:!0,characterData:!0,childList:!0,subtree:!0},TS=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],AS=function(e){return void 0===e&&(e=0),Date.now()+e},NS=!1,DS=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!NS){NS=!0;var n,r=AS(e);n=function(){var n=!1;try{n=CS()}finally{if(NS=!1,e=r-AS(),!MS)return;n?t.run(1e3):e>0?t.run(e):t.start()}},OS((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,ES)};document.body?t():uS.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),TS.forEach((function(t){return uS.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),TS.forEach((function(t){return uS.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),RS=function(e){!MS&&e>0&&DS.start(),!(MS+=e)&&DS.stop()},IS=function(){function e(e,t){this.target=e,this.observedBox=t||tS.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=bS(this.target,this.observedBox,!0);return e=this.target,aS(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),PS=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},zS=new WeakMap,$S=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},jS=function(){function e(){}return e.connect=function(e,t){var n=new PS(e,t);zS.set(e,n)},e.observe=function(e,t,n){var r=zS.get(e),o=0===r.observationTargets.length;$S(r.observationTargets,t)<0&&(o&&nS.push(r),r.observationTargets.push(new IS(t,n&&n.box)),RS(1),DS.schedule())},e.unobserve=function(e,t){var n=zS.get(e),r=$S(n.observationTargets,t),o=1===n.observationTargets.length;r>=0&&(o&&nS.splice(nS.indexOf(n),1),n.observationTargets.splice(r,1),RS(-1))},e.disconnect=function(e){var t=this,n=zS.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),FS=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");jS.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!cS(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");jS.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!cS(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");jS.unobserve(this,e)},e.prototype.disconnect=function(){jS.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),BS={};function LS(e){return new Promise((function(t,n){var r={complete:!1,width:0,height:0,src:e};if(e)if(BS[e])t(Object.assign({},BS[e]));else{var o=new Image;o.onload=function(){r.width=o.width,r.height=o.height,r.complete=!0,BS[e]=Object.assign({},r),t(r)},o.onerror=function(){n(r)},o.src=e}else n(r)}))}var VS=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).popoverVisible=!1,e.displayCollection=["inline","block","left","right"],e}return Gf(n,[{key:"hidePopover",value:function(){this.popoverVisible=!1}},{key:"currDisplay",get:function(){return this.node.attrs.display}}]),n}();Um([pv({type:z,required:!0})],VS.prototype,"node",void 0),Um([pv({type:Function,required:!0})],VS.prototype,"updateAttrs",void 0),Um([cv()],VS.prototype,"et",void 0);const qS=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{placement:"top",trigger:"click","popper-class":"el-tiptap-popper"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[n("div",{staticClass:"el-tiptap-popper__menu"},e._l(e.displayCollection,(function(t){return n("div",{key:t,staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--active":t===e.currDisplay},on:{mousedown:e.hidePopover,click:function(n){return e.updateAttrs({display:t})}}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Image.buttons.display."+t)))])])})),0),e._v(" "),n("command-button",{attrs:{slot:"reference","enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Image.buttons.display.tooltip"),icon:"regular/image"},slot:"reference"})],1)},staticRenderFns:[]},void 0,VS=Um([lv({components:(iS={},Fm(iS,zd().name,zd()),Fm(iS,"CommandButton",rb),iS)})],VS),void 0,!1,void 0,!1,void 0,void 0,void 0);var HS,WS=qd(Hd((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=134)}({134:function(e,t,n){n.r(t);var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){for(var e=this.$parent;e&&"ElRow"!==e.$options.componentName;)e=e.$parent;return e?e.gutter:0}},render:function(e){var t=this,n=[],o={};return this.gutter&&(o.paddingLeft=this.gutter/2+"px",o.paddingRight=o.paddingLeft),["span","offset","pull","push"].forEach((function(e){(t[e]||0===t[e])&&n.push("span"!==e?"el-col-"+e+"-"+t[e]:"el-col-"+t[e])})),["xs","sm","md","lg","xl"].forEach((function(e){if("number"==typeof t[e])n.push("el-col-"+e+"-"+t[e]);else if("object"===r(t[e])){var o=t[e];Object.keys(o).forEach((function(t){n.push("span"!==t?"el-col-"+e+"-"+t+"-"+o[t]:"el-col-"+e+"-"+o[t])}))}})),e(this.tag,{class:["el-col",n],style:o},this.$slots.default)},install:function(e){e.component(o.name,o)}};t.default=o}})}))),US=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).editImageDialogVisible=!1,e.imageAttrs=e.getImageAttrs(),e}return Gf(n,[{key:"syncImageAttrs",value:function(){this.imageAttrs=this.getImageAttrs()}},{key:"getImageAttrs",value:function(){return{src:this.node.attrs.src,alt:this.node.attrs.alt,width:this.node.attrs.width,height:this.node.attrs.height}}},{key:"updateImageAttrs",value:function(){var e=this.imageAttrs,t=e.width,n=e.height;t=parseInt(t,10),n=parseInt(n,10),this.updateAttrs({alt:this.imageAttrs.alt,width:t>=0?t:null,height:n>=0?n:null}),this.closeEditImageDialog()}},{key:"openEditImageDialog",value:function(){this.editImageDialogVisible=!0}},{key:"closeEditImageDialog",value:function(){this.editImageDialogVisible=!1}}]),n}();Um([pv({type:z,required:!0})],US.prototype,"node",void 0),Um([pv({type:Function,required:!0})],US.prototype,"updateAttrs",void 0),Um([cv()],US.prototype,"et",void 0);const JS=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("command-button",{attrs:{command:e.openEditImageDialog,"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Image.buttons.image_options.tooltip"),icon:"ellipsis-h"}}),e._v(" "),n("el-dialog",{attrs:{title:e.et.t("editor.extensions.Image.control.edit_image.title"),visible:e.editImageDialogVisible,"append-to-body":!0,width:"400px","custom-class":"el-tiptap-edit-image-dialog"},on:{"update:visible":function(t){e.editImageDialogVisible=t},open:e.syncImageAttrs},scopedSlots:e._u([{key:"footer",fn:function(){return[n("el-button",{attrs:{size:"small",round:""},on:{click:e.closeEditImageDialog}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Image.control.edit_image.cancel"))+"\n      ")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:e.updateImageAttrs}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Image.control.edit_image.confirm"))+"\n      ")])]},proxy:!0}])},[n("el-form",{attrs:{model:e.imageAttrs,"label-position":"top",size:"small"}},[n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Image.control.edit_image.form.src")}},[n("el-input",{attrs:{value:e.imageAttrs.src,autocomplete:"off",disabled:""}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Image.control.edit_image.form.alt")}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.imageAttrs.alt,callback:function(t){e.$set(e.imageAttrs,"alt",t)},expression:"imageAttrs.alt"}})],1),e._v(" "),n("el-form-item",[n("el-col",{attrs:{span:11}},[n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Image.control.edit_image.form.width")}},[n("el-input",{attrs:{type:"number"},model:{value:e.imageAttrs.width,callback:function(t){e.$set(e.imageAttrs,"width",t)},expression:"imageAttrs.width"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:11,push:2}},[n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Image.control.edit_image.form.height")}},[n("el-input",{attrs:{type:"number"},model:{value:e.imageAttrs.height,callback:function(t){e.$set(e.imageAttrs,"height",t)},expression:"imageAttrs.height"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},void 0,US=Um([lv({components:(HS={},Fm(HS,Ed().name,Ed()),Fm(HS,Qk.name,Qk),Fm(HS,Yk.name,Yk),Fm(HS,pb.name,pb),Fm(HS,WS.name,WS),Fm(HS,Cd().name,Cd()),Fm(HS,"CommandButton",rb),HS)})],US),void 0,!1,void 0,!1,void 0,void 0,void 0);var KS=Math.pow(2,16);function GS(e,t){return e+t*KS}function XS(e){return 65535&e}var ZS=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},YS=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};YS.prototype.recover=function(e){var t=0,n=XS(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/KS}(e)},YS.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},YS.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},YS.prototype._map=function(e,t,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>e)break;var l=this.ranges[s+o],c=this.ranges[s+i],u=a+l;if(e<=u){var d=a+r+((l?e==a?-1:e==u?1:t:t)<0?0:c);if(n)return d;var p=e==(t<0?a:u)?null:GS(s/3,e-a);return new ZS(d,t<0?e!=a:e!=u,p)}r+=c-l}return n?e+r:new ZS(e+r)},YS.prototype.touches=function(e,t){for(var n=0,r=XS(t),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>e)break;var l=this.ranges[s+o];if(e<=a+l&&s==3*r)return!0;n+=this.ranges[s+i]-l}return!1},YS.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,a,a+c),o+=c-l}},YS.prototype.invert=function(){return new YS(this.ranges,!this.inverted)},YS.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},YS.offset=function(e){return 0==e?YS.empty:new YS(e<0?[0,-e,0]:[0,0,e])},YS.empty=new YS([]);var QS=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function eC(e){var t=Error.call(this,e);return t.__proto__=eC.prototype,t}QS.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new QS(this.maps,this.mirror,e,t)},QS.prototype.copy=function(){return new QS(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},QS.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},QS.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},QS.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},QS.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},QS.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},QS.prototype.invert=function(){var e=new QS;return e.appendMappingInverted(this),e},QS.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},QS.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},QS.prototype._map=function(e,t,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,e=this.maps[s].recover(i.recover);continue}}i.deleted&&(r=!0),e=i.pos}return n?e:new ZS(e,r)},eC.prototype=Object.create(Error.prototype),eC.prototype.constructor=eC,eC.prototype.name="TransformError";var tC=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new QS},nC={before:{configurable:!0},docChanged:{configurable:!0}};function rC(){throw new Error("Override me")}nC.before.get=function(){return this.docs.length?this.docs[0]:this.doc},tC.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new eC(t.failed);return this},tC.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},nC.docChanged.get=function(){return this.steps.length>0},tC.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(tC.prototype,nC);var oC=Object.create(null),iC=function(){};iC.prototype.apply=function(e){return rC()},iC.prototype.getMap=function(){return YS.empty},iC.prototype.invert=function(e){return rC()},iC.prototype.map=function(e){return rC()},iC.prototype.merge=function(e){return null},iC.prototype.toJSON=function(){return rC()},iC.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=oC[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},iC.jsonID=function(e,t){if(e in oC)throw new RangeError("Duplicate use of step JSON ID "+e);return oC[e]=t,t.prototype.jsonID=e,t};var sC=function(e,t){this.doc=e,this.failed=t};sC.ok=function(e){return new sC(e,null)},sC.fail=function(e){return new sC(null,e)},sC.fromReplace=function(e,t,n,r){try{return sC.ok(e.replace(t,n,r))}catch(e){if(e instanceof v)return sC.fail(e.message);throw e}};var aC=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&cC(e,this.from,this.to)?sC.fail("Structure replace would overwrite content"):sC.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new YS([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?g.empty:new g(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var r=this.slice.size+e.slice.size==0?g.empty:new g(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,g.fromJSON(e,n.slice),!!n.structure)},t}(iC);iC.jsonID("replace",aC);var lC=function(e){function t(t,n,r,o,i,s,a){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(cC(e,this.from,this.gapFrom)||cC(e,this.gapTo,this.to)))return sC.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return sC.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?sC.fromReplace(e,this.from,this.to,n):sC.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new YS([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,g.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(iC);function cC(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function uC(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function dC(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!uC(r,o,i))break}}function pC(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,l=n-2;a>i;a--,l--){var c=o.node(a),u=o.index(a);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(u,c.childCount),p=r&&r[l]||c;if(p!=c&&(d=d.replaceChild(0,p.type.create(p.attrs))),!c.canReplace(u+1,c.childCount)||!p.type.validContent(d))return!1}var h=o.indexAfter(i),f=r&&r[0];return o.node(i).canReplaceWith(h,h,f?f.type:o.node(i+1).type)}function hC(e,t){var n,r,o=e.resolve(t),i=o.index();return n=o.nodeBefore,r=o.nodeAfter,n&&r&&!n.isLeaf&&n.canAppend(r)&&o.parent.canReplace(i,i+1)}function fC(e,t,n){for(var r=[],o=0;o<e.childCount;o++){var i=e.child(o);i.content.size&&(i=i.copy(fC(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return d.fromArray(r)}iC.jsonID("replaceAround",lC),tC.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,o=e.depth,i=n.before(o+1),s=r.after(o+1),a=i,l=s,c=d.empty,u=0,p=o,h=!1;p>t;p--)h||n.index(p)>0?(h=!0,c=d.from(n.node(p).copy(c)),u++):a--;for(var f=d.empty,m=0,v=o,y=!1;v>t;v--)y||r.after(v+1)<r.end(v)?(y=!0,f=d.from(r.node(v).copy(f)),m++):l++;return this.step(new lC(a,l,i,s,new g(c.append(f),u,m),c.size-u,!0))},tC.prototype.wrap=function(e,t){for(var n=d.empty,r=t.length-1;r>=0;r--)n=d.from(t[r].type.create(t[r].attrs,n));var o=e.start,i=e.end;return this.step(new lC(o,i,o,i,new g(n,0,0),t.length,!0))},tC.prototype.setBlockType=function(e,t,n,r){var o=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,r)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(i).map(t),n)){o.clearIncompatible(o.mapping.slice(i).map(t,1),n);var s=o.mapping.slice(i),a=s.map(t,1),l=s.map(t+e.nodeSize,1);return o.step(new lC(a,l,a+1,l-1,new g(d.from(n.create(r,null,e.marks)),0,0),1,!0)),!1}})),this},tC.prototype.setNodeMarkup=function(e,t,n,r){var o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);var i=t.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(e,e+o.nodeSize,i);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new lC(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new g(d.from(i),0,0),1,!0))},tC.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var r=this.doc.resolve(e),o=d.empty,i=d.empty,s=r.depth,a=r.depth-t,l=t-1;s>a;s--,l--){o=d.from(r.node(s).copy(o));var c=n&&n[l];i=d.from(c?c.type.create(c.attrs,i):r.node(s).copy(i))}return this.step(new aC(e,e,new g(o.append(i),t,t),!0))},tC.prototype.join=function(e,t){void 0===t&&(t=1);var n=new aC(e-t,e+t,g.empty,!0);return this.step(n)};var mC=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new g(fC(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),o),n.openStart,n.openEnd);return sC.fromReplace(e,this.from,this.to,i)},t.prototype.invert=function(){return new vC(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(iC);iC.jsonID("addMark",mC);var vC=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=new g(fC(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return sC.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new mC(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(iC);function gC(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}iC.jsonID("removeMark",vC),tC.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(e,t,(function(r,l,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var d=Math.max(l,e),p=Math.min(l+r.nodeSize,t),h=n.addToSet(u),f=0;f<u.length;f++)u[f].isInSet(h)||(s&&s.to==d&&s.mark.eq(u[f])?s.to=p:o.push(s=new vC(d,p,u[f])));a&&a.to==d?a.to=p:i.push(a=new mC(d,p,n))}}})),o.forEach((function(e){return r.step(e)})),i.forEach((function(e){return r.step(e)})),this},tC.prototype.removeMark=function(e,t,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(e,t,(function(r,s){if(r.isInline){i++;var a=null;if(n instanceof oe){var l=n.isInSet(r.marks);l&&(a=[l])}else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var c=Math.min(s+r.nodeSize,t),u=0;u<a.length;u++){for(var d=a[u],p=void 0,h=0;h<o.length;h++){var f=o[h];f.step==i-1&&d.eq(o[h].style)&&(p=f)}p?(p.to=c,p.step=i):o.push({style:d,from:Math.max(s,e),to:c,step:i})}}})),o.forEach((function(e){return r.step(new vC(e.from,e.to,e.style))})),this},tC.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),o=[],i=e+1,s=0;s<r.childCount;s++){var a=r.child(s),l=i+a.nodeSize,c=n.matchType(a.type,a.attrs);if(c){n=c;for(var u=0;u<a.marks.length;u++)t.allowsMarkType(a.marks[u].type)||this.step(new vC(i,l,a.marks[u]))}else o.push(new aC(i,l,g.empty));i=l}if(!n.validEnd){var p=n.fillBefore(d.empty,!0);this.replace(i,i,new g(p,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this},tC.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=g.empty);var r=function(e,t,n,r){if(void 0===n&&(n=t),void 0===r&&(r=g.empty),t==n&&!r.size)return null;var o=e.resolve(t),i=e.resolve(n);return gC(o,i,r)?new aC(t,n,r):new yC(o,i,r).fit()}(this.doc,e,t,n);return r&&this.step(r),this},tC.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new g(d.from(n),0,0))},tC.prototype.delete=function(e,t){return this.replace(e,t,g.empty)},tC.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var yC=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var r=0;r<=e.depth;r++){var o=e.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(r))})}this.placed=d.empty;for(var i=e.depth;i>0;i--)this.placed=d.from(e.node(i).copy(this.placed))},bC={depth:{configurable:!0}};function wC(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(wC(e.firstChild.content,t-1,n)))}function kC(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(kC(e.lastChild.content,t-1,n)))}function xC(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function SC(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,SC(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(d.empty,!0)))),e.copy(r)}function CC(e,t,n,r,o){var i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,s)?a:null}function _C(e,t,n,r,o){if(t<n){var i=e.firstChild;e=e.replaceChild(0,i.copy(_C(i.content,t+1,n,r,i)))}if(t>r){var s=o.contentMatchAt(0),a=s.fillBefore(e).append(e);e=a.append(s.matchFragment(a).fillBefore(d.empty,!0))}return e}function OC(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}function MC(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function EC(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function TC(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function AC(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function NC(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function DC(e,t){return t&&t(e.tr.setSelection(new qt(e.doc))),!0}function RC(e,t,n){var r,o,i=t.nodeBefore,s=t.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!hC(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){for(var a=t.pos+s.nodeSize,l=d.empty,c=r.length-1;c>=0;c--)l=d.from(r[c].create(null,l));l=d.from(i.copy(l));var u=e.tr.step(new lC(t.pos-1,a,t.pos,a,new g(l,1,0),r.length,!0)),p=a+2*r.length;hC(u.doc,p)&&u.join(p),n(u.scrollIntoView())}return!0}var h=Pt.findFrom(t,1),f=h&&h.$from.blockRange(h.$to),m=f&&dC(f);return null!=m&&m>=t.depth&&(n&&n(e.tr.lift(f,m).scrollIntoView()),!0)}function IC(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}bC.depth.get=function(){return this.frontier.length-1},yC.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;for(var i=this.placed,s=r.depth,a=o.depth;s&&a&&1==i.childCount;)i=i.firstChild.content,s--,a--;var l=new g(i,s,a);return t>-1?new lC(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new aC(r.pos,o.pos,l):void 0},yC.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,r=(t?(n=xC(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var i=this.frontier[o],s=i.type,a=i.match,l=void 0,c=void 0;if(1==e&&(r?a.matchType(r.type)||(c=a.fillBefore(d.from(r),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:o,parent:n,inject:c};if(2==e&&r&&(l=a.findWrapping(r.type)))return{sliceDepth:t,frontierDepth:o,parent:n,wrap:l};if(n&&a.matchType(n.type))break}},yC.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=xC(t,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new g(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)},yC.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=xC(t,n);if(o.childCount<=1&&n>0){var i=t.size-n<=n+o.size;this.unplaced=new g(wC(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new g(wC(t,n,1),n,r)},yC.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,o=e.inject,i=e.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var s=0;s<i.length;s++)this.openFrontierNode(i[s]);var a=this.unplaced,l=r?r.content:a.content,c=a.openStart-t,u=0,p=[],h=this.frontier[n],f=h.match,m=h.type;if(o){for(var v=0;v<o.childCount;v++)p.push(o.child(v));f=f.matchFragment(o)}for(var y=l.size+t-(a.content.size-a.openEnd);u<l.childCount;){var b=l.child(u),w=f.matchType(b.type);if(!w)break;(++u>1||0==c||b.content.size)&&(f=w,p.push(SC(b.mark(m.allowedMarks(b.marks)),1==u?c:0,u==l.childCount?y:-1)))}var k=u==l.childCount;k||(y=-1),k&&y<0&&r&&r.type==this.frontier[this.depth].type?this.closeFrontierNode():this.frontier[n].match=f;for(var x=0,S=l;x<y;x++){var C=S.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),S=C.content}this.unplaced=k?0==t?g.empty:new g(wC(a.content,t-1,1),t-1,y<0?a.openEnd:t-1):new g(wC(a.content,t,u),a.openStart,a.openEnd),this.placed=kC(this.placed,n,d.from(p))},yC.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!CC(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},yC.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=CC(e,t,o,r,i);if(s){for(var a=t-1;a>=0;a--){var l=this.frontier[a],c=l.match,u=CC(e,a,l.type,c,!0);if(!u||u.childCount)continue e}return{depth:t,fit:s,move:i?e.doc.resolve(e.after(t+1)):e}}}},yC.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=kC(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},yC.prototype.openFrontierNode=function(e,t,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=kC(this.placed,this.depth,d.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},yC.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(d.empty,!0);e.childCount&&(this.placed=kC(this.placed,this.frontier.length,e))},Object.defineProperties(yC.prototype,bC),tC.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),o=this.doc.resolve(t);if(gC(r,o,n))return this.step(new aC(e,t,n));var i=OC(r,this.doc.resolve(t));0==i[i.length-1]&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,l=r.pos-1;a>0;a--,l--){var c=r.node(a).type.spec;if(c.defining||c.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==l&&i.splice(1,0,-a)}for(var u=i.indexOf(s),d=[],p=n.openStart,h=n.content,f=0;;f++){var m=h.firstChild;if(d.push(m),f==n.openStart)break;h=m.content}p>0&&d[p-1].type.spec.defining&&r.node(u).type!=d[p-1].type?p-=1:p>=2&&d[p-1].isTextblock&&d[p-2].type.spec.defining&&r.node(u).type!=d[p-2].type&&(p-=2);for(var v=n.openStart;v>=0;v--){var y=(v+p+1)%(n.openStart+1),b=d[y];if(b)for(var w=0;w<i.length;w++){var k=i[(w+u)%i.length],x=!0;k<0&&(x=!1,k=-k);var S=r.node(k-1),C=r.index(k-1);if(S.canReplaceWith(C,C,b.type,b.marks))return this.replace(r.before(k),x?o.after(k):t,new g(_C(n.content,0,n.openStart,y),y,n.openEnd))}}for(var _=this.steps.length,O=i.length-1;O>=0&&(this.replace(e,t,n),!(this.steps.length>_));O--){var M=i[O];O<0||(e=r.before(M),t=o.after(M))}return this},tC.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=function(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,e,n.type);null!=r&&(e=t=r)}return this.replaceRange(e,t,new g(d.from(n),0,0))},tC.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=OC(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&r.end(l)-t!=r.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)};var PC=IC(MC,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var o=TC(r);if(!o){var i=r.blockRange(),s=i&&dC(i);return null!=s&&(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)}var a=o.nodeBefore;if(!a.type.spec.isolating&&RC(e,o,t))return!0;if(0==r.parent.content.size&&(EC(a,"end")||Lt.isSelectable(a))){if(t){var l=e.tr.deleteRange(r.before(),r.after());l.setSelection(EC(a,"end")?Pt.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Lt.create(l.doc,o.pos-a.nodeSize)),t(l.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=TC(o)}var s=i&&i.nodeBefore;return!(!s||!Lt.isSelectable(s))&&(t&&t(e.tr.setSelection(Lt.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)})),zC=IC(MC,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=AC(r);if(!o)return!1;var i=o.nodeAfter;if(RC(e,o,t))return!0;if(0==r.parent.content.size&&(EC(i,"start")||Lt.isSelectable(i))){if(t){var s=e.tr.deleteRange(r.before(),r.after());s.setSelection(EC(i,"start")?Pt.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):Lt.create(s.doc,s.mapping.map(o.pos))),t(s.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=AC(o)}var s=i&&i.nodeAfter;return!(!s||!Lt.isSelectable(s))&&(t&&t(e.tr.setSelection(Lt.create(e.doc,i.pos)).scrollIntoView()),!0)})),$C={Enter:IC((function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),(function(e,t){var n=e.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=NC(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=e.tr.insert(s,i.createAndFill());a.setSelection(Ft.create(a.doc,s+1)),t(a.scrollIntoView())}return!0}),(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(pC(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&dC(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)}),(function(e,t){var n=e.selection,r=n.$from,o=n.$to;if(e.selection instanceof Lt&&e.selection.node.isBlock)return!(!r.parentOffset||!pC(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var i=o.parentOffset==o.parent.content.size,s=e.tr;e.selection instanceof Ft&&s.deleteSelection();var a=0==r.depth?null:NC(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=i&&a?[{type:a}]:null,c=pC(s.doc,s.mapping.map(r.pos),1,l);l||c||!pC(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(l=[{type:a}],c=!0),c&&(s.split(s.mapping.map(r.pos),1,l),i||r.parentOffset||r.parent.type==a||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),d.from(a.create(),r.parent))||s.setNodeMarkup(s.mapping.map(r.before()),a)),t(s.scrollIntoView())}return!0})),"Mod-Enter":function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),a=NC(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(t){var l=r.after(),c=e.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Pt.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0},Backspace:PC,"Mod-Backspace":PC,Delete:zC,"Mod-Delete":zC,"Mod-a":DC},jC={"Ctrl-h":$C.Backspace,"Alt-Backspace":$C["Mod-Backspace"],"Ctrl-d":$C.Delete,"Ctrl-Alt-Backspace":$C["Mod-Delete"],"Alt-Delete":$C["Mod-Delete"],"Alt-d":$C["Mod-Delete"]};for(var FC in $C)jC[FC]=$C[FC];"undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&os.platform();var BC=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"removeImage",value:function(){var e=this.view;MC(e.state,e.dispatch)}}]),n}();Um([pv({type:Object,required:!0})],BC.prototype,"view",void 0),Um([cv()],BC.prototype,"et",void 0);const LC=Py({render:function(){var e=this.$createElement;return(this._self._c||e)("command-button",{attrs:{command:this.removeImage,"enable-tooltip":this.et.tooltip,tooltip:this.et.t("editor.extensions.Image.buttons.remove_image.tooltip"),icon:"regular/trash-alt"}})},staticRenderFns:[]},void 0,BC=Um([lv({components:{CommandButton:rb}})],BC),void 0,!1,void 0,!1,void 0,void 0,void 0);var VC=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return n}();Um([pv({type:z,required:!0})],VC.prototype,"node",void 0),Um([pv({type:Object,required:!0})],VC.prototype,"view",void 0),Um([pv({type:Function,required:!0})],VC.prototype,"updateAttrs",void 0);const qC=Py({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"image-bubble-menu"},[t("image-display-command-button",{attrs:{node:this.node,"update-attrs":this.updateAttrs}}),this._v(" "),t("edit-image-command-button",{attrs:{node:this.node,"update-attrs":this.updateAttrs}}),this._v(" "),t("remove-image-command-button",{attrs:{view:this.view}})],1)},staticRenderFns:[]},void 0,VC=Um([lv({components:{ImageDisplayCommandButton:qS,EditImageCommandButton:JS,RemoveImageCommandButton:LC}})],VC),void 0,!1,void 0,!1,void 0,void 0,void 0);var HC,WC=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).maxSize={width:1e5,height:1e5},e.originalSize={width:0,height:0},e.resizeOb=new FS((function(){e.getMaxSize()})),e.resizeDirections=["tl","tr","bl","br"],e.resizing=!1,e.resizerState={x:0,y:0,w:0,h:0,dir:""},e}return Gf(n,[{key:"created",value:function(){return Jm(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LS(this.src);case 2:(t=e.sent).complete||(t.width=20,t.height=20),this.originalSize={width:t.width,height:t.height};case 5:case"end":return e.stop()}}),e,this)})))}},{key:"mounted",value:function(){this.resizeOb.observe(this.view.dom)}},{key:"beforeDestroy",value:function(){this.resizeOb.disconnect()}},{key:"selectImage",value:function(){var e=this.view.state,t=e.tr,n=Lt.create(e.doc,this.getPos());t=t.setSelection(n),this.view.dispatch(t)}},{key:"getMaxSize",value:function(){var e=getComputedStyle(this.view.dom).width;this.maxSize.width=parseInt(e,10)}},{key:"onMouseDown",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.resizerState.x=e.clientX,this.resizerState.y=e.clientY;var n=this.originalSize.width,r=n/this.originalSize.height,o=this.node.attrs,i=o.width,s=o.height,a=this.maxSize.width;i&&!s?(i=i>a?a:i,s=Math.round(i/r)):s&&!i?i=(i=Math.round(s*r))>a?a:i:i||s?i=i>a?a:i:(i=n>a?a:n,s=Math.round(i/r)),this.resizerState.w=i,this.resizerState.h=s,this.resizerState.dir=t,this.resizing=!0,this.onEvents()}},{key:"onMouseMove",value:function(e){if(e.preventDefault(),e.stopPropagation(),this.resizing){var t=this.resizerState,n=t.x,r=t.y,o=t.w,i=t.h,s=t.dir,a=(e.clientX-n)*(/l/.test(s)?-1:1),l=(e.clientY-r)*(/t/.test(s)?-1:1);this.updateAttrs({width:My(o+a,20,this.maxSize.width),height:Math.max(i+l,20)})}}},{key:"onMouseUp",value:function(e){e.preventDefault(),e.stopPropagation(),this.resizing&&(this.resizing=!1,this.resizerState={x:0,y:0,w:0,h:0,dir:""},this.offEvents(),this.selectImage())}},{key:"onEvents",value:function(){document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("mouseup",this.onMouseUp,!0)}},{key:"offEvents",value:function(){document.removeEventListener("mousemove",this.onMouseMove,!0),document.removeEventListener("mouseup",this.onMouseUp,!0)}},{key:"src",get:function(){return this.node.attrs.src}},{key:"width",get:function(){return this.node.attrs.width}},{key:"height",get:function(){return this.node.attrs.height}},{key:"display",get:function(){return this.node.attrs.display}},{key:"imageViewClass",get:function(){return["image-view","image-view--".concat(this.display)]}}]),n}();Um([pv({type:z,required:!0})],WC.prototype,"node",void 0),Um([pv({type:Object,required:!0})],WC.prototype,"view",void 0),Um([pv({type:Function,required:!0})],WC.prototype,"getPos",void 0),Um([pv({type:Function,required:!0})],WC.prototype,"updateAttrs",void 0),Um([pv({type:Boolean,required:!0})],WC.prototype,"selected",void 0);const UC=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:e.imageViewClass},[n("div",{staticClass:"image-view__body",class:{"image-view__body--focused":e.selected,"image-view__body--resizing":e.resizing}},[n("img",{staticClass:"image-view__body__image",attrs:{src:e.src,title:e.node.attrs.title,alt:e.node.attrs.alt,width:e.width,height:e.height},on:{click:e.selectImage}}),e._v(" "),e.view.editable?n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected||e.resizing,expression:"selected || resizing"}],staticClass:"image-resizer"},e._l(e.resizeDirections,(function(t){return n("span",{key:t,staticClass:"image-resizer__handler",class:"image-resizer__handler--"+t,on:{mousedown:function(n){return e.onMouseDown(n,t)}}})})),0):e._e(),e._v(" "),n("el-popover",{attrs:{value:e.selected,"visible-arrow":!1,placement:"top",trigger:"manual","popper-class":"el-tiptap-image-popper"}},[n("image-bubble-menu",{attrs:{node:e.node,view:e.view,"update-attrs":e.updateAttrs}}),e._v(" "),n("div",{staticClass:"image-view__body__placeholder",attrs:{slot:"reference"},slot:"reference"})],1)],1)])},staticRenderFns:[]},void 0,WC=Um([lv({components:(HC={},Fm(HC,zd().name,zd()),Fm(HC,"ImageBubbleMenu",qC),HC)})],WC),void 0,!1,void 0,!1,void 0,void 0,void 0);function JC(e){var t=e.style,n=t.cssFloat,r=t.display,o=e.style,i=o.width,s=o.height,a=e.getAttribute("data-display")||e.getAttribute("display");return a=a?/(inline|block|left|right)/.test(a)?a:"inline":"left"!==n||r?"right"!==n||r?n||"block"!==r?"inline":"block":"right":"left",i=i||e.getAttribute("width")||null,s=s||e.getAttribute("height")||null,{src:e.getAttribute("src")||"",title:e.getAttribute("title")||"",alt:e.getAttribute("alt")||"",width:null==i?null:parseInt(i,10),height:null==s?null:parseInt(s,10),display:a}}function KC(e){var t=e.attrs,n=t.src,r=t.alt,o=t.title,i=t.width,s=t.height,a=t.display,l={src:n,alt:r,title:o,width:i,height:s};return l["data-display"]=a,["img",l]}var GC=function(e){Lm(n,td);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){return{component:eS,componentProps:{editorContext:e}}}},{key:"defaultOptions",get:function(){return{defaultWidth:200,defaultDisplay:"inline",urlPattern:bm,uploadRequest:null}}},{key:"schema",get:function(){return{inline:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""},width:{default:this.imageDefaultWidth>0?this.imageDefaultWidth:200},height:{default:null},display:{default:/(inline|block|left|right)/.test(this.defaultDisplay)?this.defaultDisplay:"inline"}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:JC}],toDOM:KC}}},{key:"view",get:function(){return UC}}]),n}(),XC=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"done",get:function(){return this.node.attrs.done},set:function(e){this.updateAttrs({done:e})}},{key:"todoItemStyle",get:function(){return{lineHeight:wx(this.node.attrs.lineHeight)}}}]),n}();Um([pv({type:z,required:!0})],XC.prototype,"node",void 0),Um([pv({type:Object,required:!0})],XC.prototype,"view",void 0),Um([pv({type:Function,required:!0})],XC.prototype,"updateAttrs",void 0);const ZC=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"todo-item",class:{"todo-item--done":e.done},style:e.todoItemStyle,attrs:{"data-type":e.node.type.name,"data-done":e.done.toString(),"data-text-align":e.node.attrs.textAlign,"data-drag-handle":""}},[n("span",{attrs:{contenteditable:"false"}},[n("el-checkbox",{model:{value:e.done,callback:function(t){e.done=t},expression:"done"}})],1),e._v(" "),n("div",{ref:"content",staticClass:"todo-content",attrs:{contenteditable:e.view.editable.toString()}})])},staticRenderFns:[]},void 0,XC=Um([lv({components:Fm({},Od().name,Od())})],XC),void 0,!1,void 0,!1,void 0,void 0,void 0);function YC(e){var t=e.style,n=t.textAlign,r=t.lineHeight,o=e.getAttribute("data-text-align")||n||"";return{textAlign:(o=ym.test(o)?o:"")||null,lineHeight:(r=r&&r!==wx(1.7)?r:"")||null,done:"true"===e.getAttribute("data-done")}}function QC(e){var t=e.attrs,n=t.done,r=t.textAlign,o=t.lineHeight,i="",s={"data-type":"todo_item"};if(s["data-done"]=n.toString(),r&&"left"!==r&&(i+="text-align: ".concat(r)),o){var a=wx(o);i+="line-height: ".concat(a,";")}return i&&(s.style=i),["li",Object.assign(Object.assign({},s),{class:"todo-item ".concat(n?"todo-item--done":"")}),["span",{contenteditable:"false"},["span",{class:"el-checkbox ".concat(n?"is-checked":""),style:"pointer-events: none;"},["span",{class:"el-checkbox__input ".concat(n?"is-checked":"")},["span",{class:"el-checkbox__inner"}]]]],["div",{class:"todo-content"},0]]}var e_=function(e){Lm(n,cd);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"schema",get:function(){return{attrs:{done:{default:!1},textAlign:{default:null},lineHeight:{default:null}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]'),getAttrs:YC}],toDOM:QC}}},{key:"view",get:function(){return ZC}}]),n}(),t_=function(e){Lm(n,ud);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:rb,componentProps:{isActive:t.todo_list(),command:n.todo_list,icon:"tasks",tooltip:r("editor.extensions.TodoList.tooltip")}}}},{key:"schema",get:function(){var e=this;return{group:"block",content:"todo_item+",parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]'),getAttrs:function(){return{"data-type":e.name}}}],toDOM:function(){var t={};return t["data-type"]=e.name,["ul",t,0]}}}}]),n}();function n_(e){var t=e.selection,n=e.doc,r=t.from,o=t.to,i=!0,s=!1;return n.nodesBetween(r,o,(function(e){var t=e.type.name;return!i||"table"!==t&&"table_row"!==t&&"table_column"!==t&&"table_cell"!==t||(i=!1,s=!0),i})),s}var r_=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).popoverVisible=!1,e.tableGridSize={row:5,col:5},e.selectedTableGridSize={row:2,col:2},e}return Gf(n,[{key:"selectTableGridSize",value:function(e,t){e===this.tableGridSize.row&&(this.tableGridSize.row=Math.min(e+1,10)),t===this.tableGridSize.col&&(this.tableGridSize.col=Math.min(t+1,10)),this.selectedTableGridSize.row=e,this.selectedTableGridSize.col=t}},{key:"onMouseDown",value:function(e,t){return this.popoverVisible=!1,{row:e,col:t}}},{key:"resetTableGridSize",value:function(){this.tableGridSize={row:5,col:5},this.selectedTableGridSize={row:2,col:2}}}]),n}();Um([cv()],r_.prototype,"et",void 0),Um([mv("createTable")],r_.prototype,"onMouseDown",null);const o_=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{placement:"right",trigger:"hover","popper-class":"el-tiptap-popper"},on:{"after-leave":e.resetTableGridSize},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[n("div",{staticClass:"table-grid-size-editor"},[n("div",{staticClass:"table-grid-size-editor__body"},e._l(e.tableGridSize.row,(function(t){return n("div",{key:"r"+t,staticClass:"table-grid-size-editor__row"},e._l(e.tableGridSize.col,(function(r){return n("div",{key:"c"+r,staticClass:"table-grid-size-editor__cell",class:{"table-grid-size-editor__cell--selected":r<=e.selectedTableGridSize.col&&t<=e.selectedTableGridSize.row},on:{mouseover:function(n){return e.selectTableGridSize(t,r)},mousedown:function(n){return e.onMouseDown(t,r)}}},[n("div",{staticClass:"table-grid-size-editor__cell__inner"})])})),0)})),0),e._v(" "),n("div",{staticClass:"table-grid-size-editor__footer"},[e._v("\n      "+e._s(e.selectedTableGridSize.row)+" X "+e._s(e.selectedTableGridSize.col)+"\n    ")])]),e._v(" "),n("div",{attrs:{slot:"reference"},on:{mouseover:function(t){e.popoverVisible=!0}},slot:"reference"},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.insert_table")))])])])},staticRenderFns:[]},void 0,r_=Um([lv({components:Fm({},zd().name,zd())})],r_),void 0,!1,void 0,!1,void 0,void 0,void 0);var i_,s_=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).popoverVisible=!1,e}return Gf(n,[{key:"hidePopover",value:function(){this.popoverVisible=!1}},{key:"createTable",value:function(e){var t=e.row,n=e.col;this.editorContext.commands.createTable({rowsCount:t,colsCount:n,withHeaderRow:!0}),this.hidePopover()}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"isTableActive",get:function(){return n_(this.editor.state)}},{key:"enableMergeCells",get:function(){return n_(e=this.editor.state)&&(0,Ld.mergeCells)(e);var e}},{key:"enableSplitCell",get:function(){return n_(e=this.editor.state)&&(0,Ld.splitCell)(e);var e}}]),n}();Um([pv({type:Object,required:!0})],s_.prototype,"editorContext",void 0),Um([cv()],s_.prototype,"et",void 0);const a_=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{disabled:e.et.isCodeViewMode,placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[n("div",{staticClass:"el-tiptap-popper__menu"},[n("div",{staticClass:"el-tiptap-popper__menu__item"},[n("create-table-popover",{on:{createTable:e.createTable}})],1),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.addColumnBefore}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.add_column_before")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.addColumnAfter}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.add_column_after")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.deleteColumn}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.delete_column")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.addRowBefore}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.add_row_before")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.addRowAfter}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.add_row_after")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.deleteRow}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.delete_row")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.enableMergeCells},on:{mousedown:e.hidePopover,click:e.editorContext.commands.mergeCells}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.merge_cells")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.enableSplitCell},on:{mousedown:e.hidePopover,click:e.editorContext.commands.splitCell}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.split_cell")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.deleteTable}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.delete_table")))])])]),e._v(" "),n("command-button",{attrs:{slot:"reference","is-active":e.isTableActive,"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Table.tooltip"),readonly:e.et.isCodeViewMode,icon:"table"},slot:"reference"})],1)},staticRenderFns:[]},void 0,s_=Um([lv({components:(i_={},Fm(i_,zd().name,zd()),Fm(i_,"CommandButton",rb),Fm(i_,"CreateTablePopover",o_),i_)})],s_),void 0,!1,void 0,!1,void 0,void 0,void 0);var l_=function(e){Lm(n,id);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){return{component:a_,componentProps:{editorContext:e}}}}]),n}(),c_=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"openInsertVideoControl",value:function(){var e=this;Bd().prompt("",this.et.t("editor.extensions.Iframe.control.title"),{confirmButtonText:this.et.t("editor.extensions.Iframe.control.confirm"),cancelButtonText:this.et.t("editor.extensions.Iframe.control.cancel"),inputPlaceholder:this.et.t("editor.extensions.Iframe.control.placeholder"),roundButton:!0}).then((function(t){var n=t.value;e.editorContext.commands.iframe({src:n})})).catch((function(){}))}}]),n}();Um([pv({type:Object,required:!0})],c_.prototype,"editorContext",void 0),Um([cv()],c_.prototype,"et",void 0);const u_=Py({render:function(){var e=this.$createElement;return(this._self._c||e)("command-button",{attrs:{command:this.openInsertVideoControl,"enable-tooltip":this.et.tooltip,tooltip:this.et.t("editor.extensions.Iframe.tooltip"),readonly:this.et.isCodeViewMode,icon:"video"}})},staticRenderFns:[]},void 0,c_=Um([lv({components:{CommandButton:rb}})],c_),void 0,!1,void 0,!1,void 0,void 0,void 0);var d_=function(e){Lm(n,hl);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"commands",value:function(e){var t=e.type;return function(e){return function(n,r){var o=n.selection,i=o.$cursor?o.$cursor.pos:o.$to.pos,s=t.create(e);r(n.tr.insert(i,s))}}}},{key:"menuBtnView",value:function(e){return{component:u_,componentProps:{editorContext:e}}}},{key:"name",get:function(){return"iframe"}},{key:"schema",get:function(){return{attrs:{src:{default:null}},group:"block",selectable:!1,parseDOM:[{tag:"iframe",getAttrs:function(e){return{src:e.getAttribute("src")}}}],toDOM:function(e){return["iframe",{src:e.attrs.src,frameborder:0,allowfullscreen:"true"}]}}}},{key:"view",get:function(){return{props:["node","updateAttrs","view"],computed:{src:{get:function(){return this.node.attrs.src},set:function(e){this.updateAttrs({src:e})}}},template:'\n        <div class="iframe">\n          <iframe class="iframe__embed" :src="src"></iframe>\n        </div>\n      '}}}]),n}();kh({target:"String",proto:!0,forced:Vy("bold")},{bold:function(){return Ly(this,"b","","")}});var p_=function(e){Lm(n,dd);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:rb,componentProps:{command:n.bold,isActive:t.bold(),icon:"bold",tooltip:r("editor.extensions.Bold.tooltip")}}}}]),n}(),h_=function(e){Lm(n,vd);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:rb,componentProps:{command:n.underline,isActive:t.underline(),icon:"underline",tooltip:r("editor.extensions.Underline.tooltip")}}}}]),n}(),f_=function(e){Lm(n,hd);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:rb,componentProps:{command:n.italic,isActive:t.italic(),icon:"italic",tooltip:r("editor.extensions.Italic.tooltip")}}}}]),n}();kh({target:"String",proto:!0,forced:Vy("strike")},{strike:function(){return Ly(this,"strike","","")}});var m_,v_=function(e){Lm(n,md);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:rb,componentProps:{command:n.strike,isActive:t.strike(),icon:"strikethrough",tooltip:r("editor.extensions.Strike.tooltip")}}}}]),n}(),g_=Ev.trim;kh({target:"String",proto:!0,forced:function(e){return Kd((function(){return!!Sv[e]()||"​᠎"!="​᠎"[e]()||Sv[e].name!==e}))}("trim")},{trim:function(){return g_(this)}});var y_=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).linkAttrs={},e.addLinkDialogVisible=!1,e}return Gf(n,[{key:"onDialogVisibleChange",value:function(){this.linkAttrs={href:"",openInNewTab:!0}}},{key:"addLink",value:function(){this.editorContext.commands.link(this.linkAttrs),this.closeAddLinkDialog()}},{key:"openAddLinkDialog",value:function(){this.addLinkDialogVisible=!0}},{key:"closeAddLinkDialog",value:function(){this.addLinkDialogVisible=!1}}]),n}();Um([pv({type:Object,required:!0})],y_.prototype,"editorContext",void 0),Um([cv()],y_.prototype,"et",void 0),Um([hv("addLinkDialogVisible",{immediate:!0})],y_.prototype,"onDialogVisibleChange",null);const b_=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("command-button",{attrs:{"is-active":e.editorContext.isActive.link(),readonly:e.et.isCodeViewMode,command:e.openAddLinkDialog,"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Link.add.tooltip"),icon:"link"}}),e._v(" "),n("el-dialog",{attrs:{title:e.et.t("editor.extensions.Link.add.control.title"),visible:e.addLinkDialogVisible,"append-to-body":!0,width:"400px","custom-class":"el-tiptap-edit-link-dialog"},on:{"update:visible":function(t){e.addLinkDialogVisible=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[n("el-button",{attrs:{size:"small",round:""},on:{click:e.closeAddLinkDialog}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Link.add.control.cancel"))+"\n      ")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small",round:""},on:{mousedown:function(e){e.preventDefault()},click:e.addLink}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Link.add.control.confirm"))+"\n      ")])]},proxy:!0}])},[n("el-form",{attrs:{model:e.linkAttrs,"label-position":"right",size:"small"}},[n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Link.add.control.href"),prop:"href"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.linkAttrs.href,callback:function(t){e.$set(e.linkAttrs,"href",t)},expression:"linkAttrs.href"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"openInNewTab"}},[n("el-checkbox",{model:{value:e.linkAttrs.openInNewTab,callback:function(t){e.$set(e.linkAttrs,"openInNewTab",t)},expression:"linkAttrs.openInNewTab"}},[e._v("\n          "+e._s(e.et.t("editor.extensions.Link.add.control.open_in_new_tab"))+"\n        ")])],1)],1)],1)],1)},staticRenderFns:[]},void 0,y_=Um([lv({components:(m_={},Fm(m_,Ed().name,Ed()),Fm(m_,Qk.name,Qk),Fm(m_,Yk.name,Yk),Fm(m_,pb.name,pb),Fm(m_,Od().name,Od()),Fm(m_,Cd().name,Cd()),Fm(m_,"CommandButton",rb),m_)})],y_),void 0,!1,void 0,!1,void 0,void 0,void 0);function w_(e){return{href:e.getAttribute("href"),openInNewTab:"_blank"===e.getAttribute("target")}}function k_(e){var t=e.attrs,n=t.href,r=t.openInNewTab,o={};o.href=n;var i="nofollow";return r&&(o.target="_blank",i+=" noopener noreferrer"),o.ref=i.trim(),["a",o,0]}var x_=function(e){Lm(n,fd);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){return{component:b_,componentProps:{editorContext:e}}}},{key:"schema",get:function(){return{attrs:{href:{default:null},openInNewTab:{default:!0}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:w_}],toDOM:k_}}},{key:"plugins",get:function(){return[new rn({props:{handleClick:function(e,t){var n=e.state,r=n.schema,o=n.doc,i=n.tr,s=tb(o.resolve(t),r.marks.link);if(!s)return!1;var a=o.resolve(s.from),l=o.resolve(s.to),c=i.setSelection(new Ft(a,l));return e.dispatch(c),!0}}})]}}]),n}();function S_(e,t,n){if(!e.selection||!e.doc||!t)return e;var r=e.selection,o=r.empty,i=r.$cursor,s=r.ranges;if(o&&!i||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,s=o.$to,a=0===i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,s.pos,(function(e){return!a&&(a=e.inlineContent&&e.type.allowsMarkType(n),!0)})),a)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if("object"===qm(i))return i.v}return!1}(e.doc,s,t))return e;if(i)return e=e.removeStoredMark(t),n?e.addStoredMark(t.create(n)):e;for(var a=!1,l=0;!a&&l<s.length;l++){var c=s[l],u=c.$from,d=c.$to;a=e.doc.rangeHasMark(u.pos,d.pos,t)}for(var p=0;p<s.length;p++){var h=s[p],f=h.$from,m=h.$to;a&&(e=e.removeMark(f.pos,m.pos,t)),n&&(e=e.addMark(f.pos,m.pos,t.create(n)))}return e}var C_,__=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#000000"];function O_(e){return/#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})\b/gi.test(e)}var M_=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).color="",e.popoverVisible=!1,e}return Gf(n,[{key:"onSelectedColorChange",value:function(e){this.color=e}},{key:"confirmColor",value:function(e){return this.popoverVisible=!1,e}}]),n}();Um([pv({type:Array,default:function(){return[]}})],M_.prototype,"colorSet",void 0),Um([pv({type:String,default:""})],M_.prototype,"selectedColor",void 0),Um([pv({type:String,required:!0})],M_.prototype,"tooltip",void 0),Um([pv({type:String,required:!0})],M_.prototype,"icon",void 0),Um([pv({type:String,default:"OK"})],M_.prototype,"confirmText",void 0),Um([cv()],M_.prototype,"et",void 0),Um([hv("selectedColor",{immediate:!0})],M_.prototype,"onSelectedColorChange",null),Um([mv("confirm")],M_.prototype,"confirmColor",null);const E_=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{disabled:e.et.isCodeViewMode,placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[n("div",{staticClass:"color-set"},[e._l(e.colorSet,(function(t){return n("div",{key:t,staticClass:"color__wrapper"},[n("div",{staticClass:"color",class:{"color--selected":e.selectedColor===t},style:{"background-color":t},on:{mousedown:function(e){e.preventDefault()},click:function(n){return n.stopPropagation(),e.confirmColor(t)}}})])})),e._v(" "),n("div",{staticClass:"color__wrapper"},[n("div",{staticClass:"color color--remove",on:{mousedown:function(e){e.preventDefault()},click:function(t){return t.stopPropagation(),e.confirmColor("")}}})])],2),e._v(" "),n("div",{staticClass:"color-hex"},[n("el-input",{staticClass:"color-hex__input",attrs:{placeholder:"HEX",autofocus:"true",maxlength:"7",size:"small"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),e._v(" "),n("el-button",{staticClass:"color-hex__button",attrs:{type:"text",size:"small"},on:{click:function(t){return e.confirmColor(e.color)}}},[e._v("\n      "+e._s(e.confirmText)+"\n    ")])],1),e._v(" "),n("command-button",{attrs:{slot:"reference","enable-tooltip":e.et.tooltip,tooltip:e.tooltip,icon:e.icon,readonly:e.et.isCodeViewMode},slot:"reference"})],1)},staticRenderFns:[]},void 0,M_=Um([lv({components:(C_={},Fm(C_,Cd().name,Cd()),Fm(C_,zd().name,zd()),Fm(C_,pb.name,pb),Fm(C_,"CommandButton",rb),C_)})],M_),void 0,!1,void 0,!1,void 0,void 0,void 0);var T_=function(e){Lm(n,dl);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"commands",value:function(){return function(e){return function(t,n){if(void 0!==e){var r=t.schema,o=t.tr,i=r.marks.text_color,s=e&&O_(e)?{color:e}:null;if((o=S_(t.tr.setSelection(t.selection),i,s)).docChanged||o.storedMarksSet)return n&&n(o),!0}return!1}}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.getMarkAttrs,r=e.t;return{component:E_,componentProps:{colorSet:this.options.colors,selectedColor:n("text_color").color,tooltip:r("editor.extensions.TextColor.tooltip"),icon:"tint"},componentEvents:{confirm:function(e){return t.text_color(e)}}}}},{key:"name",get:function(){return"text_color"}},{key:"defaultOptions",get:function(){return{colors:__}}},{key:"schema",get:function(){return{attrs:{color:""},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:function(e){return{color:e}}}],toDOM:function(e){var t=e.attrs.color,n="";return t&&(n+="color: ".concat(t,";")),["span",{style:n},0]}}}}]),n}(),A_=function(e){Lm(n,dl);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"commands",value:function(){return function(e){return function(t,n){if(void 0!==e){var r=t.schema,o=t.tr,i=r.marks.text_highlight,s=e&&O_(e)?{highlightColor:e}:null;if((o=S_(t.tr.setSelection(t.selection),i,s)).docChanged||o.storedMarksSet)return n&&n(o),!0}return!1}}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.getMarkAttrs,r=e.t;return{component:E_,componentProps:{colorSet:this.options.colors,selectedColor:n("text_highlight").highlightColor,tooltip:r("editor.extensions.TextHighlight.tooltip"),icon:"highlighter"},componentEvents:{confirm:function(e){return t.text_highlight(e)}}}}},{key:"name",get:function(){return"text_highlight"}},{key:"defaultOptions",get:function(){return{colors:__}}},{key:"schema",get:function(){return{attrs:{highlightColor:""},inline:!0,group:"inline",parseDOM:[{tag:"span[style*=background-color]",getAttrs:function(e){return{highlightColor:e.style.backgroundColor}}}],toDOM:function(e){var t=e.attrs.highlightColor,n="";return t&&(n+="background-color: ".concat(t,";")),["span",{style:n},0]}}}}]),n}(),N_=Math.max,D_=Math.min,R_=Math.floor,I_=/\$([$&'`]|\d\d?|<[^>]*>)/g,P_=/\$([$&'`]|\d\d?)/g;zf("replace",2,(function(e,t,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,s=o?"$":"$0";return[function(n,r){var o=op(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!o&&i||"string"==typeof r&&-1===r.indexOf(s)){var l=n(t,e,this,r);if(l.done)return l.value}var c=vp(e),u=String(this),d="function"==typeof r;d||(r=String(r));var p=c.global;if(p){var h=c.unicode;c.lastIndex=0}for(var f=[];;){var m=qf(c,u);if(null===m)break;if(f.push(m),!p)break;""===String(m[0])&&(c.lastIndex=Vf(u,Qp(c.lastIndex),h))}for(var v,g="",y=0,b=0;b<f.length;b++){m=f[b];for(var w=String(m[0]),k=N_(D_(Zp(m.index),u.length),0),x=[],S=1;S<m.length;S++)x.push(void 0===(v=m[S])?v:String(v));var C=m.groups;if(d){var _=[w].concat(x,k,u);void 0!==C&&_.push(C);var O=String(r.apply(void 0,_))}else O=a(w,u,k,x,C,r);k>=y&&(g+=u.slice(y,k)+O,y=k+w.length)}return g+u.slice(y)}];function a(e,n,r,o,i,s){var a=r+e.length,l=o.length,c=P_;return void 0!==i&&(i=Sh(i),c=I_),t.call(s,c,(function(t,s){var c;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(a);case"<":c=i[s.slice(1,-1)];break;default:var u=+s;if(0===u)return t;if(u>l){var d=R_(u/10);return 0===d?t:d<=l?void 0===o[d-1]?s.charAt(1):o[d-1]+s.charAt(1):t}c=o[u-1]}return void 0===c?"":c}))}}));var z_,$_=["Arial","Arial Black","Georgia","Impact","Tahoma","Times New Roman","Verdana","Courier New","Lucida Console","Monaco","monospace"].reduce((function(e,t){return e[t]=t,e}),{}),j_=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"toggleFontType",value:function(e){e===this.activeFontType?this.editorContext.commands.font_type(""):this.editorContext.commands.font_type(e)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"fontTypes",get:function(){var e,t=this.editor.extensions.options.font_type.fontTypes;return e=t,"[object Object]"!==Object.prototype.toString.call(e)?(wm.error("'fontTypes' should be an object"),$_):t}},{key:"activeFontType",get:function(){return function(e){var t=e.schema,n=e.selection,r=e.tr,o=t.marks.font_type;if(!o)return"";if(n.empty){var i=(r.storedMarks||e.storedMarks||n instanceof Ft&&n.$cursor&&n.$cursor.marks&&n.$cursor.marks()||[]).find((function(e){return e.type===o}));return i&&i.attrs.name||""}var s=eb(e,o).name;return s||""}(this.editor.state)}}]),n}();Um([pv({type:Object,required:!0})],j_.prototype,"editorContext",void 0),Um([cv()],j_.prototype,"et",void 0);const F_=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:e.toggleFontType}},[n("command-button",{attrs:{"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.FontType.tooltip"),readonly:e.et.isCodeViewMode,icon:"font"}}),e._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.fontTypes,(function(t){return n("el-dropdown-item",{key:t,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":t===e.activeFontType},attrs:{command:t}},[n("span",{style:{"font-family":t},attrs:{"data-font":t}},[e._v(e._s(t))])])})),1)],1)},staticRenderFns:[]},void 0,j_=Um([lv({components:(z_={},Fm(z_,Id().name,Id()),Fm(z_,Dd().name,Dd()),Fm(z_,Ad().name,Ad()),Fm(z_,"CommandButton",rb),z_)})],j_),void 0,!1,void 0,!1,void 0,void 0,void 0);var B_,L_=function(e){Lm(n,dl);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"commands",value:function(e){var t=e.type;return function(e){return function(n,r){var o=n.tr;return!(!(o=function(e,t,n){var r=e.selection;return r instanceof Ft||r instanceof qt?e=S_(e,t,n?{name:n}:null):e}(n.tr.setSelection(n.selection),t,e)).docChanged&&!o.storedMarksSet)&&(r&&r(o),!0)}}}},{key:"menuBtnView",value:function(e){return{component:F_,componentProps:{editorContext:e}}}},{key:"name",get:function(){return"font_type"}},{key:"defaultOptions",get:function(){return{fontTypes:$_}}},{key:"schema",get:function(){return{attrs:{name:""},inline:!0,group:"inline",parseDOM:[{style:"font-family",getAttrs:function(e){return{name:e?e.replace(/["']/g,""):""}}}],toDOM:function(e){var t=e.attrs.name,n={};return t&&(n.style="font-family: ".concat(t)),["span",n,0]}}}}]),n}(),V_=["8","10","12","14","16","18","20","24","30","36","48","60","72"],q_=/([\d.]+)px/i,H_=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).defaultSize="default",e}return Gf(n,[{key:"toggleFontSize",value:function(e){e===this.activeFontSize?this.editorContext.commands.font_size("default"):this.editorContext.commands.font_size(e)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"fontSizes",get:function(){return this.editor.extensions.options.font_size.fontSizes}},{key:"activeFontSize",get:function(){return function(e){var t=e.schema,n=e.selection,r=e.tr,o=t.marks.font_size;if(!o)return"default";if(n.empty){var i=(r.storedMarks||e.storedMarks||n instanceof Ft&&n.$cursor&&n.$cursor.marks&&n.$cursor.marks()||[]).find((function(e){return e.type===o}));return i?String(i.attrs.px||"default"):"default"}var s=eb(e,o).px;return s?String(s):"default"}(this.editor.state)}}]),n}();Um([pv({type:Object,required:!0})],H_.prototype,"editorContext",void 0),Um([cv()],H_.prototype,"et",void 0);const W_=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:e.toggleFontSize}},[n("command-button",{attrs:{"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.FontSize.tooltip"),readonly:e.et.isCodeViewMode,icon:"text-width"}}),e._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":e.activeFontSize===e.defaultSize},attrs:{command:e.defaultSize}},[n("span",{attrs:{"data-font-size":"default"}},[e._v(e._s(e.et.t("editor.extensions.FontSize.default")))])]),e._v(" "),e._l(e.fontSizes,(function(t){return n("el-dropdown-item",{key:t,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":t===e.activeFontSize},attrs:{command:t}},[n("span",{attrs:{"data-font-size":t}},[e._v(e._s(t))])])}))],2)],1)},staticRenderFns:[]},void 0,H_=Um([lv({components:(B_={},Fm(B_,Id().name,Id()),Fm(B_,Dd().name,Dd()),Fm(B_,Ad().name,Ad()),Fm(B_,"CommandButton",rb),B_)})],H_),void 0,!1,void 0,!1,void 0,void 0,void 0);var U_=function(e){Lm(n,dl);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"commands",value:function(e){var t=e.type;return function(e){return function(n,r){var o=n.tr;return!(!(o=function(e,t,n){var r=e.selection;return r instanceof Ft||r instanceof qt?e=S_(e,t,n&&"default"!==n?{px:n}:null):e}(n.tr.setSelection(n.selection),t,e)).docChanged&&!o.storedMarksSet)&&(r&&r(o),!0)}}}},{key:"menuBtnView",value:function(e){return{component:W_,componentProps:{editorContext:e}}}},{key:"name",get:function(){return"font_size"}},{key:"defaultOptions",get:function(){return{fontSizes:V_}}},{key:"schema",get:function(){return{attrs:{px:""},inline:!0,group:"inline",parseDOM:[{style:"font-size",getAttrs:function(e){var t={};if(!e)return t;var n=function(e){var t=e.match(q_);if(!t)return"";var n=t[1];return n||""}(e);return n?{px:n}:t}}],toDOM:function(e){var t=e.attrs.px,n={};return t&&(n.style="font-size: ".concat(t,"px")),["span",n,0]}}}}]),n}(),J_=function(e){Lm(n,Qu);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return{component:rb,componentProps:{command:t.horizontal_rule,icon:"minus",tooltip:n("editor.extensions.HorizontalRule.tooltip")}}}}]),n}(),K_=function(e){Lm(n,gd);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return[{component:rb,componentProps:{command:t.undo,icon:"undo",tooltip:n("editor.extensions.History.tooltip.undo")}},{component:rb,componentProps:{command:t.redo,icon:"redo",tooltip:n("editor.extensions.History.tooltip.redo")}}]}}]),n}(),G_=["paragraph","heading","list_item","todo_item","title"];function X_(e,t){var n=e,r=n.selection,o=n.doc;if(!r||!o)return e;var i=r.from,s=r.to,a=[];return t=t||null,o.nodesBetween(i,s,(function(e,n){var r=e.type;return!G_.includes(r.name)||(e.attrs.textAlign||null)===t||(a.push({node:e,pos:n,nodeType:r}),"list_item"!==r.name&&"todo_item"!==r.name)})),a.length?(a.forEach((function(n){var r=n.node,o=n.pos,i=n.nodeType,s=r.attrs;s=Object.assign(Object.assign({},s),{textAlign:t}),e=e.setNodeMarkup(o,i,s,r.marks)})),e):e}var Z_=function(e){Lm(n,ll);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"commands",value:function(){return this.options.alignments.reduce((function(e,t){return ym.test(t)?Object.assign(Object.assign({},e),Fm({},"align_".concat(t),(function(){return function(e,n){var r=e.selection,o=X_(e.tr.setSelection(r),"left"===t?null:t);return!!o.docChanged&&(n&&n(o),!0)}}))):e}),{})}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.editor,r=e.t;return this.options.alignments.reduce((function(e,o){if(!ym.test(o))return e;var i="left"!==o&&function(e,t){var n=e.selection,r=e.doc,o=n.from,i=n.to,s=!0,a=!1;return r.nodesBetween(o,i,(function(e){return s&&e.attrs.textAlign===t&&(s=!1,a=!0),s})),a}(n.state,o);return e.concat({component:rb,componentProps:{isActive:i,command:t["align_".concat(o)],icon:"align-".concat(o),tooltip:r("editor.extensions.TextAlign.buttons.align_".concat(o,".tooltip"))}})}),[])}},{key:"name",get:function(){return"text_align"}},{key:"defaultOptions",get:function(){return{alignments:["left","center","right","justify"]}}}]),n}();function Y_(e,t){var n=e,r=n.doc,o=n.selection;if(!r||!o)return e;if(!(o instanceof Ft||o instanceof qt))return e;var i=o.from,s=o.to;return r.nodesBetween(i,s,(function(n,r){var o=n.type;return"paragraph"===o.name||"heading"===o.name||"blockquote"===o.name?(e=function(e,t,n){if(!e.doc)return e;var r=e.doc.nodeAt(t);if(!r)return e;var o=My((r.attrs.indent||0)+n,0,7);if(o===r.attrs.indent)return e;var i=Object.assign(Object.assign({},r.attrs),{indent:o});return e.setNodeMarkup(t,r.type,i,r.marks)}(e,r,t),!1):!function(e){return function(e){return"bullet_list"===e.type.name}(e)||function(e){return"order_list"===e.type.name}(e)||function(e){return"todo_list"===e.type.name}(e)}(n)})),e}function Q_(e){return function(t,n){var r=t.selection,o=t.tr;return!!(o=Y_(o=o.setSelection(r),e)).docChanged&&(n&&n(o),!0)}}var eO,tO=function(e){Lm(n,ll);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"commands",value:function(){return{indent:function(){return Q_(1)},outdent:function(){return Q_(-1)}}}},{key:"keys",value:function(){return{Tab:Q_(1),"Shift-Tab":Q_(-1)}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return[{component:rb,componentProps:{command:t.indent,icon:"indent",tooltip:n("editor.extensions.Indent.buttons.indent.tooltip")}},{component:rb,componentProps:{command:t.outdent,icon:"outdent",tooltip:n("editor.extensions.Indent.buttons.outdent.tooltip")}}]}},{key:"name",get:function(){return"indent"}},{key:"defaultOptions",get:function(){return{minIndent:0,maxIndent:7}}}]),n}(),nO=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"isLineHeightActive",value:function(e){return function(e,t){var n=e.selection,r=e.doc,o=n.from,i=n.to,s=!0,a=!1;return r.nodesBetween(o,i,(function(e){var n=e.type,r=e.attrs.lineHeight||"100%";return yx.includes(n.name)?s&&t===r?(s=!1,a=!0,!1):"list_item"!==n.name&&"todo_item"!==n.name:s})),a}(this.editor.state,e)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"lineHeights",get:function(){return this.editor.extensions.options.line_height.lineHeights}}]),n}();Um([pv({type:Object,required:!0})],nO.prototype,"editorContext",void 0),Um([cv()],nO.prototype,"et",void 0);const rO=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:function(t){return e.editorContext.commands.line_height({lineHeight:t})}}},[n("command-button",{attrs:{"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.LineHeight.tooltip"),readonly:e.et.isCodeViewMode,icon:"text-height"}}),e._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.lineHeights,(function(t){return n("el-dropdown-item",{key:t,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":e.isLineHeightActive(t)},attrs:{command:t}},[n("span",[e._v(e._s(t))])])})),1)],1)},staticRenderFns:[]},void 0,nO=Um([lv({components:(eO={},Fm(eO,Id().name,Id()),Fm(eO,Dd().name,Dd()),Fm(eO,Ad().name,Ad()),Fm(eO,"CommandButton",rb),eO)})],nO),void 0,!1,void 0,!1,void 0,void 0,void 0);var oO=function(e){Lm(n,ll);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"commands",value:function(){return function(e){return function(e){return function(t,n){var r=t.selection,o=t.tr;return!!(o=kx(o=o.setSelection(r),e)).docChanged&&(n&&n(o),!0)}}(e.lineHeight)}}},{key:"menuBtnView",value:function(e){return{component:rO,componentProps:{editorContext:e}}}},{key:"name",get:function(){return"line_height"}},{key:"defaultOptions",get:function(){return{lineHeights:["100%","115%","150%","200%","250%","300%"]}}}]),n}(),iO=Om.filter,sO=Fh("filter"),aO=sf("filter");kh({target:"Array",proto:!0,forced:!sO||!aO},{filter:function(e){return iO(this,e,arguments.length>1?arguments[1]:void 0)}});var lO,cO,uO,dO=!Kd((function(){return Object.isExtensible(Object.preventExtensions({}))})),pO=Hd((function(e){var t=yp.f,n=Dp("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!sp(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!cp(e,n)){if(!o(e))return"F";if(!t)return"E";i(e)}return e[n].objectID},getWeakData:function(e,t){if(!cp(e,n)){if(!o(e))return!0;if(!t)return!1;i(e)}return e[n].weakData},onFreeze:function(e){return dO&&s.REQUIRED&&o(e)&&!cp(e,n)&&i(e),e}};Pp[n]=!0})),hO=(pO.REQUIRED,pO.fastKey,pO.getWeakData,pO.onFreeze,!Kd((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))),fO=Ip("IE_PROTO"),mO=Object.prototype,vO=hO?Object.getPrototypeOf:function(e){return e=Sh(e),cp(e,fO)?e[fO]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?mO:null},gO=Ah("iterator"),yO=!1;[].keys&&("next"in(uO=[].keys())?(cO=vO(vO(uO)))!==Object.prototype&&(lO=cO):yO=!0),null==lO&&(lO={}),cp(lO,gO)||bp(lO,gO,(function(){return this}));var bO={IteratorPrototype:lO,BUGGY_SAFARI_ITERATORS:yO},wO=bO.IteratorPrototype,kO=function(){return this},xO=bO.IteratorPrototype,SO=bO.BUGGY_SAFARI_ITERATORS,CO=Ah("iterator"),_O=function(){return this},OO=function(e,t,n,r,o,i,s){!function(e,t,n){var r=t+" Iterator";e.prototype=Yh(wO,{next:Qd(1,n)}),Zv(e,r,!1),Qv[r]=kO}(n,t,r);var a,l,c,u=function(e){if(e===o&&m)return m;if(!SO&&e in h)return h[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",p=!1,h=e.prototype,f=h[CO]||h["@@iterator"]||o&&h[o],m=!SO&&f||u(o),v="Array"==t&&h.entries||f;if(v&&(a=vO(v.call(new e)),xO!==Object.prototype&&a.next&&(vO(a)!==xO&&(Xf?Xf(a,xO):"function"!=typeof a[CO]&&bp(a,CO,_O)),Zv(a,d,!0))),"values"==o&&f&&"values"!==f.name&&(p=!0,m=function(){return f.call(this)}),h[CO]!==m&&bp(h,CO,m),Qv[t]=m,o)if(l={values:u("values"),keys:i?m:u("keys"),entries:u("entries")},s)for(c in l)(SO||p||!(c in h))&&Wp(h,c,l[c]);else kh({target:t,proto:!0,forced:SO||p},l);return l},MO=yp.f,EO=pO.fastKey,TO=Hp.set,AO=Hp.getterFor,NO=(function(e,t,n){var r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),i=r?"set":"add",s=Jd[e],a=s&&s.prototype,l=s,c={},u=function(e){var t=a[e];Wp(a,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!sp(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!sp(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!sp(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(bh(e,"function"!=typeof s||!(o||a.forEach&&!Kd((function(){(new s).entries().next()})))))l=n.getConstructor(t,e,r,i),pO.REQUIRED=!0;else if(bh(e,!0)){var d=new l,p=d[i](o?{}:-0,1)!=d,h=Kd((function(){d.has(1)})),f=fg((function(e){new s(e)})),m=!o&&Kd((function(){for(var e=new s,t=5;t--;)e[i](t,t);return!e.has(-0)}));f||((l=t((function(t,n){Yv(t,l,e);var o=Zf(new s,t,l);return null!=n&&sg(n,o[i],o,r),o}))).prototype=a,a.constructor=l),(h||m)&&(u("delete"),u("has"),r&&u("get")),(m||p)&&u(i),o&&a.clear&&delete a.clear}c[e]=l,kh({global:!0,forced:l!=s},c),Zv(l,e),o||n.setStrong(l,e,r)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,r){var o=e((function(e,i){Yv(e,o,t),TO(e,{type:t,index:Yh(null),first:void 0,last:void 0,size:0}),Gd||(e.size=0),null!=i&&sg(i,e[r],e,n)})),i=AO(t),s=function(e,t,n){var r,o,s=i(e),l=a(e,t);return l?l.value=n:(s.last=l={index:o=EO(t,!0),key:t,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=l),r&&(r.next=l),Gd?s.size++:e.size++,"F"!==o&&(s.index[o]=l)),e},a=function(e,t){var n,r=i(e),o=EO(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return Kv(o.prototype,{clear:function(){for(var e=i(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,Gd?e.size=0:this.size=0},delete:function(e){var t=i(this),n=a(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),Gd?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=i(this),r=Sm(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),Kv(o.prototype,n?{get:function(e){var t=a(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),Gd&&MO(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=AO(t),i=AO(r);OO(e,t,(function(e,t){TO(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),Qf(t)}}),Bf.charAt),DO=Hp.set,RO=Hp.getterFor("String Iterator");OO(String,"String",(function(e){DO(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=RO(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=NO(n,r),t.index+=e.length,{value:e,done:!1})}));var IO={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},PO=Hp.set,zO=Hp.getterFor("Array Iterator"),$O=OO(Array,"Array",(function(e,t){PO(this,{type:"Array Iterator",target:ip(e),index:0,kind:t})}),(function(){var e=zO(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Qv.Arguments=Qv.Array,tf("keys"),tf("values"),tf("entries");var jO=Ah("iterator"),FO=Ah("toStringTag"),BO=$O.values;for(var LO in IO){var VO=Jd[LO],qO=VO&&VO.prototype;if(qO){if(qO[jO]!==BO)try{bp(qO,jO,BO)}catch(pM){qO[jO]=BO}if(qO[FO]||bp(qO,FO,LO),IO[LO])for(var HO in $O)if(qO[HO]!==$O[HO])try{bp(qO,HO,$O[HO])}catch(pM){qO[HO]=$O[HO]}}}var WO=["bold","italic","underline","strike","link","text_color","text_highlight"],UO=function(e){Lm(n,ll);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"commands",value:function(){return function(){return function(e,t){var n=function(e,t){var n=e,r=n.doc,o=n.selection;if(!o||!r)return e;var i=o.from,s=o.to;if(o.empty)return e;var a=new Set(WO.map((function(e){return t.marks[e]})).filter(Boolean));if(!a.size)return e;var l=[];return r.nodesBetween(i,s,(function(e,t){return!e.marks||!e.marks.length||(e.marks.some((function(n){a.has(n.type)&&l.push({node:e,pos:t,mark:n})})),!0)})),l.forEach((function(t){var n=t.node,r=t.mark,o=t.pos;e=e.removeMark(o,o+n.nodeSize,r.type)})),e=kx(e=X_(e,null),null)}(e.tr.setSelection(e.selection),e.schema);return!(!t||!n.docChanged)&&(t(n),!0)}}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return{component:rb,componentProps:{command:t.format_clear,icon:"remove-format",tooltip:n("editor.extensions.FormatClear.tooltip")}}}},{key:"name",get:function(){return"format_clear"}}]),n}(),JO=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"isFullscreen",get:function(){return this.et.isFullscreen},set:function(e){this.et.isFullscreen=e}},{key:"buttonTooltip",get:function(){return this.isFullscreen?this.et.t("editor.extensions.Fullscreen.tooltip.exit_fullscreen"):this.et.t("editor.extensions.Fullscreen.tooltip.fullscreen")}}]),n}();Um([cv()],JO.prototype,"et",void 0);const KO=Py({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("command-button",{attrs:{command:function(){return e.isFullscreen=!e.isFullscreen},"enable-tooltip":e.et.tooltip,tooltip:e.buttonTooltip,icon:e.isFullscreen?"compress":"expand","is-active":e.isFullscreen}})},staticRenderFns:[]},void 0,JO=Um([lv({components:{CommandButton:rb}})],JO),void 0,!1,void 0,!1,void 0,void 0,void 0);var GO=function(e){Lm(n,ll);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(){return{component:KO}}},{key:"name",get:function(){return"fullscreen"}}]),n}(),XO=!fg((function(e){Array.from(e)}));function ZO(e){var t=e.dom.closest(".el-tiptap-editor__content");return!!t&&(function(e){var t=Array.from(document.querySelectorAll("style, link")).reduce((function(e,t){return e+t.outerHTML}),"")+e.outerHTML,n=document.createElement("iframe");n.id="el-tiptap-iframe",n.setAttribute("style","position: absolute; width: 0; height: 0; top: -10px; left: -10px;"),document.body.appendChild(n);var r=n.contentWindow,o=n.contentDocument||n.contentWindow&&n.contentWindow.document;o&&(o.open(),o.write(t),o.close()),r&&(n.onload=function(){try{setTimeout((function(){r.focus();try{r.document.execCommand("print",!1)||r.print()}catch(e){r.print()}r.close()}),10)}catch(e){wm.error(e)}setTimeout((function(){document.body.removeChild(n)}),100)})}(t),!0)}kh({target:"Array",stat:!0,forced:XO},{from:function(e){var t,n,r,o,i,s,a=Sh(e),l="function"==typeof this?this:Array,c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,p=og(a),h=0;if(d&&(u=Sm(u,c>2?arguments[2]:void 0,2)),null==p||l==Array&&ng(p))for(n=new l(t=Qp(a.length));t>h;h++)s=d?u(a[h],h):a[h],Ch(n,h,s);else for(i=(o=p.call(a)).next,n=new l;!(r=i.call(o)).done;h++)s=d?ig(o,u,[r.value,h],!0):r.value,Ch(n,h,s);return n.length=h,n}});var YO,QO=function(e){Lm(n,ll);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"commands",value:function(){return function(){return function(e,t,n){return ZO(n)}}}},{key:"keys",value:function(){return{"Mod-p":function(e,t,n){return ZO(n)}}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return{component:rb,componentProps:{command:t.print,icon:"print",tooltip:n("editor.extensions.Print.tooltip")}}}},{key:"name",get:function(){return"print"}}]),n}(),eM=function(e){Lm(n,s());var t=Wm(n);function n(){var e;return Jf(this,n),(e=t.apply(this,arguments)).html="",e.previewDialogVisible=!1,e}return Gf(n,[{key:"onVisibleChange",value:function(e){e&&this.getHtml()}},{key:"togglePreviewDialogVisible",value:function(){this.previewDialogVisible=!this.previewDialogVisible}},{key:"getHtml",value:function(){this.html=this.editorContext.editor.getHTML()}}]),n}();Um([pv({type:Object,required:!0})],eM.prototype,"editorContext",void 0),Um([pv({type:String,default:"80vw"})],eM.prototype,"contentWidth",void 0),Um([cv()],eM.prototype,"et",void 0),Um([hv("previewDialogVisible")],eM.prototype,"onVisibleChange",null);const tM=Py({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("command-button",{attrs:{command:e.togglePreviewDialogVisible,"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Preview.tooltip"),readonly:e.et.isCodeViewMode,icon:"eye"}}),e._v(" "),n("el-dialog",{attrs:{title:e.et.t("editor.extensions.Preview.dialog.title"),visible:e.previewDialogVisible,width:e.contentWidth,"append-to-body":!0},on:{"update:visible":function(t){e.previewDialogVisible=t}}},[n("div",{staticClass:"el-tiptap-editor__content"},[n("div",{domProps:{innerHTML:e._s(e.html)}})])])],1)},staticRenderFns:[]},void 0,eM=Um([lv({components:(YO={},Fm(YO,Ed().name,Ed()),Fm(YO,"CommandButton",rb),YO)})],eM),void 0,!1,void 0,!1,void 0,void 0,void 0);var nM=function(e){Lm(n,ll);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"menuBtnView",value:function(e){return{component:tM,componentProps:{editorContext:e,contentWidth:this.options.contentWidth}}}},{key:"name",get:function(){return"preview"}},{key:"defaultOptions",get:function(){return{contentWidth:"80vw"}}}]),n}(),rM=function(e){Lm(n,ll);var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"commands",value:function(){return function(){return DC}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return{component:rb,componentProps:{command:t.select_all,icon:"regular/object-group",tooltip:n("editor.extensions.SelectAll.tooltip")}}}},{key:"name",get:function(){return"select_all"}}]),n}(),oM=function(e){Lm(n,s());var t=Wm(n);function n(){return Jf(this,n),t.apply(this,arguments)}return Gf(n,[{key:"isCodeViewMode",get:function(){return this.et.isCodeViewMode},set:function(e){this.et.isCodeViewMode=e}}]),n}();Um([cv()],oM.prototype,"et",void 0);const iM=Py({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("command-button",{attrs:{command:function(){return e.isCodeViewMode=!e.isCodeViewMode},"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.CodeView.tooltip"),icon:"regular/file-code","is-active":e.isCodeViewMode}})},staticRenderFns:[]},void 0,oM=Um([lv({components:{CommandButton:rb}})],oM),void 0,!1,void 0,!1,void 0,void 0,void 0);var sM=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;function aM(e){e.extendMode("xml",{newlineAfterToken:function(e,t,n,r){var o=!1;return"html"===this.configuration&&(o=!!r.context&&sM.test(r.context.tagName)),!o&&("tag"===e&&/>$/.test(t)&&r.context||/^</.test(n))}}),e.defineExtension("autoFormatRange",(function(t,n){var r=this,o=r.getMode(),i=r.getRange(t,n).split("\n"),s=e.copyState(o,r.getTokenAt(t).state),a=r.getOption("tabSize"),l="",c=0,u=0===t.ch;function d(){l+="\n",u=!0,++c}for(var p=0;p<i.length;++p){for(var h=new e.StringStream(i[p],a);!h.eol();){var f=e.innerMode(o,s),m=o.token(h,s),v=h.current();h.start=h.pos,u&&!/\S/.test(v)||(l+=v,u=!1),!u&&f.mode.newlineAfterToken&&f.mode.newlineAfterToken(m,v,h.string.slice(h.pos)||i[p+1]||"",f.state)&&d()}!h.pos&&o.blankLine&&o.blankLine(s),!u&&p<i.length-1&&d()}r.operation((function(){r.replaceRange(l,t,n);for(var e=t.line+1,o=t.line+c;e<=o;++e)r.indentLine(e,"smart");r.setSelection(t,r.getCursor(!1))}))}))}var lM={lineNumbers:!0,lineWrapping:!0,tabSize:2,tabMode:"indent",mode:"text/html"},cM=function(e){Lm(n,ll);var t=Wm(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Jf(this,n),e=t.call(this,r);var o=r.codemirror;return null==o?wm.warn("`CodeView` extension requires the CodeMirror library."):aM(o),e.options={codemirror:o,codemirrorOptions:Object.assign(Object.assign({},e.defaultOptions.codemirrorOptions),r.codemirrorOptions)},e}return Gf(n,[{key:"menuBtnView",value:function(){return{component:iM}}},{key:"name",get:function(){return"code_view"}},{key:"defaultOptions",get:function(){return{codemirror:null,codemirrorOptions:Object.assign({},lM)}}}]),n}(),uM={installed:!1,spellcheck:!0,lang:"en",install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.lang&&(this.lang=t.lang),this.spellcheck=null==t.spellcheck||t.spellcheck,e.component("el-tiptap",px),e.prototype.$elementTiptapPlugin=this,this.installed=!0}},dM=uM;window.ElementTiptapPlugin=dM,window.ElementTiptap=e}(),o}()}));
//# sourceMappingURL=cly-libs.umd.min.js.map