!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).inViewportMixin=e()}(this,(function(){"use strict";var t,e=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,o=!1,r=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=[].indexOf,s=[].slice,u={props:{inViewportActive:{type:Boolean,default:!0},inViewportOnce:{type:Boolean,default:!1},inViewportRootMargin:{type:Number|String,default:"0px 0px -1px 0px"},inViewportRoot:{type:String|Function|Object,default:void 0},inViewportThreshold:{type:Number|Array,default:function(){return[0,1]}},inViewportRequiresRoot:{type:Boolean,default:!1}},data:function(){return{inViewport:{now:null,fully:null,above:null,below:null,listening:!1,maxThreshold:1}}},mounted:function(){return this.$nextTick(this.inViewportInit)},destroyed:function(){return this.removeInViewportHandlers()},computed:{inViewportThresholdWithMax:function(){var t,e;return e="object"===o(this.inViewportThreshold)?this.inViewportThreshold:[this.inViewportThreshold],t=this.inViewport.maxThreshold,r.call(e,t)>=0?e:e.concat(this.inViewport.maxThreshold)}},watch:{inViewportActive:function(t){return t?this.addInViewportHandlers():this.removeInViewportHandlers()},inViewportRootMargin:function(){return this.reInitInViewportMixin()},inViewportRoot:function(){return this.inViewportRequiresRoot&&!this.inViewportRoot?this.removeInViewportHandlers():this.reInitInViewportMixin()},inViewportThresholdWithMax:function(t,e){if(t.toString()!==e.toString())return this.reInitInViewportMixin()}},methods:{reInitInViewportMixin:function(){return this.removeInViewportHandlers(),this.inViewportInit()},inViewportInit:function(){if(this.inViewportActive)return this.addInViewportHandlers()},addInViewportHandlers:function(){if((!this.inViewportRequiresRoot||this.inViewportRoot)&&!this.inViewport.listening)return this.inViewport.listening=!0,this.inViewportObserver=new IntersectionObserver(this.updateInViewport,{root:function(){switch(o(this.inViewportRoot)){case"function":return this.inViewportRoot();case"string":return document.querySelector(this.inViewportRoot);case"object":return this.inViewportRoot;default:return}}.call(this),rootMargin:this.inViewportRootMargin,threshold:this.inViewportThresholdWithMax}),this.inViewportObserver.observe(this.$el)},removeInViewportHandlers:function(){var t;if(this.inViewport.listening)return this.inViewport.listening=!1,null!=(t=this.inViewportObserver)&&t.disconnect(),delete this.inViewportObserver},updateInViewport:function(t){var e,n,o=i(s.call(t,-1),1)[0];if(n=o.boundingClientRect,e=o.rootBounds,this.inViewport.maxThreshold=n.height>0?Math.min(1,e.height/n.height):1,this.inViewport.now=n.top<=e.bottom&&n.bottom>e.top,this.inViewport.above=n.top<e.top,this.inViewport.below=n.bottom>e.bottom+1,this.inViewport.fully=n.height>e.height?n.top<=e.top&&n.bottom>=e.bottom+1:!this.inViewport.above&&!this.inViewport.below,this.inViewportOnce&&this.inViewport.now)return this.removeInViewportHandlers()}}};e.default=u}));return(t=e)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}));
//# sourceMappingURL=in-viewport-mixin.min.js.map
