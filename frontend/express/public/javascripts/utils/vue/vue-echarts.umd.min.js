!function(e){if(!e.VueDemi){var t={},n=e.Vue;if(n)if("2."===n.version.slice(0,2)){var i=e.VueCompositionAPI;if(i){for(var r in i)t[r]=i[r];t.isVue2=!0,t.isVue3=!1,t.install=function(){},t.Vue=n,t.Vue2=n,t.version=n.version}else console.error("[vue-demi] no VueCompositionAPI instance found, please be sure to import `@vue/composition-api` before `vue-demi`.")}else if("3."===n.version.slice(0,2)){for(var r in n)t[r]=n[r];t.isVue2=!1,t.isVue3=!0,t.install=function(){},t.Vue=n,t.Vue2=void 0,t.version=n.version,t.set=function(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)},t.del=function(e,t){Array.isArray(e)?e.splice(t,1):delete e[t]}}else console.error("[vue-demi] Vue version "+n.version+" is unsupported.");else console.error("[vue-demi] no Vue instance found, please be sure to import `vue` before `vue-demi`.");e.VueDemi=t}}(window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("echarts"),require("vue-demi"),require("echarts/core")):"function"==typeof define&&define.amd?define(["echarts","vue-demi","echarts/core"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).VueECharts=t(e.echarts,e.VueDemi,e.echarts)}(this,(function(e,t,n){"use strict";var i=function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];var o=null;var s=null;function a(e,t){void 0===t&&(t={});var n=document.createElement(e);return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function u(e,t,n){return(window.getComputedStyle(e,n||null)||{display:"none"})[t]}function c(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if("none"===u(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var _=0,l=null;function d(e,t){if(e.__resize_mutation_handler__||(e.__resize_mutation_handler__=f.bind(e)),!e.__resize_listeners__)if(e.__resize_listeners__=[],window.ResizeObserver){var n=e.offsetWidth,i=e.offsetHeight,r=new ResizeObserver((function(){(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==n||e.offsetHeight!==i))&&h(e)})),o=c(e),s=o.detached,d=o.rendered;e.__resize_observer_triggered__=!1===s&&!1===d,e.__resize_observer__=r,r.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){h(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(_||(l=function(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}('.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}')),function(e){var t=u(e,"position");t&&"static"!==t||(e.style.position="relative");e.__resize_old_position__=t,e.__resize_last__={};var n=a("div",{className:"resize-triggers"}),i=a("div",{className:"resize-expand-trigger"}),r=a("div"),o=a("div",{className:"resize-contract-trigger"});i.appendChild(r),n.appendChild(i),n.appendChild(o),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:i,expandChild:r,contract:o},p(e),e.addEventListener("scroll",v,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}(e),e.__resize_rendered__=c(e).rendered,window.MutationObserver){var g=new MutationObserver(e.__resize_mutation_handler__);g.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=g}e.__resize_listeners__.push(t),_++}function f(){var e=c(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(p(this),this.addEventListener("scroll",v,!0)),this.__resize_rendered__=t,h(this))}function v(){var e,t,n=this;p(this),this.__resize_raf__&&(e=this.__resize_raf__,s||(s=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),s(e)),this.__resize_raf__=(t=function(){var e,t,i,r,o,s,a=(t=(e=n).__resize_last__,i=t.width,r=t.height,o=e.offsetWidth,s=e.offsetHeight,o!==i||s!==r?{width:o,height:s}:null);a&&(n.__resize_last__=a,h(n))},o||(o=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),o(t))}function h(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach((function(t){t.call(e,e)}))}function p(e){var t=e.__resize_triggers__,n=t.expand,i=t.expandChild,r=t.contract,o=r.scrollWidth,s=r.scrollHeight,a=n.offsetWidth,u=n.offsetHeight,c=n.scrollWidth,_=n.scrollHeight;r.scrollLeft=o,r.scrollTop=s,i.style.width=a+1+"px",i.style.height=u+1+"px",n.scrollLeft=c,n.scrollTop=_}function g(e,i,r,o){var s=null,a=0;function u(){var e=r.value;return e?e.offsetWidth*e.offsetHeight:0}t.watch([r,e,i],(function(e,t,i){var r=e[0],c=e[1],f=e[2];r&&c&&f&&(a=u(),s=n.throttle((function(){0===a?(c.setOption(Object.create(null),!0),c.resize(),c.setOption(o.value,!0)):c.resize(),a=u()}),100),d(r,s)),i((function(){s&&r&&(a=0,function(e,t){var n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",v),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--_&&l&&l.parentNode.removeChild(l)}}(r,s))}))}))}var m={autoresize:Boolean},z="ecLoadingOptions";var b={loading:Boolean,loadingOptions:Object};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}("x-vue-echarts{display:block;width:100%;height:100%}");var w=/^on[^a-z]/,O=function(e){return w.test(e)};var y="x-vue-echarts";t.Vue2&&t.Vue2.config.ignoredElements.push(y);var E="ecTheme",C="ecInitOptions",x="ecUpdateOptions",L=t.defineComponent({name:"echarts",props:i(i({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},m),b),inheritAttrs:!1,setup:function(e,o){var s=o.attrs,a=o.listeners,u=t.ref(),c=t.shallowRef(),_=t.shallowRef(),l=t.inject(E,null),d=t.inject(C,null),f=t.inject(x,null),v=t.computed((function(){return _.value||e.option||Object.create(null)})),h=t.computed((function(){return e.theme||t.unref(l)||{}})),p=t.computed((function(){return e.initOptions||t.unref(d)||{}})),m=t.computed((function(){return e.updateOptions||t.unref(f)||{}})),b=t.toRefs(e),w=b.autoresize,y=b.manualUpdate,L=b.loading,A=t.toRef(e,"theme"),T=t.toRef(e,"initOptions"),j=t.toRef(e,"loadingOptions"),V=t.computed((function(){return function(e){var t={};for(var n in e)O(n)||(t[n]=e[n]);return t}(s)}));function D(i){if(!c.value&&u.value){var r=c.value=n.init(u.value,h.value,p.value);e.group&&(r.group=e.group);var o=a;o||(o={},Object.keys(s).filter((function(e){return 0===e.indexOf("on")&&e.length>2})).forEach((function(e){var t=e.charAt(2).toLowerCase()+e.slice(3);o[t]=s[e]}))),Object.keys(o).forEach((function(e){var t=o[e];t&&(0===e.indexOf("zr:")?r.getZr().on(e.slice(3).toLowerCase(),t):r.on(e.toLowerCase(),t))})),r.setOption(i||v.value,m.value),t.nextTick(_),setTimeout(_)}function _(){r&&!r.isDisposed()&&r.resize()}}function R(){c.value&&(c.value.dispose(),c.value=void 0)}var N=null;t.watch(y,(function(n){"function"==typeof N&&(N(),N=null),n||(N=t.watch((function(){return e.option}),(function(t){t&&(c.value?c.value.setOption(t,e.updateOptions):D())}),{deep:!0}))}),{immediate:!0}),t.watch([A,T],(function(){R(),D()}),{deep:!0}),t.watchEffect((function(){e.group&&c.value&&(c.value.group=e.group)}));var S=function(e,t){function n(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(e.value||t(),!e.value)throw new Error("ECharts is not initialized yet.");return e.value[n].apply(e.value,i)}}function o(e){return n(e)}return i(i({},(s=Object.create(null),r.forEach((function(e){s[e]=n(e)})),s)),{dispatchAction:o("dispatchAction"),getDataURL:o("getDataURL"),getConnectedDataURL:o("getConnectedDataURL")});var s}(c,D);!function(e,n,r){var o=t.inject(z,{}),s=t.computed((function(){return i(i({},t.unref(o)),null==r?void 0:r.value)}));t.watchEffect((function(){var t=e.value;t&&(n.value?t.showLoading(s.value):t.hideLoading())}))}(c,L,j),g(c,w,u,v),t.onMounted((function(){e.option&&D()})),t.onUnmounted(R);var U=i({root:u,setOption:function(t,n){e.manualUpdate&&(_.value=t),c.value?c.value.setOption(t,i(i({},m.value),n)):D(t)},nonEventAttrs:V},S);return Object.defineProperty(U,"chart",{get:function(){return t.unref(c)}}),U},render:function(){var e=i({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",t.h(y,e)}}),A=Object.freeze({__proto__:null,default:L,LOADING_OPTIONS_KEY:z,THEME_KEY:E,INIT_OPTIONS_KEY:C,UPDATE_OPTIONS_KEY:x});return i(i({},L),A)}));
//# sourceMappingURL=index.umd.min.js.map
