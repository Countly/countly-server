<div class="cly-vue-sidebar bu-is-flex">
    <div class="cly-vue-sidebar__menu-options bu-is-flex bu-is-flex-direction-column bu-is-align-items-center bu-is-justify-content-space-between">
        <ul class="bu-is-flex bu-is-flex-direction-column bu-is-flex-align-items-center bu-is-flex-justify-content-center">
            <li v-for="item in mainMenuOptions" v-tooltip.right="{content: item.tooltip, container: false}" :key="item.name" @click="onClick(item)" class="cly-vue-sidebar__menu-option bu-is-flex bu-is-justify-content-center bu-is-align-items-center">
                <div v-if="item.name === 'app'" class="cly-vue-sidebar__menu-option-app"></div>
                <div v-if="item.name === 'divider'" class="cly-vue-sidebar__menu-option-divider"></div>
                <div v-if="item.name === 'last-queries'">
                    <cly-report-manager-dialog :disableAutoNavigationToTask="false" :disableRunningCount="true">
                            <template v-slot:trigger="scope">
                                <i :class="[item.icon, {'cly-vue-sidebar__menu-option--selected': item.name === selectedMenuOption}]" @click="scope.showDialog"></i>
                            </template>
                    </cly-report-manager-dialog>  
                </div>
                <i v-else :class="[item.icon, {'cly-vue-sidebar__menu-option--selected': item.name === selectedMenuOption}]"></i>
            </li>
        </ul>
        <ul class="bu-is-flex bu-is-flex-direction-column bu-is-align-items-center bu-is-justify-content-center">
            <li v-for="item in otherMenuOptions"
                :key="item.name"
                @click="onClick(item)"
                :class="[{
                    'cly-vue-sidebar__menu-option-toggle': item.name === 'toggle',
                    'cly-vue-sidebar__menu-option-toggle--no-bg': item.name === 'toggle' && !showMainMenu,
                    },
                    'cly-vue-sidebar__menu-option bu-is-flex bu-is-justify-content-center bu-is-align-items-center']"
                v-tooltip.right="{content: item.tooltip, container: false}">
                <users-menu v-if="item.name === 'user'" :item="item"></users-menu>
                <language-menu v-else-if="item.name === 'language'" :item="item"></language-menu>
                <i v-else-if="item.name === 'toggle'"
                    :class="[item.icon, {
                        'cly-vue-sidebar__menu-option-toggle--rotate-left': showMainMenu,
                        'cly-vue-sidebar__menu-option-toggle--rotate-right': !showMainMenu
                    }]"></i>
                <i v-else :class="[item.icon, {'cly-vue-sidebar__menu-option--selected': item.name === selectedMenuOption}]"></i>
            </li>
        </ul>
    </div>

    <transition name="cly-vue-sidebar__slide-transition">
        <div class="cly-vue-sidebar__menu" v-if="showMainMenu">
            <analytics-menu v-show="selectedMenuOption === 'analytics'"></analytics-menu>
            <management-menu v-show="selectedMenuOption === 'management'"></management-menu>
            <component v-for="item in components" :is="item.component" v-show="selectedMenuOption === item.name" :key="item.name"></component>
            <div class="cly-vue-sidebar__version">{{versionInfo}}</div>
        </div>
    </transition>
</div>
