(function(f,a){function e(f,e){var h=a.createElement("canvas");h.setAttribute("width",f*j);h.setAttribute("height",e*j);4!=j&&h.setAttribute("style","width:"+f+"px;height:"+e+"px");return h}var h=f.fn.peity=function(e,j){a.createElement("canvas").getContext&&this.each(function(){f(this).change(function(){var a=f.extend({},j),H=this;f.each(a,function(e,h){f.isFunction(h)&&(a[e]=h.call(H))});var Q=f(this).html();h.graphers[e].call(this,f.extend({},h.defaults[e],a));f(this).trigger("chart:changed",Q)}).trigger("change")});
return this};h.graphers={};h.defaults={};h.add=function(f,e,a){h.graphers[f]=a;h.defaults[f]=e};var j=window.devicePixelRatio||1;h.add("pie",{colours:["#FFF4DD","#FF9900"],delimeter:"/",diameter:16},function(a){var h=f(this),j=h.text().split(a.delimeter),H=parseFloat(j[0]),Q=parseFloat(j[1]),j=-Math.PI/2,H=2*H/Q*Math.PI,Q=e(a.diameter,a.diameter),z=Q.getContext("2d"),K=Q.width/2;z.beginPath();z.moveTo(K,K);z.arc(K,K,K,H+j,0==H?2*Math.PI:j,!1);z.fillStyle=a.colours[0];z.fill();z.beginPath();z.moveTo(K,
K);z.arc(K,K,K,j,H+j,!1);z.fillStyle=a.colours[1];z.fill();h.wrapInner(f("<span>").hide()).append(Q)});h.add("line",{colour:"#c6d9fd",strokeColour:"#4d89f9",strokeWidth:1,delimeter:",",height:16,max:null,min:0,width:f(this).parent().outerWidth()-0.1*f(this).parent().outerWidth(),useMinAsBase:!1,opaqueGradient:!1},function(a){var h,D,H;a.width=f(this).parent().outerWidth()-0.1*f(this).parent().outerWidth();var Q=f(this),z=e(a.width,a.height);h=Q.text().split(a.delimeter);1==h.length&&h.push(h[0]);
var K=Math.max.apply(Math,h.concat([a.max]));D=Math.min.apply(Math,h.concat([a.min]));var F=z.getContext("2d"),P=z.getContext("2d").createLinearGradient(0,0,0,30);H=z.width;var S=z.height,aa=H/(h.length-1),ea=S/(K-D),K=[],R;F.beginPath();F.moveTo(0,S+D*ea);var V=0;if(a.useMinAsBase){V=h.length?h[0]:0;for(R=0;R<h.length;R++)h[R]<V&&(V=h[R])}for(R=0;R<h.length;R++){var Z=R*aa,fa=S-ea*(h[R]-D-V);K.push({x:Z,y:fa});F.lineTo(Z,fa)}F.lineTo(H,S+D*ea);a.opaqueGradient?(h=a.colour,h=h.replace(/^\s*#|\s*$/g,
""),3==h.length&&(h=h.replace(/(.)/g,"$1$1")),r=parseInt(h.substr(0,2),16),g=parseInt(h.substr(2,2),16),b=parseInt(h.substr(4,2),16),h=r,D=g,H=b,P.addColorStop(0.3,"rgba("+h+", "+D+", "+H+", 0.4)"),P.addColorStop(0.7,"rgba("+h+", "+D+", "+H+", 0.2)"),P.addColorStop(1,"rgba("+h+", "+D+", "+H+", 0)")):(F.globalAlpha=0.3,P.addColorStop(1,a.colour));F.fillStyle=P;F.fill();F.globalAlpha=1;if(a.strokeWidth){F.beginPath();F.moveTo(0,K[0].y);for(R=0;R<K.length;R++)F.lineTo(K[R].x,K[R].y);F.lineWidth=a.strokeWidth*
j;F.strokeStyle=a.strokeColour;F.stroke()}Q.wrapInner(f("<span>").hide()).append(z)});h.add("bar",{colour:"#4D89F9",delimeter:",",height:16,max:null,min:0,width:120,maxBars:10,padding:10,borderBottom:2},function(a){a.width=120;var h=f(this),j=h.text().split(a.delimeter);if(j.length>a.maxBars){for(var H=Math.ceil(j.length/a.maxBars),Q=0,z=0,K=[],F=0,P=0;P<j.length;P++)F+=parseInt(j[P]),Q++,0==Q%H&&(K[z]=F/H,z++,F=0);if(Q!=j.length){for(P=Q;P<j.length;P++)F+=j[P];K[z]=F/H}j=K}var P=Math.max.apply(Math,
j.concat([a.max])),H=Math.min.apply(Math,j.concat([a.min])),Q=e(a.width,a.height),z=Q.getContext("2d"),K=Q.width-a.padding,F=Q.height,S=F/(P-H),aa=(K+2)/j.length;z.fillStyle=a.colour;for(P=0;P<j.length;P++)z.fillRect(P*aa+Math.floor(a.padding/2),F-S*(j[P]-H)-a.borderBottom,aa-2,S*j[P]);a.borderBottom&&z.fillRect(0,F-a.borderBottom,K+a.padding,a.borderBottom);h.wrapInner(f("<span>").hide()).append(Q)})})(jQuery,document);(function(f){f.color={};f.color.make=function(a,h,j,l){var t={};t.r=a||0;t.g=h||0;t.b=j||0;t.a=null!=l?l:1;t.add=function(f,a){for(var e=0;e<f.length;++e)t[f.charAt(e)]+=a;return t.normalize()};t.scale=function(f,a){for(var e=0;e<f.length;++e)t[f.charAt(e)]*=a;return t.normalize()};t.toString=function(){return 1<=t.a?"rgb("+[t.r,t.g,t.b].join()+")":"rgba("+[t.r,t.g,t.b,t.a].join()+")"};t.normalize=function(){function f(a,e,h){return e<a?a:e>h?h:e}t.r=f(0,parseInt(t.r),255);t.g=f(0,parseInt(t.g),255);
t.b=f(0,parseInt(t.b),255);t.a=f(0,t.a,1);return t};t.clone=function(){return f.color.make(t.r,t.b,t.g,t.a)};return t.normalize()};f.color.extract=function(a,h){var j;do{j=a.css(h).toLowerCase();if(""!=j&&"transparent"!=j)break;a=a.parent()}while(!f.nodeName(a.get(0),"body"));"rgba(0, 0, 0, 0)"==j&&(j="transparent");return f.color.parse(j)};f.color.parse=function(e){var h,j=f.color.make;if(h=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return j(parseInt(h[1],10),parseInt(h[2],
10),parseInt(h[3],10));if(h=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return j(parseInt(h[1],10),parseInt(h[2],10),parseInt(h[3],10),parseFloat(h[4]));if(h=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return j(2.55*parseFloat(h[1]),2.55*parseFloat(h[2]),2.55*parseFloat(h[3]));if(h=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return j(2.55*
parseFloat(h[1]),2.55*parseFloat(h[2]),2.55*parseFloat(h[3]),parseFloat(h[4]));if(h=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return j(parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16));if(h=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return j(parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16));e=f.trim(e).toLowerCase();if("transparent"==e)return j(255,255,255,0);h=a[e]||[0,0,0];return j(h[0],h[1],h[2])};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(f){function a(a,j,l,t){function D(a,f){for(var f=[u].concat(f),e=0;e<a.length;++e)a[e].apply(this,f)}function H(a){for(var e=[],h=0;h<a.length;++h){var B=f.extend(!0,{},G.series);null!=a[h].data?(B.data=a[h].data,delete a[h].data,f.extend(!0,B,a[h]),a[h].data=B.data):B.data=a[h];e.push(B)}ca=e;e=ca.length;h=[];B=[];for(a=0;a<ca.length;++a){var p=ca[a].color;null!=p&&(--e,"number"==typeof p?B.push(p):h.push(f.color.parse(ca[a].color)))}for(a=0;a<B.length;++a)e=Math.max(e,B[a]+1);h=[];for(a=
B=0;h.length<e;)p=G.colors.length==a?f.color.make(100,100,100):f.color.parse(G.colors[a]),p.scale("rgb",1+0.2*(1==B%2?-1:1)*Math.ceil(B/2)),h.push(p),++a,a>=G.colors.length&&(a=0,++B);for(a=e=0;a<ca.length;++a){B=ca[a];null==B.color?(B.color=h[e].toString(),++e):"number"==typeof B.color&&(B.color=h[B.color].toString());if(null==B.lines.show){var n,p=!0;for(n in B)if(B[n]&&B[n].show){p=!1;break}p&&(B.lines.show=!0)}B.xaxis=F(ga,Q(B,"x"));B.yaxis=F(oa,Q(B,"y"))}n=function(a,f,e){f<a.datamin&&f!=-l&&
(a.datamin=f);e>a.datamax&&e!=l&&(a.datamax=e)};var j=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,l=Number.MAX_VALUE,s,u,da,t,wa;f.each(z(),function(a,f){f.datamin=j;f.datamax=v;f.used=!1});for(a=0;a<ca.length;++a)e=ca[a],e.datapoints={points:[]},D(w.processRawData,[e,e.data,e.datapoints]);for(a=0;a<ca.length;++a){var e=ca[a],L=e.data,pa=e.datapoints.format;if(!pa){pa=[];pa.push({x:!0,number:!0,required:!0});pa.push({y:!0,number:!0,required:!0});if(e.bars.show||e.lines.show&&e.lines.fill)pa.push({y:!0,
number:!0,required:!1,defaultValue:0}),e.bars.horizontal&&(delete pa[pa.length-1].y,pa[pa.length-1].x=!0);e.datapoints.format=pa}if(null==e.datapoints.pointsize){e.datapoints.pointsize=pa.length;u=e.datapoints.pointsize;p=e.datapoints.points;insertSteps=e.lines.show&&e.lines.steps;e.xaxis.used=e.yaxis.used=!0;for(h=s=0;h<L.length;++h,s+=u){wa=L[h];var E=null==wa;if(!E)for(B=0;B<u;++B){da=wa[B];if(t=pa[B])t.number&&null!=da&&(da=+da,isNaN(da)?da=null:Infinity==da?da=l:-Infinity==da&&(da=-l)),null==
da&&(t.required&&(E=!0),null!=t.defaultValue&&(da=t.defaultValue));p[s+B]=da}if(E)for(B=0;B<u;++B)da=p[s+B],null!=da&&(t=pa[B],t.x&&n(e.xaxis,da,da),t.y&&n(e.yaxis,da,da)),p[s+B]=null;else if(insertSteps&&0<s&&null!=p[s-u]&&p[s-u]!=p[s]&&p[s-u+1]!=p[s+1]){for(B=0;B<u;++B)p[s+u+B]=p[s+B];p[s+1]=p[s-u+1];s+=u}}}}for(a=0;a<ca.length;++a)e=ca[a],D(w.processDatapoints,[e,e.datapoints]);for(a=0;a<ca.length;++a){e=ca[a];p=e.datapoints.points;u=e.datapoints.pointsize;wa=s=j;E=L=v;for(h=0;h<p.length;h+=u)if(null!=
p[h])for(B=0;B<u;++B)if(da=p[h+B],(t=pa[B])&&!(da==l||da==-l))t.x&&(da<s&&(s=da),da>L&&(L=da)),t.y&&(da<wa&&(wa=da),da>E&&(E=da));e.bars.show&&(h="left"==e.bars.align?0:-e.bars.barWidth/2,e.bars.horizontal?(wa+=h,E+=h+e.bars.barWidth):(s+=h,L+=h+e.bars.barWidth));n(e.xaxis,s,L);n(e.yaxis,wa,E)}f.each(z(),function(a,f){f.datamin==j&&(f.datamin=null);f.datamax==v&&(f.datamax=null)})}function Q(a,f){var e=a[f+"axis"];"object"==typeof e&&(e=e.n);"number"!=typeof e&&(e=1);return e}function z(){return f.grep(ga.concat(oa),
function(a){return a})}function K(a){var f={},e,h;for(e=0;e<ga.length;++e)(h=ga[e])&&h.used&&(f["x"+h.n]=h.c2p(a.left));for(e=0;e<oa.length;++e)(h=oa[e])&&h.used&&(f["y"+h.n]=h.c2p(a.top));void 0!==f.x1&&(f.x=f.x1);void 0!==f.y1&&(f.y=f.y1);return f}function F(a,e){a[e-1]||(a[e-1]={n:e,direction:a==ga?"x":"y",options:f.extend(!0,{},a==ga?G.xaxis:G.yaxis)});return a[e-1]}function P(e,n){var C=document.createElement("canvas");C.className=n;C.width=ma;C.height=qa;e||f(C).css({position:"absolute",left:0,
top:0});f(C).appendTo(a);C.getContext||(C=window.G_vmlCanvasManager.initElement(C));C.getContext("2d").save();return C}function S(){ma=a.width()+10;qa=a.height();if(0>=ma||0>=qa)throw"Invalid dimensions for plot, width = "+ma+", height = "+qa;}function aa(a){a.width!=ma&&(a.width=ma);a.height!=qa&&(a.height=qa);a=a.getContext("2d");a.restore();a.save()}function ea(a){var e=a.labelWidth,h=a.labelHeight,n=a.options.position,p=a.options.tickLength,j=G.grid.axisMargin,s=G.grid.labelMargin,v="x"==a.direction?
ga:oa,l=f.grep(v,function(a){return a&&a.options.position==n&&a.reserveSpace});f.inArray(a,l)==l.length-1&&(j=0);null==p&&(p="full");v=f.grep(v,function(a){return a&&a.reserveSpace});v=0==f.inArray(a,v);!v&&"full"==p&&(p=5);isNaN(+p)||(s+=+p);"x"==a.direction?(h+=s,"bottom"==n?(T.bottom+=h+j,a.box={top:qa-T.bottom,height:h}):(a.box={top:T.top+j,height:h},T.top+=h+j)):(e+=s,"left"==n?(a.box={left:T.left+j+25,width:e},T.left+=e+j-(e+25)):"right"==n?(a.box={left:ma-e-15-T.right-j,width:e},T.left+=e+
j-e):(T.right+=e+j,a.box={left:ma-T.right,width:e}));a.position=n;a.tickLength=p;a.box.padding=s;a.innermost=v}function R(){var I,j=z();f.each(j,function(a,e){e.show=e.options.show;null==e.show&&(e.show=e.used);e.reserveSpace=e.show||e.options.reserveSpace;var f=e.options,h=+(null!=f.min?f.min:e.datamin),p=+(null!=f.max?f.max:e.datamax),n=p-h;if(0==n){if(n=0==p?1:0.01,null==f.min&&(h-=n),null==f.max||null!=f.min)p+=n}else{var I=f.autoscaleMargin;null!=I&&(null==f.min&&(h-=n*I,0>h&&(null!=e.datamin&&
0<=e.datamin)&&(h=0)),null==f.max&&(p+=n*I,0<p&&(null!=e.datamax&&0>=e.datamax)&&(p=0)))}e.min=h;e.max=p});allocatedAxes=f.grep(j,function(a){return a.reserveSpace});T.left=T.right=T.top=T.bottom=0;if(G.grid.show){f.each(allocatedAxes,function(p,n){var I=n.options,j;j="number"==typeof I.ticks&&0<I.ticks?I.ticks:0.3*Math.sqrt("x"==n.direction?ma:qa);j=(n.max-n.min)/j;var B,C,s,v;if("time"==I.mode){var l={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*6E4};v=[[1,"second"],[2,"second"],
[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];B=0;null!=I.minTickSize&&(B="number"==typeof I.tickSize?I.tickSize:I.minTickSize[0]*l[I.minTickSize[1]]);for(C=0;C<v.length-1&&!(j<(v[C][0]*l[v[C][1]]+v[C+1][0]*l[v[C+1][1]])/2&&v[C][0]*l[v[C][1]]>=B);++C);B=v[C][0];s=
v[C][1];"year"==s&&(C=Math.pow(10,Math.floor(Math.log(j/l.year)/Math.LN10)),v=j/l.year/C,B=(1.5>v?1:3>v?2:7.5>v?5:10)*C);n.tickSize=I.tickSize||[B,s];C=function(a){var f=[],h=a.tickSize[0],n=a.tickSize[1],p=new Date(a.min),I=h*l[n];"second"==n&&p.setUTCSeconds(e(p.getUTCSeconds(),h));"minute"==n&&p.setUTCMinutes(e(p.getUTCMinutes(),h));"hour"==n&&p.setUTCHours(e(p.getUTCHours(),h));"month"==n&&p.setUTCMonth(e(p.getUTCMonth(),h));"year"==n&&p.setUTCFullYear(e(p.getUTCFullYear(),h));p.setUTCMilliseconds(0);
I>=l.minute&&p.setUTCSeconds(0);I>=l.hour&&p.setUTCMinutes(0);I>=l.day&&p.setUTCHours(0);I>=4*l.day&&p.setUTCDate(1);I>=l.year&&p.setUTCMonth(0);var j=0,B=Number.NaN,C;do if(C=B,B=p.getTime(),f.push(B),"month"==n)if(1>h){p.setUTCDate(1);var v=p.getTime();p.setUTCMonth(p.getUTCMonth()+1);var s=p.getTime();p.setTime(B+j*l.hour+(s-v)*h);j=p.getUTCHours();p.setUTCHours(0)}else p.setUTCMonth(p.getUTCMonth()+h);else"year"==n?p.setUTCFullYear(p.getUTCFullYear()+h):p.setTime(B+I);while(B<a.max&&B!=C);return f};
B=function(a,e){var h=new Date(a);if(null!=I.timeformat)return f.plot.formatDate(h,I.timeformat,I.monthNames);var p=e.tickSize[0]*l[e.tickSize[1]],n=e.max-e.min,j=I.twelveHourClock?" %p":"";fmt=p<l.minute?"%h:%M:%S"+j:p<l.day?n<2*l.day?"%h:%M"+j:"%b %d %h:%M"+j:p<l.month?"%b %d":p<l.year?n<l.year?"%b":"%b %y":"%y";return f.plot.formatDate(h,fmt,I.monthNames)}}else{s=I.tickDecimals;var u=-Math.floor(Math.log(j)/Math.LN10);null!=s&&u>s&&(u=s);C=Math.pow(10,-u);v=j/C;if(1.5>v)B=1;else if(3>v){if(B=2,
2.25<v&&(null==s||u+1<=s))B=2.5,++u}else B=7.5>v?5:10;B*=C;null!=I.minTickSize&&B<I.minTickSize&&(B=I.minTickSize);n.tickDecimals=Math.max(0,null!=s?s:u);n.tickSize=I.tickSize||B;C=function(a){var f=[],h=e(a.min,a.tickSize),p=0,n=Number.NaN,I;do I=n,n=h+p*a.tickSize,f.push(n),++p;while(n<a.max&&n!=I);return f};B=function(a,e){return a.toFixed(e.tickDecimals)}}if(null!=I.alignTicksWithAxis){var w=("x"==n.direction?ga:oa)[I.alignTicksWithAxis-1];w&&(w.used&&w!=n)&&(C=C(n),0<C.length&&(null==I.min&&
(n.min=Math.min(n.min,C[0])),null==I.max&&1<C.length&&(n.max=Math.max(n.max,C[C.length-1]))),C=function(a){var e=[],f,h;for(h=0;h<w.ticks.length;++h)f=(w.ticks[h].v-w.min)/(w.max-w.min),f=a.min+f*(a.max-a.min),e.push(f);return e},"time"!=n.mode&&null==I.tickDecimals&&(j=Math.max(0,-Math.floor(Math.log(j)/Math.LN10)+1),v=C(n),1<v.length&&/\..*0$/.test((v[1]-v[0]).toFixed(j))||(n.tickDecimals=j)))}n.tickGenerator=C;n.tickFormatter=f.isFunction(I.tickFormatter)?function(a,e){return""+I.tickFormatter(a,
e)}:B;B=n.options.ticks;j=[];null==B||"number"==typeof B&&0<B?j=n.tickGenerator(n):B&&(j=f.isFunction(B)?B({min:n.min,max:n.max}):B);n.ticks=[];for(B=0;B<j.length;++B)v=null,s=j[B],"object"==typeof s?(C=+s[0],1<s.length&&(v=s[1])):C=+s,null==v&&(v=n.tickFormatter(C,n)),isNaN(C)||n.ticks.push({v:C,label:v});j=n.ticks;n.options.autoscaleMargin&&0<j.length&&(null==n.options.min&&(n.min=Math.min(n.min,j[0].v)),null==n.options.max&&1<j.length&&(n.max=Math.max(n.max,j[j.length-1].v)));B=function(e,p){return f('<div style="position:absolute;top:-10000px;'+
p+'font-size:smaller"><div class="'+n.direction+"Axis "+n.direction+n.n+'Axis">'+e.join("")+"</div></div>").appendTo(a)};s=n.options;C=n.ticks||[];v=[];var t;j=s.labelWidth;s=s.labelHeight;if("x"==n.direction){if(null==j&&(j=60),null==s){v=[];for(u=0;u<C.length;++u)(t=C[u].label)&&v.push('<div class="tickLabel" style="float:left;width:'+j+'px">'+t+"</div>");0<v.length&&(v.push('<div style="clear:left"></div>'),B=B(v,"width:10000px;"),s=B.height(),B.remove())}}else if(null==j||null==s){for(u=0;u<C.length;++u)(t=
C[u].label)&&v.push('<div class="tickLabel">'+t+"</div>");0<v.length&&(B=B(v,""),null==j&&(j=B.children().width()),null==s&&(s=B.find("div.tickLabel").height()),B.remove())}null==j&&(j=0);null==s&&(s=0);n.labelWidth=j;n.labelHeight=s});for(I=allocatedAxes.length-1;0<=I;--I)ea(allocatedAxes[I]);var C=G.grid.minBorderMargin;if(null==C)for(I=C=0;I<ca.length;++I)C=Math.max(C,ca[I].points.radius+ca[I].points.lineWidth/2)-0;for(var B in T)T[B]+=G.grid.borderWidth,T[B]=Math.max(C,T[B])}n=ma-T.left-T.right;
s=qa-T.bottom-T.top;f.each(j,function(a,e){var f=function(a){return a},h,p,I=e.options.transform||f,j=e.options.inverseTransform;"x"==e.direction?(h=e.scale=n/Math.abs(I(e.max)-I(e.min)),p=Math.min(I(e.max),I(e.min))):(h=e.scale=s/Math.abs(I(e.max)-I(e.min)),h=-h,p=Math.max(I(e.max),I(e.min)));e.p2c=I==f?function(a){return(a-p)*h}:function(a){return(I(a)-p)*h};e.c2p=j?function(a){return j(p+a/h)}:function(a){return p+a/h}});if(G.grid.show){f.each(allocatedAxes,function(a,e){"x"==e.direction?(e.box.left=
T.left,e.box.width=n):(e.box.top=T.top,e.box.height=s)});a.find(".tickLabels").remove();I=['<div class="tickLabels" style="font-size:smaller;">'];j=z();for(C=0;C<j.length;++C){B=j[C];var p=B.box;if(B.show){I.push('<div class="'+B.direction+"Axis "+B.direction+B.n+'Axis" style="color:'+B.options.color+'">');for(var v=0;v<B.ticks.length;++v){var l=B.ticks[v];if(l.label&&!(l.v<B.min||l.v>B.max)){var u={},t;"x"==B.direction?(t="center",u.left=Math.round(T.left+B.p2c(l.v)-B.labelWidth/2),"bottom"==B.position?
u.top=p.top+p.padding:u.bottom=qa-(p.top+p.height-p.padding)):(u.top=Math.round(T.top+B.p2c(l.v)-B.labelHeight/2)-10,"left"==B.position?u.right=ma-(p.left+p.width-p.padding):u.left=p.left+p.padding,t="left");u.width=B.labelWidth;t=["z-index:-10","position:absolute","text-align:"+t];for(var w in u)t.push(w+":"+u[w]+"px");I.push('<div class="tickLabel" style="'+t.join(";")+'">'+l.label+"</div>")}}I.push("</div>")}}I.push("</div>");a.append(I.join(""))}a.find(".legend").remove();if(G.legend.show){w=
[];I=!1;j=G.legend.labelFormatter;for(p=0;p<ca.length;++p)if(C=ca[p],B=C.label)0==p%G.legend.noColumns&&(I&&w.push("</tr>"),w.push("<tr>"),I=!0),j&&(B=j(B,C)),w.push('<td class="legendColorBox"><div style="border:1px solid '+G.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+C.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+B+"</td>");I&&w.push("</tr>");0!=w.length&&(I='<table style="font-size:smaller;color:'+G.grid.color+'">'+w.join("")+
"</table>",null!=G.legend.container?f(G.legend.container).html(I):(w="",j=G.legend.position,C=G.legend.margin,null==C[0]&&(C=[C,C]),"n"==j.charAt(0)?w+="top:"+(C[1]+T.top)+"px;":"s"==j.charAt(0)&&(w+="bottom:"+(C[1]+T.bottom)+"px;"),"e"==j.charAt(1)?w+="right:"+(C[0]+T.right)+"px;":"w"==j.charAt(1)&&(w+="left:"+(C[0]+T.left)+"px;"),I=f('<div class="legend">'+I.replace('style="','style="position:absolute;'+w+";")+"</div>").appendTo(a),0!=G.legend.backgroundOpacity&&(j=G.legend.backgroundColor,null==
j&&(j=(j=G.grid.backgroundColor)&&"string"==typeof j?f.color.parse(j):f.color.extract(I,"background-color"),j.a=1,j=j.toString()),C=I.children(),f('<div style="position:absolute;width:'+C.width()+"px;height:"+C.height()+"px;"+w+"background-color:"+j+';"> </div>').prependTo(I).css("opacity",G.legend.backgroundOpacity))))}}function V(){J.clearRect(0,0,ma,qa);var a=G.grid;a.show&&a.backgroundColor&&(J.save(),J.translate(T.left,T.top),J.fillStyle=Ga(G.grid.backgroundColor,s,0,"rgba(255, 255, 255, 0)"),
J.fillRect(0,0,n,s),J.restore());a.show&&!a.aboveData&&fa();for(var e=0;e<ca.length;++e){D(w.drawSeries,[J,ca[e]]);var f=ca[e];f.lines.show&&v(f);f.bars.show&&U(f);f.points.show&&Y(f)}D(w.draw,[J]);a.show&&a.aboveData&&fa()}function Z(a,e){var f,h,p,n,j=z();for(i=0;i<j.length;++i)if(f=j[i],f.direction==e&&(n=e+f.n+"axis",!a[n]&&1==f.n&&(n=e+"axis"),a[n])){h=a[n].from;p=a[n].to;break}a[n]||(f="x"==e?ga[0]:oa[0],h=a[e+"1"],p=a[e+"2"]);null!=h&&(null!=p&&h>p)&&(n=h,h=p,p=n);return{from:h,to:p,axis:f}}
function fa(){var a;J.save();J.translate(T.left,T.top);var e=G.grid.markings;if(e){if(f.isFunction(e)){var h=u.getAxes();h.xmin=h.xaxis.min;h.xmax=h.xaxis.max;h.ymin=h.yaxis.min;h.ymax=h.yaxis.max;e=e(h)}for(a=0;a<e.length;++a){var h=e[a],j=Z(h,"x"),p=Z(h,"y");null==j.from&&(j.from=j.axis.min);null==j.to&&(j.to=j.axis.max);null==p.from&&(p.from=p.axis.min);null==p.to&&(p.to=p.axis.max);j.to<j.axis.min||(j.from>j.axis.max||p.to<p.axis.min||p.from>p.axis.max)||(j.from=Math.max(j.from,j.axis.min),j.to=
Math.min(j.to,j.axis.max),p.from=Math.max(p.from,p.axis.min),p.to=Math.min(p.to,p.axis.max),j.from==j.to&&p.from==p.to||(j.from=j.axis.p2c(j.from),j.to=j.axis.p2c(j.to),p.from=p.axis.p2c(p.from),p.to=p.axis.p2c(p.to),j.from==j.to||p.from==p.to?(J.beginPath(),J.strokeStyle=h.color||G.grid.markingsColor,J.lineWidth=h.lineWidth||G.grid.markingsLineWidth,J.moveTo(j.from,p.from),J.lineTo(j.to,p.to),J.stroke()):(J.fillStyle=h.color||G.grid.markingsColor,J.fillRect(j.from,p.to,j.to-j.from,p.from-p.to))))}}h=
z();e=G.grid.borderWidth;for(j=0;j<h.length;++j){p=h[j];a=p.box;var v=p.tickLength,l,w,t,L;if(p.show&&0!=p.ticks.length){J.strokeStyle=p.options.tickColor||f.color.parse(p.options.color).scale("a",0.22).toString();J.lineWidth=1;"x"==p.direction?(l=0,w="full"==v?"top"==p.position?0:s:a.top-T.top+("top"==p.position?a.height:0)):(w=0,l="full"==v?"left"==p.position?0:n:a.left-T.left+("left"==p.position?a.width:0));p.innermost||(J.beginPath(),t=L=0,"x"==p.direction?t=n:L=s,1==J.lineWidth&&(l=Math.floor(l)+
0.5,w=Math.floor(w)+0.5),J.moveTo(l,w),J.lineTo(l+t,w+L),J.stroke());J.beginPath();for(a=0;a<p.ticks.length;++a){var E=p.ticks[a].v;t=L=0;E<p.min||(E>p.max||"full"==v&&0<e&&(E==p.min||E==p.max))||("x"==p.direction?(l=p.p2c(E),L="full"==v?-s:v,"top"==p.position&&(L=-L)):(w=p.p2c(E),t="full"==v?-n:v,"left"==p.position&&(t=-t)),1==J.lineWidth&&("x"==p.direction?l=Math.floor(l)+0.5:w=Math.floor(w)+0.5),J.beginPath(),J.strokeStyle=p.options.tickColor||f.color.parse(p.options.color).scale("a",0.22).toString(),
J.moveTo(l,w),J.lineTo(l+t,w+L),J.stroke(),J.beginPath(),J.strokeStyle="#FFFFFF",J.moveTo(l,w+1),J.lineTo(l+t,w+L+1),J.stroke())}J.stroke()}}e&&(J.lineWidth=e,J.strokeStyle=G.grid.borderColor,J.strokeRect(-e/2,-e/2,n+e,s+e));J.restore()}function v(a){function e(a,f,h,n,p){var j=a.points,a=a.pointsize,I=null,v=null;J.beginPath();for(var l=a;l<j.length;l+=a){var C=j[l-a],s=j[l-a+1],B=j[l],u=j[l+1];if(!(null==C||null==B)){if(s<=u&&s<p.min){if(u<p.min)continue;C=(p.min-s)/(u-s)*(B-C)+C;s=p.min}else if(u<=
s&&u<p.min){if(s<p.min)continue;B=(p.min-s)/(u-s)*(B-C)+C;u=p.min}if(s>=u&&s>p.max){if(u>p.max)continue;C=(p.max-s)/(u-s)*(B-C)+C;s=p.max}else if(u>=s&&u>p.max){if(s>p.max)continue;B=(p.max-s)/(u-s)*(B-C)+C;u=p.max}if(C<=B&&C<n.min){if(B<n.min)continue;s=(n.min-C)/(B-C)*(u-s)+s;C=n.min}else if(B<=C&&B<n.min){if(C<n.min)continue;u=(n.min-C)/(B-C)*(u-s)+s;B=n.min}if(C>=B&&C>n.max){if(B>n.max)continue;s=(n.max-C)/(B-C)*(u-s)+s;C=n.max}else if(B>=C&&B>n.max){if(C>n.max)continue;u=(n.max-C)/(B-C)*(u-s)+
s;B=n.max}(C!=I||s!=v)&&J.moveTo(n.p2c(C)+f,p.p2c(s)+h);I=B;v=u;J.lineTo(n.p2c(B)+f,p.p2c(u)+h)}}J.stroke()}J.save();J.translate(T.left,T.top);J.lineJoin="round";var f=a.lines.lineWidth,h=a.shadowSize;if(0<f&&0<h){J.lineWidth=h;J.strokeStyle="rgba(0,0,0,0.1)";var p=Math.PI/18;e(a.datapoints,Math.sin(p)*(f/2+h/2),Math.cos(p)*(f/2+h/2),a.xaxis,a.yaxis);J.lineWidth=h/2;e(a.datapoints,Math.sin(p)*(f/2+h/4),Math.cos(p)*(f/2+h/4),a.xaxis,a.yaxis)}J.lineWidth=f;J.strokeStyle=a.color;if(h=ta(a.lines,a.color,
0,s)){J.fillStyle=h;for(var n=a.datapoints,h=a.xaxis,p=a.yaxis,j=n.points,n=n.pointsize,v=Math.min(Math.max(0,p.min),p.max),l=0,u=!1,w=1,t=0,L=0;!(0<n&&l>j.length+n);){var l=l+n,E=j[l-n],U=j[l-n+w],O=j[l],N=j[l+w];if(u){if(0<n&&null!=E&&null==O){L=l;n=-n;w=2;continue}if(0>n&&l==t+n){J.fill();u=!1;n=-n;w=1;l=t=L+n;continue}}if(!(null==E||null==O)){if(E<=O&&E<h.min){if(O<h.min)continue;U=(h.min-E)/(O-E)*(N-U)+U;E=h.min}else if(O<=E&&O<h.min){if(E<h.min)continue;N=(h.min-E)/(O-E)*(N-U)+U;O=h.min}if(E>=
O&&E>h.max){if(O>h.max)continue;U=(h.max-E)/(O-E)*(N-U)+U;E=h.max}else if(O>=E&&O>h.max){if(E>h.max)continue;N=(h.max-E)/(O-E)*(N-U)+U;O=h.max}u||(J.beginPath(),J.moveTo(h.p2c(E),p.p2c(v)),u=!0);if(U>=p.max&&N>=p.max)J.lineTo(h.p2c(E),p.p2c(p.max)),J.lineTo(h.p2c(O),p.p2c(p.max));else if(U<=p.min&&N<=p.min)J.lineTo(h.p2c(E),p.p2c(p.min)),J.lineTo(h.p2c(O),p.p2c(p.min));else{var ha=E,G=O;U<=N&&U<p.min&&N>=p.min?(E=(p.min-U)/(N-U)*(O-E)+E,U=p.min):N<=U&&(N<p.min&&U>=p.min)&&(O=(p.min-U)/(N-U)*(O-E)+
E,N=p.min);U>=N&&U>p.max&&N<=p.max?(E=(p.max-U)/(N-U)*(O-E)+E,U=p.max):N>=U&&(N>p.max&&U<=p.max)&&(O=(p.max-U)/(N-U)*(O-E)+E,N=p.max);E!=ha&&J.lineTo(h.p2c(ha),p.p2c(U));J.lineTo(h.p2c(E),p.p2c(U));J.lineTo(h.p2c(O),p.p2c(N));O!=G&&(J.lineTo(h.p2c(O),p.p2c(N)),J.lineTo(h.p2c(G),p.p2c(N)))}}}}0<f&&e(a.datapoints,0,0,a.xaxis,a.yaxis);J.restore()}function Y(a){function e(a,f,h,n,p,j,I,C){for(var s=a.points,a=a.pointsize,v=0;v<s.length;v+=a){var l=s[v],B=s[v+1];null==l||(l<j.min||l>j.max||B<I.min||B>
I.max)||(J.beginPath(),l=j.p2c(l),B=I.p2c(B)+n,"circle"==C?J.arc(l,B,f,0,p?Math.PI:2*Math.PI,!1):C(J,l,B,f,p),J.closePath(),h&&(J.fillStyle=h,J.fill()),J.stroke())}}J.save();J.translate(T.left,T.top);var f=a.points.lineWidth,h=a.shadowSize,n=a.points.radius,j=a.points.symbol;0<f&&0<h&&(h/=2,J.lineWidth=h,J.strokeStyle="rgba(0,0,0,0.1)",e(a.datapoints,n,null,h+h/2,!0,a.xaxis,a.yaxis,j),J.strokeStyle="rgba(0,0,0,0.2)",e(a.datapoints,n,null,h/2,!0,a.xaxis,a.yaxis,j));J.lineWidth=f;J.strokeStyle=a.color;
e(a.datapoints,n,ta(a.points,a.color),0,!1,a.xaxis,a.yaxis,j);J.restore()}function N(a,e,f,h,n,j,s,v,l,u,w,t){var E,L,U,O;w?(O=L=U=!0,E=!1,w=f,f=e+h,n=e+n,a<w&&(e=a,a=w,w=e,E=!0,L=!1)):(E=L=U=!0,O=!1,w=a+h,a+=n,n=f,f=e,f<n&&(e=f,f=n,n=e,O=!0,U=!1));if(!(a<v.min||w>v.max||f<l.min||n>l.max))if(w<v.min&&(w=v.min,E=!1),a>v.max&&(a=v.max,L=!1),n<l.min&&(n=l.min,O=!1),f>l.max&&(f=l.max,U=!1),w=v.p2c(w),n=l.p2c(n),a=v.p2c(a),f=l.p2c(f),s&&(u.beginPath(),u.moveTo(w,n),u.lineTo(w,f),u.lineTo(a,f),u.lineTo(a,
n),u.fillStyle=s(n,f),u.fill()),0<t&&(E||L||U||O))u.beginPath(),u.moveTo(w,n+j),E?u.lineTo(w,f+j):u.moveTo(w,f+j),U?u.lineTo(a,f+j):u.moveTo(a,f+j),L?u.lineTo(a,n+j):u.moveTo(a,n+j),O?u.lineTo(w,n+j):u.moveTo(w,n+j),u.stroke()}function U(a){J.save();J.translate(T.left,T.top);J.lineWidth=a.bars.lineWidth;J.strokeStyle=a.color;for(var e="left"==a.bars.align?0:-a.bars.barWidth/2,f=a.datapoints,h=e+a.bars.barWidth,n=a.bars.fill?function(e,f){return ta(a.bars,a.color,e,f)}:null,j=a.xaxis,s=a.yaxis,v=f.points,
f=f.pointsize,l=0;l<v.length;l+=f)null!=v[l]&&N(v[l],v[l+1],v[l+2],e,h,0,n,j,s,J,a.bars.horizontal,a.bars.lineWidth);J.restore()}function ta(a,e,h,n){var j=a.fill;if(!j)return null;if(a.fillColor)return Ga(a.fillColor,h,n,e);a=f.color.parse(e);a.a="number"==typeof j?j:0.4;a.normalize();return a.toString()}function Pa(a){G.grid.hoverable&&Na("plothover",a,function(a){return!1!=a.hoverable})}function Qa(a){G.grid.hoverable&&Na("plothover",a,function(){return!1})}function Da(a){Na("plotclick",a,function(a){return!1!=
a.clickable})}function Na(e,f,n){var j=ra.offset(),p=f.pageX-j.left-T.left,s=f.pageY-j.top-T.top,l=K({left:p,top:s});l.pageX=f.pageX;l.pageY=f.pageY;var f=G.grid.mouseActiveRadius,v=f*f+1,u=null,w,t;for(w=ca.length-1;0<=w;--w)if(n(ca[w])){var E=ca[w],L=E.xaxis,U=E.yaxis,O=E.datapoints.points,N=E.datapoints.pointsize,D=L.c2p(p),F=U.c2p(s),Y=f/L.scale,ta=f/U.scale;L.options.inverseTransform&&(Y=Number.MAX_VALUE);U.options.inverseTransform&&(ta=Number.MAX_VALUE);if(E.lines.show||E.points.show)for(t=
0;t<O.length;t+=N){var H=O[t],z=O[t+1];if(null!=H&&!(H-D>Y||H-D<-Y||z-F>ta||z-F<-ta))H=Math.abs(L.p2c(H)-p),z=Math.abs(U.p2c(z)-s),z=H*H+z*z,z<v&&(v=z,u=[w,t/N])}if(E.bars.show&&!u){L="left"==E.bars.align?0:-E.bars.barWidth/2;E=L+E.bars.barWidth;for(t=0;t<O.length;t+=N)if(H=O[t],z=O[t+1],U=O[t+2],null!=H&&(ca[w].bars.horizontal?D<=Math.max(U,H)&&D>=Math.min(U,H)&&F>=z+L&&F<=z+E:D>=H+L&&D<=H+E&&F>=Math.min(U,z)&&F<=Math.max(U,z)))u=[w,t/N]}}u?(w=u[0],t=u[1],N=ca[w].datapoints.pointsize,n={datapoint:ca[w].datapoints.points.slice(t*
N,(t+1)*N),dataIndex:t,series:ca[w],seriesIndex:w}):n=null;n&&(n.pageX=parseInt(n.series.xaxis.p2c(n.datapoint[0])+j.left+T.left),n.pageY=parseInt(n.series.yaxis.p2c(n.datapoint[1])+j.top+T.top));if(G.grid.autoHighlight){for(j=0;j<ha.length;++j)p=ha[j],p.auto==e&&(!n||!(p.series==n.series&&p.point[0]==n.datapoint[0]&&p.point[1]==n.datapoint[1]))&&Ia(p.series,p.point);n&&xa(n.series,n.datapoint,e)}a.trigger(e,[l,n])}function Ja(){Oa||(Oa=setTimeout(Ea,30))}function Ea(){Oa=null;ka.save();ka.clearRect(0,
0,ma,qa);ka.translate(T.left,T.top);var a,e;for(a=0;a<ha.length;++a)if(e=ha[a],e.series.bars.show)Ka(e.series,e.point);else{var h=e.series,n=e.point;e=n[0];var n=n[1],j=h.xaxis,s=h.yaxis;if(!(e<j.min||e>j.max||n<s.min||n>s.max)){var l=h.points.radius+h.points.lineWidth/2;ka.lineWidth=l;ka.strokeStyle=f.color.parse(h.color).scale("a",0.5).toString();l*=1.5;e=j.p2c(e);n=s.p2c(n);ka.beginPath();"circle"==h.points.symbol?ka.arc(e,n,l,0,2*Math.PI,!1):h.points.symbol(ka,e,n,l,!1);ka.closePath();ka.stroke()}}ka.restore();
D(w.drawOverlay,[ka])}function xa(a,e,f){"number"==typeof a&&(a=ca[a]);if("number"==typeof e)var h=a.datapoints.pointsize,e=a.datapoints.points.slice(h*e,h*(e+1));h=za(a,e);-1==h?(ha.push({series:a,point:e,auto:f}),Ja()):f||(ha[h].auto=!1)}function Ia(a,e){null==a&&null==e&&(ha=[],Ja());"number"==typeof a&&(a=ca[a]);"number"==typeof e&&(e=a.data[e]);var f=za(a,e);-1!=f&&(ha.splice(f,1),Ja())}function za(a,e){for(var f=0;f<ha.length;++f){var h=ha[f];if(h.series==a&&h.point[0]==e[0]&&h.point[1]==e[1])return f}return-1}
function Ka(a,e){ka.lineWidth=a.bars.lineWidth;ka.strokeStyle=f.color.parse(a.color).scale("a",0.5).toString();var h=f.color.parse(a.color).scale("a",0.5).toString(),n="left"==a.bars.align?0:-a.bars.barWidth/2;N(e[0],e[1],e[2]||0,n,n+a.bars.barWidth,0,function(){return h},a.xaxis,a.yaxis,ka,a.bars.horizontal,a.bars.lineWidth)}function Ga(a,e,h,n){if("string"==typeof a)return a;for(var e=J.createLinearGradient(0,h,0,e),h=0,j=a.colors.length;h<j;++h){var l=a.colors[h];if("string"!=typeof l){var s=f.color.parse(n);
null!=l.brightness&&(s=s.scale("rgb",l.brightness));null!=l.opacity&&(s.a*=l.opacity);l=s.toString()}e.addColorStop(h/(j-1),l)}return e}var ca=[],G={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,
ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},
shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},Aa=null,sa=null,ra=null,J=null,ka=null,ga=[],oa=[],T={left:0,right:0,top:0,bottom:0},ma=0,qa=0,n=0,s=0,w={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],
drawOverlay:[],shutdown:[]},u=this;u.setData=H;u.setupGrid=R;u.draw=V;u.getPlaceholder=function(){return a};u.getCanvas=function(){return Aa};u.getPlotOffset=function(){return T};u.width=function(){return n};u.height=function(){return s};u.offset=function(){var a=ra.offset();a.left+=T.left;a.top+=T.top;return a};u.getData=function(){return ca};u.getAxes=function(){var a={};f.each(ga.concat(oa),function(e,f){f&&(a[f.direction+(1!=f.n?f.n:"")+"axis"]=f)});return a};u.getXAxes=function(){return ga};
u.getYAxes=function(){return oa};u.c2p=K;u.p2c=function(a){var e={},f,h,n;for(f=0;f<ga.length;++f)if((h=ga[f])&&h.used)if(n="x"+h.n,null==a[n]&&1==h.n&&(n="x"),null!=a[n]){e.left=h.p2c(a[n]);break}for(f=0;f<oa.length;++f)if((h=oa[f])&&h.used)if(n="y"+h.n,null==a[n]&&1==h.n&&(n="y"),null!=a[n]){e.top=h.p2c(a[n]);break}return e};u.getOptions=function(){return G};u.highlight=xa;u.unhighlight=Ia;u.triggerRedrawOverlay=Ja;u.pointOffset=function(a){return{left:parseInt(ga[Q(a,"x")-1].p2c(+a.x)+T.left),
top:parseInt(oa[Q(a,"y")-1].p2c(+a.y)+T.top)}};u.shutdown=function(){Oa&&clearTimeout(Oa);ra.unbind("mousemove",Pa);ra.unbind("mouseleave",Qa);ra.unbind("click",Da);D(w.shutdown,[ra])};u.resize=function(){S();aa(Aa);aa(sa)};u.hooks=w;for(var E=0;E<t.length;++E){var L=t[E];L.init(u);L.options&&f.extend(!0,G,L.options)}f.extend(!0,G,l);null==G.xaxis.color&&(G.xaxis.color=G.grid.color);null==G.yaxis.color&&(G.yaxis.color=G.grid.color);null==G.xaxis.tickColor&&(G.xaxis.tickColor=G.grid.tickColor);null==
G.yaxis.tickColor&&(G.yaxis.tickColor=G.grid.tickColor);null==G.grid.borderColor&&(G.grid.borderColor=G.grid.color);null==G.grid.tickColor&&(G.grid.tickColor=f.color.parse(G.grid.color).scale("a",0.22).toString());for(l=0;l<Math.max(1,G.xaxes.length);++l)G.xaxes[l]=f.extend(!0,{},G.xaxis,G.xaxes[l]);for(l=0;l<Math.max(1,G.yaxes.length);++l)G.yaxes[l]=f.extend(!0,{},G.yaxis,G.yaxes[l]);G.xaxis.noTicks&&null==G.xaxis.ticks&&(G.xaxis.ticks=G.xaxis.noTicks);G.yaxis.noTicks&&null==G.yaxis.ticks&&(G.yaxis.ticks=
G.yaxis.noTicks);G.x2axis&&(G.xaxes[1]=f.extend(!0,{},G.xaxis,G.x2axis),G.xaxes[1].position="top");G.y2axis&&(G.yaxes[1]=f.extend(!0,{},G.yaxis,G.y2axis),G.yaxes[1].position="right");G.grid.coloredAreas&&(G.grid.markings=G.grid.coloredAreas);G.grid.coloredAreasColor&&(G.grid.markingsColor=G.grid.coloredAreasColor);G.lines&&f.extend(!0,G.series.lines,G.lines);G.points&&f.extend(!0,G.series.points,G.points);G.bars&&f.extend(!0,G.series.bars,G.bars);null!=G.shadowSize&&(G.series.shadowSize=G.shadowSize);
for(l=0;l<G.xaxes.length;++l)F(ga,l+1).options=G.xaxes[l];for(l=0;l<G.yaxes.length;++l)F(oa,l+1).options=G.yaxes[l];for(var O in w)G.hooks[O]&&G.hooks[O].length&&(w[O]=w[O].concat(G.hooks[O]));D(w.processOptions,[G]);O=a.children("canvas.base");l=a.children("canvas.overlay");0==O.length||0==l?(a.html(""),a.css({padding:0}),"static"==a.css("position")&&a.css("position","relative"),S(),Aa=P(!0,"base"),sa=P(!1,"overlay"),O=!1):(Aa=O.get(0),sa=l.get(0),O=!0);J=Aa.getContext("2d");ka=sa.getContext("2d");
ra=f([sa,Aa]);O&&(a.data("plot").shutdown(),u.resize(),ka.clearRect(0,0,ma,qa),ra.unbind(),a.children().not([Aa,sa]).remove());a.data("plot",u);H(j);R();V();G.grid.hoverable&&(ra.mousemove(Pa),ra.mouseleave(Qa));G.grid.clickable&&ra.click(Da);D(w.bindEvents,[ra]);var ha=[],Oa=null}function e(a,e){return e*Math.floor(a/e)}f.plot=function(e,j,l){return new a(f(e),j,l,f.plot.plugins)};f.plot.version="0.7";f.plot.plugins=[];f.plot.formatDate=function(a,e,f){var t=function(a){a=""+a;return 1==a.length?
"0"+a:a},D=[],H=!1,Q=!1,z=a.getUTCHours(),K=12>z;null==f&&(f="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));-1!=e.search(/%p|%P/)&&(12<z?z-=12:0==z&&(z=12));for(var F=0;F<e.length;++F){var P=e.charAt(F);if(H){switch(P){case "h":P=""+z;break;case "H":P=t(z);break;case "M":P=t(a.getUTCMinutes());break;case "S":P=t(a.getUTCSeconds());break;case "d":P=""+a.getUTCDate();break;case "m":P=""+(a.getUTCMonth()+1);break;case "y":P=""+a.getUTCFullYear();break;case "b":P=""+f[a.getUTCMonth()];
break;case "p":P=K?"am":"pm";break;case "P":P=K?"AM":"PM";break;case "0":P="",Q=!0}P&&Q&&(P=t(P),Q=!1);D.push(P);Q||(H=!1)}else"%"==P?H=!0:D.push(P)}return D.join("")}})(jQuery);(function(f){f.plot.plugins.push({init:function(a){var e=[],h,j=!1,l,t,D;a.hooks.draw.push(function(a,Q){if(j){if(0!=e.length)for(var z=a.getAxes().xaxis,K=z.box,F,P,S=0;S<e.length;S++)R=e[S],R.label&&(Q.save(),Q.font=h,90>=l?(F=-Math.ceil(Math.cos(D)*R.height),P=Math.ceil(Math.sin(D)*R.height),Q.translate(Math.round(a.getPlotOffset().left+z.p2c(R.v))+F,K.top+K.padding+a.getOptions().grid.labelMargin+P),Q.rotate(t)):(F=Math.ceil(Math.cos(D)*R.height)-Math.ceil(Math.cos(D)*R.width),P=Math.ceil(Math.sin(D)*
R.width)+Math.ceil(Math.sin(D)*R.height),Q.translate(Math.round(a.getPlotOffset().left+z.p2c(R.v)+F),K.top+K.padding+a.getOptions().grid.labelMargin+P),Q.rotate(-D)),Q.fillStyle="#999",Q.fillText(R.label,0,0),Q.restore())}else if(K=a.getAxes().xaxis.options,void 0!==K.rotateTicks&&(l=parseInt(K.rotateTicks,10),!(l.toString()!=K.rotateTicks||0==l||180<=l))){t=l*Math.PI/180;D=90<l?Math.PI-t:Math.PI/2-t;(h=K.rotateTicksFont)||(h=f(".tickLabel").css("font"));h||(h="smaller sans-serif");var aa=P=F=0,ea=
0,z=a.getAxes().xaxis;e=a.getAxes().xaxis.ticks;K.ticks=[];for(var S=0;S<e.length;S++){R=f('<span class="rotated-tick">'+e[S].label+"</div>");a.getPlaceholder().append(R);e[S].height=R.outerHeight(!0);e[S].width=R.outerWidth(!0);R.remove();e[S].height>P&&(P=e[S].height);e[S].width>F&&(F=e[S].width);var R=e[S];90<l?(R=Math.round(a.getPlotOffset().left+z.p2c(R.v))-Math.ceil(Math.cos(D)*R.height)-Math.ceil(Math.cos(D)*R.width),R<aa&&(aa=R)):(R=Math.round(a.getPlotOffset().left+z.p2c(R.v))+Math.ceil(Math.cos(D)*
R.height)+Math.ceil(Math.cos(D)*R.width),R>ea&&(ea=R))}90<l?(z=t-Math.PI/2,K.labelHeight=Math.ceil(Math.sin(z)*F)+Math.ceil(Math.sin(z)*P)):(z=Math.PI/2-t,K.labelHeight=Math.ceil(Math.sin(t)*F)+Math.ceil(Math.sin(z)*P));0>aa&&(a.getAxes().yaxis.options.labelWidth=-1*aa);j=!0;a.setupGrid();a.draw()}})},options:{},name:"tickRotor",version:"1.0"})})(jQuery);(function(f){var a={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(a,f){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+f.color+';">'+a+"<br/>"+Math.round(f.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:0.5}}}};f.plot.plugins.push({init:function(e){function h(e){Y||
(Y=!0,F=e.getCanvas(),P=f(F).parent(),a=e.getOptions(),e.setData(j(e.getData())))}function j(e){for(var f=0;f<e.length;++f)if("number"==typeof e[f].data)e[f].data=[[1,e[f].data]];else if("undefined"==typeof e[f].data||"undefined"==typeof e[f].data[0])"undefined"!=typeof e[f].data&&"undefined"!=typeof e[f].data.label&&(e[f].label=e[f].data.label),e[f].data=[[1,0]];for(var f=e,h=0;h<f.length;++h){var j=parseFloat(f[h].data[0][1]);j&&(R+=j)}for(var h=f=0,j=a.series.pie.combine.color,l=[],v=0;v<e.length;++v)e[v].data[0][1]=
parseFloat(e[v].data[0][1]),e[v].data[0][1]||(e[v].data[0][1]=0),e[v].data[0][1]/R<=a.series.pie.combine.threshold?(f+=e[v].data[0][1],h++,j||(j=e[v].color)):l.push({data:[[1,e[v].data[0][1]]],color:e[v].color,label:e[v].label,angle:e[v].data[0][1]*2*Math.PI/R,percent:100*(e[v].data[0][1]/R)});0<h&&l.push({data:[[1,f]],color:j,label:a.series.pie.combine.label,angle:f*2*Math.PI/R,percent:100*(f/R)});return l}function l(e,h){function j(){ctx.clearRect(0,0,F.width,F.height);P.children().filter(".pieLabel, .pieLabelBackground").remove()}
function l(){function e(a,v,l){0>=a||(l?ctx.fillStyle=v:(ctx.strokeStyle=v,ctx.lineJoin="round"),ctx.beginPath(),1E-9<Math.abs(a-2*Math.PI)?ctx.moveTo(0,0):f.browser.msie&&(a-=1E-4),ctx.arc(0,0,h,j,j+a,!1),ctx.closePath(),j+=a,l?ctx.fill():ctx.stroke())}startAngle=Math.PI*a.series.pie.startAngle;var h=1<a.series.pie.radius?a.series.pie.radius:S*a.series.pie.radius;ctx.save();ctx.translate(aa,ea);ctx.scale(1,a.series.pie.tilt);ctx.save();for(var j=startAngle,v=0;v<N.length;++v)N[v].startAngle=j,e(N[v].angle,
N[v].color,!0);ctx.restore();ctx.save();ctx.lineWidth=a.series.pie.stroke.width;j=startAngle;for(v=0;v<N.length;++v)e(N[v].angle,a.series.pie.stroke.color,!1);ctx.restore();t(ctx);if(a.series.pie.label.show)for(var v=startAngle,U=1<a.series.pie.label.radius?a.series.pie.label.radius:S*a.series.pie.label.radius,D=0;D<N.length;++D){if(N[D].percent>=100*a.series.pie.label.threshold){var z=N[D],Y=v,H=D;if(0!=z.data[0][1]){var K=a.legend.labelFormatter,J=void 0,ta=a.series.pie.label.formatter,J=K?K(z.label,
z):z.label;ta&&(J=ta(J,z));K=(Y+z.angle+Y)/2;Y=aa+Math.round(Math.cos(K)*U);K=ea+Math.round(Math.sin(K)*U)*a.series.pie.tilt;P.append('<span class="pieLabel" id="pieLabel'+H+'" style="position:absolute;top:'+K+"px;left:"+Y+'px;">'+J+"</span>");H=P.children("#pieLabel"+H);J=K-H.height()/2;K=Y-H.width()/2;H.css("top",J);H.css("left",K);if(0<0-J||0<0-K||0>F.height-(J+H.height())||0>F.width-(K+H.width()))V=!0;0!=a.series.pie.label.background.opacity&&(Y=a.series.pie.label.background.color,null==Y&&(Y=
z.color),z="top:"+J+"px;left:"+K+"px;",f('<div class="pieLabelBackground" style="position:absolute;width:'+H.width()+"px;height:"+H.height()+"px;"+z+"background-color:"+Y+';"> </div>').insertBefore(H).css("opacity",a.series.pie.label.background.opacity))}}v+=N[D].angle}ctx.restore()}if(P){ctx=h;v=P.children().filter(".legend").children().width();S=Math.min(F.width,F.height/a.series.pie.tilt)/2;ea=F.height/2+a.series.pie.offset.top;aa=F.width/2;aa="auto"==a.series.pie.offset.left?a.legend.position.match("w")?
aa+v/2:aa-v/2:aa+a.series.pie.offset.left;aa<S?aa=S:aa>F.width-S&&(aa=F.width-S);var N=e.getData(),D=0;for(V=!0;V&&D<Z;){V=!1;0<D&&(S*=fa);D+=1;j();if(0.8>=a.series.pie.tilt){var z=1<a.series.pie.radius?a.series.pie.radius:S*a.series.pie.radius;if(!(z>=F.width/2-5||z*a.series.pie.tilt>=F.height/2-15||10>=z)){ctx.save();ctx.translate(5,15);ctx.globalAlpha=0.02;ctx.fillStyle="#000";ctx.translate(aa,ea);ctx.scale(1,a.series.pie.tilt);for(var Y=1;10>=Y;Y++)ctx.beginPath(),ctx.arc(0,0,z,0,2*Math.PI,!1),
ctx.fill(),z-=Y;ctx.restore()}}l()}D>=Z&&(j(),P.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>'));e.setSeries&&e.insertLegend&&(e.setSeries(N),e.insertLegend())}}function t(e){0<a.series.pie.innerRadius&&(e.save(),innerRadius=1<a.series.pie.innerRadius?a.series.pie.innerRadius:S*a.series.pie.innerRadius,e.globalCompositeOperation="destination-out",e.beginPath(),e.fillStyle=a.series.pie.stroke.color,e.arc(0,0,innerRadius,0,2*Math.PI,!1),e.fill(),e.closePath(),
e.restore(),e.save(),e.beginPath(),e.strokeStyle=a.series.pie.stroke.color,e.arc(0,0,innerRadius,0,2*Math.PI,!1),e.stroke(),e.closePath(),e.restore())}function D(a){Q("plothover",a)}function H(a){Q("plotclick",a)}function Q(f,h){var j=e.offset(),v=parseInt(h.pageX-j.left);a:{for(var j=parseInt(h.pageY-j.top),l=e.getData(),t=e.getOptions(),t=1<t.series.pie.radius?t.series.pie.radius:S*t.series.pie.radius,D=0;D<l.length;++D){var Y=l[D];if(Y.pie.show){ctx.save();ctx.beginPath();ctx.moveTo(0,0);ctx.arc(0,
0,t,Y.startAngle,Y.startAngle+Y.angle,!1);ctx.closePath();x=v-aa;y=j-ea;if(ctx.isPointInPath){if(ctx.isPointInPath(v-aa,j-ea)){ctx.restore();v={datapoint:[Y.percent,Y.data],dataIndex:0,series:Y,seriesIndex:D};break a}}else{p1X=t*Math.cos(Y.startAngle);p1Y=t*Math.sin(Y.startAngle);p2X=t*Math.cos(Y.startAngle+Y.angle/4);p2Y=t*Math.sin(Y.startAngle+Y.angle/4);p3X=t*Math.cos(Y.startAngle+Y.angle/2);p3Y=t*Math.sin(Y.startAngle+Y.angle/2);p4X=t*Math.cos(Y.startAngle+Y.angle/1.5);p4Y=t*Math.sin(Y.startAngle+
Y.angle/1.5);p5X=t*Math.cos(Y.startAngle+Y.angle);p5Y=t*Math.sin(Y.startAngle+Y.angle);arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]];arrPoint=[x,y];for(var H=!1,F=-1,K=arrPoly.length,V=K-1;++F<K;V=F)(arrPoly[F][1]<=arrPoint[1]&&arrPoint[1]<arrPoly[V][1]||arrPoly[V][1]<=arrPoint[1]&&arrPoint[1]<arrPoly[F][1])&&arrPoint[0]<(arrPoly[V][0]-arrPoly[F][0])*(arrPoint[1]-arrPoly[F][1])/(arrPoly[V][1]-arrPoly[F][1])+arrPoly[F][0]&&(H=!H);if(H){ctx.restore();v={datapoint:[Y.percent,Y.data],
dataIndex:0,series:Y,seriesIndex:D};break a}}ctx.restore()}}v=null}if(a.grid.autoHighlight)for(j=0;j<N.length;++j)l=N[j],l.auto==f&&!(v&&l.series==v.series)&&(l=l.series,null==l&&(N=[],e.triggerRedrawOverlay()),"number"==typeof l&&(l=series[l]),l=z(l),-1!=l&&(N.splice(l,1),e.triggerRedrawOverlay()));v&&(j=v.series,"number"==typeof j&&(j=series[j]),l=z(j),-1==l?(N.push({series:j,auto:f}),e.triggerRedrawOverlay()):f||(N[l].auto=!1));P.trigger(f,[{pageX:h.pageX,pageY:h.pageY},v])}function z(a){for(var e=
0;e<N.length;++e)if(N[e].series==a)return e;return-1}function K(a,e){var f=a.getOptions(),h=1<f.series.pie.radius?f.series.pie.radius:S*f.series.pie.radius;e.save();e.translate(aa,ea);e.scale(1,f.series.pie.tilt);for(i=0;i<N.length;++i){var j=N[i].series;0>j.angle||(e.fillStyle="rgba(255, 255, 255, "+f.series.pie.highlight.opacity+")",e.beginPath(),1E-9<Math.abs(j.angle-2*Math.PI)&&e.moveTo(0,0),e.arc(0,0,h,j.startAngle,j.startAngle+j.angle,!1),e.closePath(),e.fill())}t(e);e.restore()}var F=null,
P=null,S=null,aa=null,ea=null,R=0,V=!0,Z=10,fa=0.95,v=0,Y=!1,N=[];e.hooks.processOptions.push(function(a,e){e.series.pie.show&&(e.grid.show=!1,"auto"==e.series.pie.label.show&&(e.series.pie.label.show=e.legend.show?!1:!0),"auto"==e.series.pie.radius&&(e.series.pie.radius=e.series.pie.label.show?0.75:1),1<e.series.pie.tilt&&(e.series.pie.tilt=1),0>e.series.pie.tilt&&(e.series.pie.tilt=0),a.hooks.processDatapoints.push(h),a.hooks.drawOverlay.push(K),a.hooks.draw.push(l))});e.hooks.bindEvents.push(function(a,
e){var f=a.getOptions();f.series.pie.show&&f.grid.hoverable&&e.unbind("mousemove").mousemove(D);f.series.pie.show&&f.grid.clickable&&e.unbind("click").click(H)})},options:a,name:"pie",version:"1.0"})})(jQuery);(function(f,a,e){function h(){t=a[D](function(){j.each(function(){var a=f(this),e=a.width(),h=a.height(),j=f.data(this,Q);if(e!==j.w||h!==j.h)a.trigger(H,[j.w=e,j.h=h])});h()},l[z])}var j=f([]),l=f.resize=f.extend(f.resize,{}),t,D="setTimeout",H="resize",Q=H+"-special-event",z="delay";l[z]=250;l.throttleWindow=!0;f.event.special[H]={setup:function(){if(!l.throttleWindow&&this[D])return!1;var a=f(this);j=j.add(a);f.data(this,Q,{w:a.width(),h:a.height()});1===j.length&&h()},teardown:function(){if(!l.throttleWindow&&
this[D])return!1;var a=f(this);j=j.not(a);a.removeData(Q);j.length||clearTimeout(t)},add:function(a){function h(a,l,t){var D=f(this),z=f.data(this,Q);z.w=l!==e?l:D.width();z.h=t!==e?t:D.height();j.apply(this,arguments)}if(!l.throttleWindow&&this[D])return!1;var j;if(f.isFunction(a))return j=a,h;j=a.handler;a.handler=h}}})(jQuery,this);
(function(f){f.plot.plugins.push({init:function(a){function e(){var e=a.getPlaceholder();if(!(0==e.width()||0==e.height())){a.resize();a.setupGrid();a.draw();var j=a.width();f("#dashboard-graph .graph-key-event-label").each(function(){var e=a.pointOffset({x:f(this).data("points")[0],y:f(this).data("points")[1]});15>=e.left&&(e.left=15);e.left>=j-15&&(e.left=j-15);f(this).css({left:e.left})});f("#dashboard-graph .graph-note-label").each(function(){var e=a.pointOffset({x:f(this).data("points")[0],y:f(this).data("points")[1]});
f(this).css({left:e.left})})}}a.hooks.bindEvents.push(function(a){a.getPlaceholder().resize(e)});a.hooks.shutdown.push(function(a){a.getPlaceholder().unbind("resize",e)})},options:{},name:"resize",version:"1.0"})})(jQuery);(function(f){f.plot.plugins.push({init:function(a){a.hooks.processDatapoints.push(function(a,f,j){if(null!=f.stack){for(var l,a=a.getData(),t=null,D=0;D<a.length&&f!=a[D];++D)a[D].stack==f.stack&&(t=a[D]);if(l=t){a=j.pointsize;t=j.points;D=l.datapoints.pointsize;l=l.datapoints.points;var H=[],Q,z,K,F,P,S,aa=f.lines.show;F=f.bars.horizontal;var ea=2<a&&(F?j.format[2].x:j.format[2].y),f=aa&&f.lines.steps;K=!0;for(var R=F?1:0,V=F?0:1,Z=0,fa=0,v;!(Z>=t.length);){v=H.length;if(null==t[Z]){for(m=0;m<a;++m)H.push(t[Z+
m]);Z+=a}else if(fa>=l.length){if(!aa)for(m=0;m<a;++m)H.push(t[Z+m]);Z+=a}else if(null==l[fa]){for(m=0;m<a;++m)H.push(null);K=!0;fa+=D}else{Q=t[Z+R];z=t[Z+V];F=l[fa+R];P=l[fa+V];S=0;if(Q==F){for(m=0;m<a;++m)H.push(t[Z+m]);H[v+V]+=P;S=P;Z+=a;fa+=D}else if(Q>F){if(aa&&0<Z&&null!=t[Z-a]){K=z+(t[Z-a+V]-z)*(F-Q)/(t[Z-a+R]-Q);H.push(F);H.push(K+P);for(m=2;m<a;++m)H.push(t[Z+m]);S=P}fa+=D}else{if(K&&aa){Z+=a;continue}for(m=0;m<a;++m)H.push(t[Z+m]);aa&&(0<fa&&null!=l[fa-D])&&(S=P+(l[fa-D+V]-P)*(Q-F)/(l[fa-
D+R]-F));H[v+V]+=S;Z+=a}K=!1;v!=H.length&&ea&&(H[v+2]+=S)}if(f&&v!=H.length&&0<v&&null!=H[v]&&H[v]!=H[v-a]&&H[v+1]!=H[v-a+1]){for(m=0;m<a;++m)H[v+a+m]=H[v+m];H[v+1]=H[v-a+1]}}j.points=H}}})},options:{series:{stack:null}},name:"stack",version:"1.2"})})(jQuery);(function(){var f,a,e,h,j,l,t,D,H,Q={}.hasOwnProperty,z=function(a,e){function f(){this.constructor=a}for(var h in e)Q.call(e,h)&&(a[h]=e[h]);f.prototype=e.prototype;a.prototype=new f;a.__super__=e.prototype;return a};var K,F,P,S,aa;a=["ms","moz","webkit","o"];S=0;for(aa=a.length;S<aa;S++){f=a[S];if(window.requestAnimationFrame)break;window.requestAnimationFrame=window[f+"RequestAnimationFrame"];window.cancelAnimationFrame=window[f+"CancelAnimationFrame"]||window[f+"CancelRequestAnimationFrame"]}K=
null;P=0;F={};requestAnimationFrame?window.cancelAnimationFrame||(K=window.requestAnimationFrame,window.requestAnimationFrame=function(a,e){var f;f=++P;K(function(){if(!F[f])return a()},e);return f},window.cancelAnimationFrame=function(a){return F[a]=!0}):(window.requestAnimationFrame=function(a){var e,f,h,j;e=(new Date).getTime();j=Math.max(0,16-(e-h));f=window.setTimeout(function(){return a(e+j)},j);h=e+j;return f},window.cancelAnimationFrame=function(a){return clearTimeout(a)});String.prototype.hashCode=
function(){var a,e,f,h;e=0;if(0===this.length)return e;a=f=0;for(h=this.length;0<=h?f<h:f>h;a=0<=h?++f:--f)a=this.charCodeAt(a),e=(e<<5)-e+a,e&=e;return e};D=function(a){var e,f;e=Math.floor(a/3600);f=Math.floor((a-3600*e)/60);a=a-(3600*e+60*f)+"";for(f+="";2>f.length;)f="0"+f;for(;2>a.length;)a="0"+a;return(e?e+":":"")+f+":"+a};l=function(a){return j(a.toFixed(0))};H=function(a,e){var f,h;for(f in e)Q.call(e,f)&&(h=e[f],a[f]=h);return a};t=function(a,e){var f,h,j;h={};for(f in a)Q.call(a,f)&&(j=
a[f],h[f]=j);for(f in e)Q.call(e,f)&&(j=e[f],h[f]=j);return h};j=function(a){var e,f;e=(a+"").split(".");a=e[0];f="";1<e.length&&(f="."+e[1]);for(e=/(\d+)(\d{3})/;e.test(a);)a=a.replace(e,"$1,$2");return a+f};a=function(a,e){null==a&&(a=!0);this.clear=null!=e?e:!0;a&&AnimationUpdater.add(this)};a.prototype.animationSpeed=32;a.prototype.update=function(a){null==a&&(a=!1);return a||this.displayedValue!==this.value?(this.ctx&&this.clear&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),a=
this.value-this.displayedValue,this.displayedValue=0.0010>=Math.abs(a/this.animationSpeed)?this.value:this.displayedValue+a/this.animationSpeed,this.render(),!0):!1};var ea=function(){return ea.__super__.constructor.apply(this,arguments)};z(ea,a);ea.prototype.setTextField=function(a){return this.textField=a instanceof h?a:new h(a)};ea.prototype.setOptions=function(a){null==a&&(a=null);this.options=t(this.options,a);this.textField&&(this.textField.el.style.fontSize=a.fontSize+"px");return this};f=
ea;S=function(a){this.el=a};S.prototype.render=function(a){return this.el.innerHTML=l(a.displayedValue)};h=S;S=function(a,e){this.elem=a;this.text=null!=e?e:!1;this.value=1*this.elem.innerHTML;this.text&&(this.value=0)};z(S,a);S.prototype.displayedValue=0;S.prototype.value=0;S.prototype.setVal=function(a){return this.value=1*a};S.prototype.render=function(){var a;a=this.text?D(this.displayedValue.toFixed(0)):j(l(this.displayedValue));return this.elem.innerHTML=a};var R=function(a){this.gauge=a;this.ctx=
this.gauge.ctx;this.canvas=this.gauge.canvas;R.__super__.constructor.call(this,!1,!1);this.setOptions()};z(R,a);R.prototype.displayedValue=0;R.prototype.value=0;R.prototype.options={strokeWidth:0.035,length:0.1,color:"#000000"};R.prototype.setOptions=function(a){null==a&&(a=null);H(this.options,a);this.length=this.canvas.height*this.options.length;this.strokeWidth=this.canvas.height*this.options.strokeWidth;this.maxValue=this.gauge.maxValue;return this.animationSpeed=this.gauge.animationSpeed};R.prototype.render=
function(){var a,e,f,h,j,l,t,D;a=this.gauge.getAngle.call(this,this.displayedValue);e=this.canvas.width/2;f=0.9*this.canvas.height;t=Math.round(e+this.length*Math.cos(a));D=Math.round(f+this.length*Math.sin(a));j=Math.round(e+this.strokeWidth*Math.cos(a-Math.PI/2));l=Math.round(f+this.strokeWidth*Math.sin(a-Math.PI/2));h=Math.round(e+this.strokeWidth*Math.cos(a+Math.PI/2));a=Math.round(f+this.strokeWidth*Math.sin(a+Math.PI/2));this.ctx.fillStyle=this.options.color;this.ctx.beginPath();this.ctx.arc(e,
f,this.strokeWidth,0,2*Math.PI,!0);this.ctx.fill();this.ctx.beginPath();this.ctx.moveTo(j,l);this.ctx.lineTo(t,D);this.ctx.lineTo(h,a);return this.ctx.fill()};e=R;var V=function(a){this.canvas=a;V.__super__.constructor.call(this);this.ctx=this.canvas.getContext("2d");this.gp=[new e(this)];this.setOptions();this.render()};z(V,f);V.prototype.elem=null;V.prototype.value=[20];V.prototype.maxValue=80;V.prototype.displayedAngle=0;V.prototype.displayedValue=0;V.prototype.lineWidth=40;V.prototype.paddingBottom=
0.1;V.prototype.options={colorStart:"#6fadcf",colorStop:void 0,strokeColor:"#e0e0e0",pointer:{length:0.8,strokeWidth:0.035},angle:0.15,lineWidth:0.44,fontSize:40};V.prototype.setOptions=function(a){var e,f,h;null==a&&(a=null);V.__super__.setOptions.call(this,a);this.lineWidth=this.canvas.height*(1-this.paddingBottom)*this.options.lineWidth;this.radius=this.canvas.height*(1-this.paddingBottom)-this.lineWidth;h=this.gp;e=0;for(f=h.length;e<f;e++)a=h[e],a.setOptions(this.options.pointer);return this};
V.prototype.set=function(a){var f,h,j,l;a instanceof Array||(a=[a]);if(a.length>this.gp.length){f=0;for(h=a.length-this.gp.length;0<=h?f<h:f>h;0<=h?++f:--f)this.gp.push(new e(this))}j=f=0;for(l=a.length;j<l;j++)h=a[j],h>this.maxValue&&(this.maxValue=1.1*this.value),this.gp[f].value=h,this.gp[f++].setOptions({maxValue:this.maxValue,angle:this.options.angle});this.value=a[a.length-1];return AnimationUpdater.run()};V.prototype.getAngle=function(a){return(1+this.options.angle)*Math.PI+a/this.maxValue*
(1-2*this.options.angle)*Math.PI};V.prototype.render=function(){var a,e,f,h,j;h=this.canvas.width/2;f=this.canvas.height*(1-this.paddingBottom);a=this.getAngle(this.displayedValue);this.textField&&this.textField.render(this);this.ctx.lineCap="butt";void 0!==this.options.colorStop?(e=this.ctx.createRadialGradient(h,f,9,h,f,70),e.addColorStop(0,this.options.colorStart),e.addColorStop(1,this.options.colorStop)):e=this.options.colorStart;this.ctx.strokeStyle=e;this.ctx.beginPath();this.ctx.arc(h,f,this.radius,
(1+this.options.angle)*Math.PI,a,!1);this.ctx.lineWidth=this.lineWidth;this.ctx.stroke();this.ctx.strokeStyle=this.options.strokeColor;this.ctx.beginPath();this.ctx.arc(h,f,this.radius,a,(2-this.options.angle)*Math.PI,!1);this.ctx.stroke();h=this.gp;j=[];e=0;for(f=h.length;e<f;e++)a=h[e],j.push(a.update(!0));return j};a=V;var Z=function(a){this.canvas=a;Z.__super__.constructor.call(this);this.ctx=this.canvas.getContext("2d");this.setOptions();this.render()};z(Z,f);Z.prototype.lineWidth=15;Z.prototype.displayedValue=
0;Z.prototype.value=33;Z.prototype.maxValue=80;Z.prototype.options={lineWidth:0.1,colorStart:"#6f6ea0",colorStop:"#c0c0db",strokeColor:"#eeeeee",shadowColor:"#d5d5d5",angle:0.35};Z.prototype.getAngle=function(a){return(1-this.options.angle)*Math.PI+a/this.maxValue*(2+this.options.angle-(1-this.options.angle))*Math.PI};Z.prototype.setOptions=function(a){null==a&&(a=null);Z.__super__.setOptions.call(this,a);this.lineWidth=this.canvas.height*this.options.lineWidth;this.radius=this.canvas.height/2-this.lineWidth/
2;return this};Z.prototype.set=function(a){this.value=a;this.value>this.maxValue&&(this.maxValue=1.1*this.value);return AnimationUpdater.run()};Z.prototype.render=function(){var a,e,f,h;a=this.getAngle(this.displayedValue);h=this.canvas.width/2;f=this.canvas.height/2;this.textField&&this.textField.render(this);e=this.ctx.createRadialGradient(h,f,39,h,f,70);e.addColorStop(0,this.options.colorStart);e.addColorStop(1,this.options.colorStop);this.ctx.strokeStyle=this.options.strokeColor;this.ctx.beginPath();
this.ctx.arc(h,f,this.radius,(1-this.options.angle)*Math.PI,(2+this.options.angle)*Math.PI,!1);this.ctx.lineWidth=this.lineWidth;this.ctx.lineCap="round";this.ctx.stroke();this.ctx.strokeStyle=e;this.ctx.beginPath();this.ctx.arc(h,f,this.radius,(1-this.options.angle)*Math.PI,a,!1);return this.ctx.stroke()};f=Z;var fa=function(){return fa.__super__.constructor.apply(this,arguments)};z(fa,f);fa.prototype.strokeGradient=function(a,e,f,h){a=this.ctx.createRadialGradient(a,e,f,a,e,h);a.addColorStop(0,
this.options.shadowColor);a.addColorStop(0.12,this.options._orgStrokeColor);a.addColorStop(0.88,this.options._orgStrokeColor);a.addColorStop(1,this.options.shadowColor);return a};fa.prototype.setOptions=function(a){var e,f,h;null==a&&(a=null);fa.__super__.setOptions.call(this,a);h=this.canvas.width/2;a=this.canvas.height/2;e=this.radius-this.lineWidth/2;f=this.radius+this.lineWidth/2;this.options._orgStrokeColor=this.options.strokeColor;this.options.strokeColor=this.strokeGradient(h,a,e,f);return this};
window.AnimationUpdater={elements:[],animId:null,addAll:function(a){var e,f,h,j;j=[];f=0;for(h=a.length;f<h;f++)e=a[f],j.push(AnimationUpdater.elements.push(e));return j},add:function(a){return AnimationUpdater.elements.push(a)},run:function(){var a,e,f,h,j;a=!0;j=AnimationUpdater.elements;f=0;for(h=j.length;f<h;f++)e=j[f],e.update()&&(a=!1);return a?cancelAnimationFrame(AnimationUpdater.animId):AnimationUpdater.animId=requestAnimationFrame(AnimationUpdater.run)}};window.Gauge=a;window.Donut=fa;window.BaseDonut=
f;window.TextRenderer=h}).call(this);(function(){function f(c){for(var k=-1,q=c.length,a=[];++k<q;)a.push(c[k]);return a}function a(){}function e(c){return c}function h(){return this}function j(){return!0}function l(c){return"function"==typeof c?c:function(){return c}}function t(c,k,q){return function(){var a=q.apply(k,arguments);return arguments.length?c:a}}function D(c){return null!=c&&!isNaN(c)}function H(c){return c.length}function Q(c){return null==c}function z(){}function K(c){function k(){for(var k=q,a=-1,W=k.length,e;++a<W;)(e=
k[a].on)&&e.apply(this,arguments);return c}var q=[],W=new a;return k.on=function(k,a){var e=W.get(k),f;return 2>arguments.length?e&&e.on:(e&&(e.on=null,q=q.slice(0,f=q.indexOf(e)).concat(q.slice(f+1)),W.remove(k)),a&&q.push(W.set(k,{on:a})),c)},k}function F(c,k){return k-(c?1+Math.floor(Math.log(c+Math.pow(10,1+Math.floor(Math.log(c)/Math.LN10)-k))/Math.LN10):1)}function P(c){return c+""}function S(c){for(var k=c.lastIndexOf("."),q=0<=k?c.substring(k):(k=c.length,""),a=[];0<k;)a.push(c.substring(k-=
3,k+3));return a.reverse().join(",")+q}function aa(c){return function(k){return 1-c(1-k)}}function ea(c){return function(k){return 0.5*(0.5>k?c(2*k):2-c(2-2*k))}}function R(c){return c}function V(c){return function(k){return Math.pow(k,c)}}function Z(c){return 1-Math.cos(c*Math.PI/2)}function fa(c){return Math.pow(2,10*(c-1))}function v(c){return 1-Math.sqrt(1-c*c)}function Y(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/
2.75)*c+0.984375}function N(){d3.event.stopPropagation();d3.event.preventDefault()}function U(){for(var c=d3.event,k;k=c.sourceEvent;)c=k;return c}function ta(c){for(var k=new z,q=0,a=arguments.length;++q<a;)k[arguments[q]]=K(k);return k.of=function(q,a){return function(W){try{var e=W.sourceEvent=d3.event;W.target=c;d3.event=W;k[W.type].apply(q,a)}finally{d3.event=e}}},k}function Pa(c){var k=[c.a,c.b],q=[c.c,c.d],a=Qa(k),M=k[0]*q[0]+k[1]*q[1],e=Qa((q[0]+=-M*k[0],q[1]+=-M*k[1],q))||0;k[0]*q[1]<q[0]*
k[1]&&(k[0]*=-1,k[1]*=-1,a*=-1,M*=-1);this.rotate=(a?Math.atan2(k[1],k[0]):Math.atan2(-q[0],q[1]))*Cc;this.translate=[c.e,c.f];this.scale=[a,e];this.skew=e?Math.atan2(M,e)*Cc:0}function Qa(c){var k=Math.sqrt(c[0]*c[0]+c[1]*c[1]);return k&&(c[0]/=k,c[1]/=k),k}function Da(c){return"transform"==c?d3.interpolateTransform:d3.interpolate}function Na(c,k){return k=k-(c=+c)?1/(k-c):0,function(q){return(q-c)*k}}function Ja(c,k){return k=k-(c=+c)?1/(k-c):0,function(q){return Math.max(0,Math.min(1,(q-c)*k))}}
function Ea(){}function xa(c,k,q){return new Ia(c,k,q)}function Ia(c,k,q){this.r=c;this.g=k;this.b=q}function za(c){return 16>c?"0"+Math.max(0,c).toString(16):Math.min(255,c).toString(16)}function Ka(c,k,q){var a=0,M=0,e=0,f,A,h;if(f=/([a-z]+)\((.*)\)/i.exec(c))switch(A=f[2].split(","),f[1]){case "hsl":return q(parseFloat(A[0]),parseFloat(A[1])/100,parseFloat(A[2])/100);case "rgb":return k(Aa(A[0]),Aa(A[1]),Aa(A[2]))}return(h=nb.get(c))?k(h.r,h.g,h.b):(null!=c&&"#"===c.charAt(0)&&(4===c.length?(a=
c.charAt(1),a+=a,M=c.charAt(2),M+=M,e=c.charAt(3),e+=e):7===c.length&&(a=c.substring(1,3),M=c.substring(3,5),e=c.substring(5,7)),a=parseInt(a,16),M=parseInt(M,16),e=parseInt(e,16)),k(a,M,e))}function Ga(c,k,q){var a=Math.min(c/=255,k/=255,q/=255),M=Math.max(c,k,q),e=M-a,f,A,h=(M+a)/2;return e?(A=0.5>h?e/(M+a):e/(2-M-a),c==M?f=(k-q)/e+(k<q?6:0):k==M?f=(q-c)/e+2:f=(c-k)/e+4,f*=60):A=f=0,sa(f,A,h)}function ca(c,k,q){var c=G(c),k=G(k),q=G(q),a=w((0.4124564*c+0.3575761*k+0.1804375*q)/Dc),M=w((0.2126729*
c+0.7151522*k+0.072175*q)/Ec),c=w((0.0193339*c+0.119192*k+0.9503041*q)/Fc);return T(116*M-16,500*(a-M),200*(M-c))}function G(c){return 0.04045>=(c/=255)?c/12.92:Math.pow((c+0.055)/1.055,2.4)}function Aa(c){var k=parseFloat(c);return"%"===c.charAt(c.length-1)?Math.round(2.55*k):k}function sa(c,k,q){return new ra(c,k,q)}function ra(c,k,q){this.h=c;this.s=k;this.l=q}function J(c,k,q){function a(c){return 360<c?c-=360:0>c&&(c+=360),60>c?M+(e-M)*c/60:180>c?e:240>c?M+(e-M)*(240-c)/60:M}var M,e;return c%=
360,0>c&&(c+=360),k=0>k?0:1<k?1:k,q=0>q?0:1<q?1:q,e=0.5>=q?q*(1+k):q+k-q*k,M=2*q-e,xa(Math.round(255*a(c+120)),Math.round(255*a(c)),Math.round(255*a(c-120)))}function ka(c,k,q){return new ga(c,k,q)}function ga(c,k,q){this.h=c;this.c=k;this.l=q}function oa(c,k,q){return T(q,Math.cos(c*=Math.PI/180)*k,Math.sin(c)*k)}function T(c,k,q){return new ma(c,k,q)}function ma(c,k,q){this.l=c;this.a=k;this.b=q}function qa(c,k,q){c=(c+16)/116;k=c+k/500;q=c-q/200;return k=s(k)*Dc,c=s(c)*Ec,q=s(q)*Fc,xa(u(3.2404542*
k-1.5371385*c-0.4985314*q),u(-0.969266*k+1.8760108*c+0.041556*q),u(0.0556434*k-0.2040259*c+1.0572252*q))}function n(c,k,q){return ka(180*(Math.atan2(q,k)/Math.PI),Math.sqrt(k*k+q*q),c)}function s(c){return 0.206893034<c?c*c*c:(c-4/29)/7.787037}function w(c){return 0.008856<c?Math.pow(c,1/3):7.787037*c+4/29}function u(c){return Math.round(255*(0.00304>=c?12.92*c:1.055*Math.pow(c,1/2.4)-0.055))}function E(c){return Nb(c,ia),c}function L(c){return function(){return ob(c,this)}}function O(c){return function(){return Gc(c,
this)}}function ha(c,k){function q(){this.removeAttribute(c)}function a(){this.removeAttributeNS(c.space,c.local)}function M(){this.setAttribute(c,k)}function e(){this.setAttributeNS(c.space,c.local,k)}function f(){var q=k.apply(this,arguments);null==q?this.removeAttribute(c):this.setAttribute(c,q)}function A(){var q=k.apply(this,arguments);null==q?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,q)}return c=d3.ns.qualify(c),null==k?c.local?a:q:"function"==typeof k?c.local?
A:f:c.local?e:M}function Oa(c){return RegExp("(?:^|\\s+)"+d3.requote(c)+"(?:\\s+|$)","g")}function I(c,k){function q(){for(var q=-1;++q<M;)c[q](this,k)}function a(){for(var q=-1,W=k.apply(this,arguments);++q<M;)c[q](this,W)}var c=c.trim().split(/\s+/).map(Qd),M=c.length;return"function"==typeof k?a:q}function Qd(c){var k=Oa(c);return function(q,a){if(M=q.classList)return a?M.add(c):M.remove(c);var M=q.className,e=null!=M.baseVal,f=e?M.baseVal:M;a?(k.lastIndex=0,k.test(f)||(f=(f+" "+c).trim().replace(/\s+/g,
" "),e?M.baseVal=f:q.className=f)):f&&(f=f.replace(k," ").trim().replace(/\s+/g," "),e?M.baseVal=f:q.className=f)}}function C(c,k,q){function a(){this.style.removeProperty(c)}function M(){this.style.setProperty(c,k,q)}function e(){var a=k.apply(this,arguments);null==a?this.style.removeProperty(c):this.style.setProperty(c,a,q)}return null==k?a:"function"==typeof k?e:M}function B(c,k){function q(){delete this[c]}function a(){this[c]=k}function M(){var q=k.apply(this,arguments);null==q?delete this[c]:
this[c]=q}return null==k?q:"function"==typeof k?M:a}function p(c){return function(){return Hc(this,c)}}function Rd(c){return arguments.length||(c=d3.ascending),function(k,q){return c(k&&k.__data__,q&&q.__data__)}}function uc(c,k,q){function a(){var k=this[e];k&&(this.removeEventListener(c,k,k.$),delete this[e])}function M(){function M(c){var q=d3.event;d3.event=c;la[0]=f.__data__;try{k.apply(f,la)}finally{d3.event=q}}var f=this,la=arguments;a.call(this);this.addEventListener(c,this[e]=M,M.$=q);M._=
k}var e="__on"+c,f=c.indexOf(".");return 0<f&&(c=c.substring(0,f)),k?M:a}function $a(c,k){for(var q=0,a=c.length;q<a;q++)for(var M=c[q],e=0,f=M.length,A;e<f;e++)(A=M[e])&&k(A,e,q);return c}function tc(c){return Nb(c,Ra),c}function jb(c,k,q){Nb(c,ya);var e=new a,M=d3.dispatch("start","end"),f=pb;return c.id=k,c.time=q,c.tween=function(k,q){return 2>arguments.length?e.get(k):(null==q?e.remove(k):e.set(k,q),c)},c.ease=function(k){return arguments.length?(f="function"==typeof k?k:d3.ease.apply(d3,arguments),
c):f},c.each=function(k,q){return 2>arguments.length?Td.call(c,k):(M.on(k,q),c)},d3.timer(function(a){return $a(c,function(c,h){function j(a){return u.active>k?X():(u.active=k,e.forEach(function(k,q){(q=q.call(c,w,h))&&p.push(q)}),M.start.call(c,w,h),n(a)||d3.timer(n,0,q),1)}function n(q){if(u.active!==k)return X();for(var q=(q-l)/s,a=f(q),e=p.length;0<e;)p[--e].call(c,a);if(1<=q)return X(),Ta=k,M.end.call(c,w,h),Ta=0,1}function X(){return--u.count||delete c.__transition__,1}var p=[],l=c.delay,s=
c.duration,u=(c=c.node).__transition__||(c.__transition__={active:0,count:0}),w=c.__data__;++u.count;l<=a?j(a):d3.timer(j,l,q)})},0,q),c}function Td(c){var k=Ta,q=pb,a=qb,e=rb;return Ta=this.id,pb=this.ease(),$a(this,function(k,q,a){qb=k.delay;rb=k.duration;c.call(k=k.node,k.__data__,q,a)}),Ta=k,pb=q,qb=a,rb=e,this}function da(c,k,q){return""!=q&&ab}function Jb(){for(var c,k=Date.now(),q=Xa;q;)c=k-q.then,c>=q.delay&&(q.flush=q.callback(c)),q=q.next;c=wa()-k;24<c?(isFinite(c)&&(clearTimeout(sb),sb=
setTimeout(Jb,c)),tb=0):(tb=1,Ic(Jb))}function wa(){for(var c=null,k=Xa,q=Infinity;k;)k.flush?(delete Ob[k.callback.id],k=c?c.next=k.next:Xa=k.next):(q=Math.min(q,k.then+k.delay),k=(c=k).next);return q}function vc(c,k){var q=c.ownerSVGElement||c;if(q.createSVGPoint){var a=q.createSVGPoint();if(0>Pb&&(window.scrollX||window.scrollY)){var q=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0),e=q[0][0].getScreenCTM();Pb=!e.f&&!e.e;q.remove()}return Pb?(a.x=
k.pageX,a.y=k.pageY):(a.x=k.clientX,a.y=k.clientY),a=a.matrixTransform(c.getScreenCTM().inverse()),[a.x,a.y]}q=c.getBoundingClientRect();return[k.clientX-q.left-c.clientLeft,k.clientY-q.top-c.clientTop]}function pa(c){var k=c[0],c=c[c.length-1];return k<c?[k,c]:[c,k]}function kb(c){return c.rangeExtent?c.rangeExtent():pa(c.range())}function ib(c,k){var q=0,a=c.length-1,e=c[q],f=c[a],h;f<e&&(h=q,q=a,a=h,h=e,e=f,f=h);if(k=k(f-e))c[q]=k.floor(e),c[a]=k.ceil(f);return c}function Sd(){return Math}function sc(c,
k,q,a){function e(){var M=2<Math.min(c.length,k.length)?Vd:Ud,j=a?Ja:Na;return h=M(c,k,j,q),A=M(k,c,j,d3.interpolate),f}function f(c){return h(c)}var h,A;return f.invert=function(c){return A(c)},f.domain=function(k){return arguments.length?(c=k.map(Number),e()):c},f.range=function(c){return arguments.length?(k=c,e()):k},f.rangeRound=function(c){return f.range(c).interpolate(d3.interpolateRound)},f.clamp=function(c){return arguments.length?(a=c,e()):a},f.interpolate=function(c){return arguments.length?
(q=c,e()):q},f.ticks=function(k){return Kb(c,k)},f.tickFormat=function(k){return Lb(c,k)},f.nice=function(){return ib(c,Bc),e()},f.copy=function(){return sc(c,k,q,a)},e()}function Ac(c,k){return d3.rebind(c,k,"range","rangeRound","interpolate","clamp")}function Bc(c){return c=Math.pow(10,Math.round(Math.log(c)/Math.LN10)-1),c&&{floor:function(k){return Math.floor(k/c)*c},ceil:function(k){return Math.ceil(k/c)*c}}}function wc(c,k){var q=pa(c),a=q[1]-q[0],e=Math.pow(10,Math.floor(Math.log(a/k)/Math.LN10)),
a=k/a*e;return 0.15>=a?e*=10:0.35>=a?e*=5:0.75>=a&&(e*=2),q[0]=Math.ceil(q[0]/e)*e,q[1]=Math.floor(q[1]/e)*e+0.5*e,q[2]=e,q}function Kb(c,k){return d3.range.apply(d3,wc(c,k))}function Lb(c,k){return d3.format(",."+Math.max(0,-Math.floor(Math.log(wc(c,k)[2])/Math.LN10+0.01))+"f")}function Ud(c,k,q,a){var e=q(c[0],c[1]),f=a(k[0],k[1]);return function(c){return f(e(c))}}function Vd(c,k,q,a){var e=[],f=[],h=0,A=Math.min(c.length,k.length)-1;for(c[A]<c[0]&&(c=c.slice().reverse(),k=k.slice().reverse());++h<=
A;)e.push(q(c[h-1],c[h])),f.push(a(k[h-1],k[h]));return function(k){var q=d3.bisect(c,k,1,A)-1;return f[q](e[q](k))}}function xc(c,k){function q(q){return c(k(q))}var a=k.pow;return q.invert=function(k){return a(c.invert(k))},q.domain=function(e){return arguments.length?(k=0>e[0]?lb:Mb,a=k.pow,c.domain(e.map(k)),q):c.domain().map(a)},q.nice=function(){return c.domain(ib(c.domain(),Sd)),q},q.ticks=function(){var q=pa(c.domain()),e=[];if(q.every(isFinite)){var f=Math.floor(q[0]),A=Math.ceil(q[1]),h=
a(q[0]),q=a(q[1]);if(k===lb)for(e.push(a(f));f++<A;)for(var j=9;0<j;j--)e.push(a(f)*j);else{for(;f<A;f++)for(j=1;10>j;j++)e.push(a(f)*j);e.push(a(f))}for(f=0;e[f]<h;f++);for(A=e.length;e[A-1]>q;A--);e=e.slice(f,A)}return e},q.tickFormat=function(c,e){2>arguments.length&&(e=Wd);if(1>arguments.length)return e;var f=Math.max(0.1,c/q.ticks().length),A=k===lb?(h=-1E-12,Math.floor):(h=1E-12,Math.ceil),h;return function(c){return c/a(A(k(c)+h))<=f?e(c):""}},q.copy=function(){return xc(c.copy(),k)},Ac(q,
c)}function Mb(c){return Math.log(0>c?0:c)/Math.LN10}function lb(c){return-Math.log(0<c?0:-c)/Math.LN10}function yc(c,k){function q(k){return c(a(k))}var a=mb(k),e=mb(1/k);return q.invert=function(k){return e(c.invert(k))},q.domain=function(k){return arguments.length?(c.domain(k.map(a)),q):c.domain().map(e)},q.ticks=function(c){return Kb(q.domain(),c)},q.tickFormat=function(c){return Lb(q.domain(),c)},q.nice=function(){return q.domain(ib(q.domain(),Bc))},q.exponent=function(c){if(!arguments.length)return k;
var f=q.domain();return a=mb(k=c),e=mb(1/k),q.domain(f)},q.copy=function(){return yc(c.copy(),k)},Ac(q,c)}function mb(c){return function(k){return 0>k?-Math.pow(-k,c):Math.pow(k,c)}}function zc(c,k){function q(k){return na[((f.get(k)||f.set(k,c.push(k)))-1)%na.length]}function e(k,q){return d3.range(c.length).map(function(c){return k+q*c})}var f,na,h;return q.domain=function(e){if(!arguments.length)return c;c=[];f=new a;for(var W=-1,na=e.length,h;++W<na;)f.has(h=e[W])||f.set(h,c.push(h));return q[k.t].apply(q,
k.a)},q.range=function(c){return arguments.length?(na=c,h=0,k={t:"range",a:arguments},q):na},q.rangePoints=function(a,f){2>arguments.length&&(f=0);var M=a[0],j=a[1],n=(j-M)/(Math.max(1,c.length-1)+f);return na=e(2>c.length?(M+j)/2:M+n*f/2,n),h=0,k={t:"rangePoints",a:arguments},q},q.rangeBands=function(a,f,M){2>arguments.length&&(f=0);3>arguments.length&&(M=f);var j=a[1]<a[0],n=a[j-0],p=(a[1-j]-n)/(c.length-f+2*M);return na=e(n+p*M,p),j&&na.reverse(),h=p*(1-f),k={t:"rangeBands",a:arguments},q},q.rangeRoundBands=
function(a,f,M){2>arguments.length&&(f=0);3>arguments.length&&(M=f);var j=a[1]<a[0],n=a[j-0],p=a[1-j],l=Math.floor((p-n)/(c.length-f+2*M));return na=e(n+Math.round((p-n-(c.length-f)*l)/2),l),j&&na.reverse(),h=Math.round(l*(1-f)),k={t:"rangeRoundBands",a:arguments},q},q.rangeBand=function(){return h},q.rangeExtent=function(){return pa(k.a[0])},q.copy=function(){return zc(c,k)},q.domain(c)}function Jc(c,k){function q(){var q=0,f=k.length;for(e=[];++q<f;)e[q-1]=d3.quantile(c,q/f);return a}function a(c){return isNaN(c=
+c)?NaN:k[d3.bisect(e,c)]}var e;return a.domain=function(k){return arguments.length?(c=k.filter(function(c){return!isNaN(c)}).sort(d3.ascending),q()):c},a.range=function(c){return arguments.length?(k=c,q()):k},a.quantiles=function(){return e},a.copy=function(){return Jc(c,k)},q()}function Kc(c,k,q){function a(k){return q[Math.max(0,Math.min(h,Math.floor(f*(k-c))))]}function e(){return f=q.length/(k-c),h=q.length-1,a}var f,h;return a.domain=function(q){return arguments.length?(c=+q[0],k=+q[q.length-
1],e()):[c,k]},a.range=function(c){return arguments.length?(q=c,e()):q},a.copy=function(){return Kc(c,k,q)},e()}function Lc(c,k){function q(q){return k[d3.bisect(c,q)]}return q.domain=function(k){return arguments.length?(c=k,q):c},q.range=function(c){return arguments.length?(k=c,q):k},q.copy=function(){return Lc(c,k)},q}function Mc(c){function k(c){return+c}return k.invert=k,k.domain=k.range=function(q){return arguments.length?(c=q.map(k),k):c},k.ticks=function(k){return Kb(c,k)},k.tickFormat=function(k){return Lb(c,
k)},k.copy=function(){return Mc(c)},k}function Xd(c){return c.innerRadius}function Yd(c){return c.outerRadius}function Nc(c){return c.startAngle}function Oc(c){return c.endAngle}function Pc(c){function k(k){function h(){la.push("M",f(c(j),A))}for(var la=[],j=[],n=-1,p=k.length,s,u=l(q),w=l(a);++n<p;)e.call(this,s=k[n],n)?j.push([+u.call(this,s,n),+w.call(this,s,n)]):j.length&&(h(),j=[]);return j.length&&h(),la.length?la.join(""):null}var q=Qb,a=Qc,e=j,f=Ca,h=f.key,A=0.7;return k.x=function(c){return arguments.length?
(q=c,k):q},k.y=function(c){return arguments.length?(a=c,k):a},k.defined=function(c){return arguments.length?(e=c,k):e},k.interpolate=function(c){return arguments.length?("function"==typeof c?h=f=c:h=(f=Rb.get(c)||Ca).key,k):h},k.tension=function(c){return arguments.length?(A=c,k):A},k}function Qb(c){return c[0]}function Qc(c){return c[1]}function Ca(c){return c.join("L")}function Sb(c){for(var k=0,q=c.length,a=c[0],e=[a[0],",",a[1]];++k<q;)e.push("V",(a=c[k])[1],"H",a[0]);return e.join("")}function Tb(c){for(var k=
0,q=c.length,a=c[0],e=[a[0],",",a[1]];++k<q;)e.push("H",(a=c[k])[0],"V",a[1]);return e.join("")}function ub(c,k){if(1>k.length||c.length!=k.length&&c.length!=k.length+2)return Ca(c);var q=c.length!=k.length,a="",e=c[0],f=c[1],h=k[0],A=h,j=1;q&&(a+="Q"+(f[0]-2*h[0]/3)+","+(f[1]-2*h[1]/3)+","+f[0]+","+f[1],e=c[1],j=2);if(1<k.length){A=k[1];f=c[j];j++;a+="C"+(e[0]+h[0])+","+(e[1]+h[1])+","+(f[0]-A[0])+","+(f[1]-A[1])+","+f[0]+","+f[1];for(e=2;e<k.length;e++,j++)f=c[j],A=k[e],a+="S"+(f[0]-A[0])+","+(f[1]-
A[1])+","+f[0]+","+f[1]}q&&(q=c[j],a+="Q"+(f[0]+2*A[0]/3)+","+(f[1]+2*A[1]/3)+","+q[0]+","+q[1]);return a}function Ub(c,k){for(var q=[],a=(1-k)/2,e,f=c[0],h=c[1],A=1,j=c.length;++A<j;)e=f,f=h,h=c[A],q.push([a*(h[0]-e[0]),a*(h[1]-e[1])]);return q}function Rc(c){if(3>c.length)return Ca(c);var k=1,q=c.length,a=c[0],e=a[0],f=a[1],h=[e,e,e,(a=c[1])[0]],A=[f,f,f,a[1]],e=[e,",",f];for(bb(e,h,A);++k<q;)a=c[k],h.shift(),h.push(a[0]),A.shift(),A.push(a[1]),bb(e,h,A);for(k=-1;2>++k;)h.shift(),h.push(a[0]),A.shift(),
A.push(a[1]),bb(e,h,A);return e.join("")}function Ha(c,k){return c[0]*k[0]+c[1]*k[1]+c[2]*k[2]+c[3]*k[3]}function bb(c,k,a){c.push("C",Ha(Sc,k),",",Ha(Sc,a),",",Ha(Tc,k),",",Ha(Tc,a),",",Ha(Ya,k),",",Ha(Ya,a))}function Vb(c,k){return(k[1]-c[1])/(k[0]-c[0])}function Uc(c){for(var k,a=-1,e=c.length,f,h;++a<e;)k=c[a],f=k[0],h=k[1]+Ua,k[0]=f*Math.cos(h),k[1]=f*Math.sin(h);return c}function Vc(c){function k(k){function j(){n.push("M",A(c(s),X),p,ja(c(Ba.reverse()),X),"Z")}for(var n=[],Ba=[],s=[],u=-1,
w=k.length,t,E=l(a),B=l(f),L=a===e?function(){return O}:l(e),C=f===h?function(){return I}:l(h),O,I;++u<w;)la.call(this,t=k[u],u)?(Ba.push([O=+E.call(this,t,u),I=+B.call(this,t,u)]),s.push([+L.call(this,t,u),+C.call(this,t,u)])):Ba.length&&(j(),Ba=[],s=[]);return Ba.length&&j(),n.length?n.join(""):null}var a=Qb,e=Qb,f=0,h=Qc,la=j,A=Ca,n=A.key,ja=A,p="L",X=0.7;return k.x=function(c){return arguments.length?(a=e=c,k):e},k.x0=function(c){return arguments.length?(a=c,k):a},k.x1=function(c){return arguments.length?
(e=c,k):e},k.y=function(c){return arguments.length?(f=h=c,k):h},k.y0=function(c){return arguments.length?(f=c,k):f},k.y1=function(c){return arguments.length?(h=c,k):h},k.defined=function(c){return arguments.length?(la=c,k):la},k.interpolate=function(c){return arguments.length?("function"==typeof c?n=A=c:n=(A=Rb.get(c)||Ca).key,ja=A.reverse||A,p=A.closed?"M":"L",k):n},k.tension=function(c){return arguments.length?(X=c,k):X},k}function Wc(c){return c.source}function Xc(c){return c.target}function Zd(c){return c.radius}
function Yc(c){return[c.x,c.y]}function $d(){return 64}function ae(){return"circle"}function Zc(c){c=Math.sqrt(c/Math.PI);return"M0,"+c+"A"+c+","+c+" 0 1,1 0,"+-c+"A"+c+","+c+" 0 1,1 0,"+c+"Z"}function $c(c,k){c.attr("transform",function(c){return"translate("+k(c)+",0)"})}function ad(c,k){c.attr("transform",function(c){return"translate(0,"+k(c)+")"})}function be(){cb||(cb=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y",
"scroll").append("div").style("height","2000px").node().parentNode);var c=d3.event,k;try{cb.scrollTop=1E3,cb.dispatchEvent(c),k=1E3-cb.scrollTop}catch(a){k=c.wheelDelta||5*-c.detail}return k}function ce(c){var k=c.source,c=c.target,a;var e=c;if(k===e)a=k;else{a=bd(k);for(var e=bd(e),f=a.pop(),h=e.pop(),la=null;f===h;)la=f,f=a.pop(),h=e.pop();a=la}for(e=[k];k!==a;)k=k.parent,e.push(k);for(k=e.length;c!==a;)e.splice(k,0,c),c=c.parent;return e}function bd(c){for(var k=[],a=c.parent;null!=a;)k.push(c),
c=a,a=a.parent;return k.push(c),k}function de(c){c.fixed|=2}function ee(c){c.fixed&=1}function fe(c){c.fixed|=4}function ge(c){c.fixed&=3}function cd(c,k,a){var e=0,f=0;c.charge=0;if(!c.leaf)for(var h=c.nodes,la=h.length,A=-1,j;++A<la;)j=h[A],null!=j&&(cd(j,k,a),c.charge+=j.charge,e+=j.charge*j.cx,f+=j.charge*j.cy);c.point&&(c.leaf||(c.point.x+=Math.random()-0.5,c.point.y+=Math.random()-0.5),k*=a[c.point.index],c.charge+=c.pointCharge=k,e+=k*c.point.x,f+=k*c.point.y);c.cx=e/c.charge;c.cy=f/c.charge}
function he(){return 20}function ie(){return 1}function je(c){return c.x}function ke(c){return c.y}function le(c,k,a){c.y0=k;c.y=a}function Wb(c){return d3.range(c.length)}function Xb(c){for(var k=-1,c=c[0].length,a=[];++k<c;)a[k]=0;return a}function me(c){for(var k=1,a=0,e=c[0][1],f,h=c.length;k<h;++k)(f=c[k][1])>e&&(a=k,e=f);return a}function ne(c){return c.reduce(oe,0)}function oe(c,k){return c+k[1]}function pe(c,k){return dd(c,Math.ceil(Math.log(k.length)/Math.LN2+1))}function dd(c,k){for(var a=
-1,e=+c[0],f=(c[1]-e)/k,h=[];++a<=k;)h[a]=f*a+e;return h}function qe(c){return[d3.min(c),d3.max(c)]}function db(c,k){return d3.rebind(c,k,"sort","children","value"),c.links=re,c.nodes=function(k){return Yb=!0,(c.nodes=c)(k)},c}function se(c){return c.children}function te(c){return c.value}function ue(c,k){return k.value-c.value}function re(c){return d3.merge(c.map(function(c){return(c.children||[]).map(function(a){return{source:c,target:a}})}))}function ve(c,k){return c.value-k.value}function Zb(c,
k){var a=c._pack_next;c._pack_next=k;k._pack_prev=c;k._pack_next=a;a._pack_prev=k}function ed(c,k){var a=k.x-c.x,e=k.y-c.y,f=c.r+k.r;return 0.0010<f*f-a*a-e*e}function fd(c){function k(c){e=Math.min(c.x-c.r,e);f=Math.max(c.x+c.r,f);h=Math.min(c.y-c.r,h);j=Math.max(c.y+c.r,j)}if((a=c.children)&&(s=a.length)){var a,e=Infinity,f=-Infinity,h=Infinity,j=-Infinity,A,n,ja,p,X,l,s;a.forEach(we);A=a[0];A.x=-A.r;A.y=0;k(A);if(1<s&&(n=a[1],n.x=n.r,n.y=0,k(n),2<s)){ja=a[2];gd(A,n,ja);k(ja);Zb(A,ja);A._pack_prev=
ja;Zb(ja,n);n=A._pack_next;for(p=3;p<s;p++){gd(A,n,ja=a[p]);var u=0,w=1,t=1;for(X=n._pack_next;X!==n;X=X._pack_next,w++)if(ed(X,ja)){u=1;break}if(1==u)for(l=A._pack_prev;l!==X._pack_prev&&!ed(l,ja);l=l._pack_prev,t++);u?(w<t||w==t&&n.r<A.r?(ja=A,X=n=X):(ja=A=l,X=n),ja._pack_next=X,X._pack_prev=ja,p--):(Zb(A,ja),n=ja,k(ja))}}A=(e+f)/2;n=(h+j)/2;for(p=l=0;p<s;p++)ja=a[p],ja.x-=A,ja.y-=n,l=Math.max(l,ja.r+Math.sqrt(ja.x*ja.x+ja.y*ja.y));c.r=l;a.forEach(xe)}}function we(c){c._pack_next=c._pack_prev=c}
function xe(c){delete c._pack_next;delete c._pack_prev}function hd(c,k,a,e){var f=c.children;c.x=k+=e*c.x;c.y=a+=e*c.y;c.r*=e;if(f)for(var c=-1,h=f.length;++c<h;)hd(f[c],k,a,e)}function gd(c,k,a){var e=c.r+a.r,f=k.x-c.x,h=k.y-c.y;if(e&&(f||h)){var j=k.r+a.r,A=f*f+h*h,j=j*j,e=e*e,k=0.5+(e-j)/(2*A),j=Math.sqrt(Math.max(0,2*j*(e+A)-(e-=A)*e-j*j))/(2*A);a.x=c.x+k*f+j*h;a.y=c.y+k*h-j*f}else a.x=c.x+e,a.y=c.y}function id(c){var k=c.children;return k&&k.length?id(k[0]):c}function jd(c){var k=c.children,
a;return k&&(a=k.length)?jd(k[a-1]):c}function kd(c,k){return c.parent==k.parent?1:2}function $b(c){var k=c.children;return k&&k.length?k[0]:c._tree.thread}function ac(c){var k=c.children,a;return k&&(a=k.length)?k[a-1]:c._tree.thread}function vb(c,k){var a=c.children;if(a&&(f=a.length))for(var e,f,h=-1;++h<f;)0<k(e=vb(a[h],k),c)&&(c=e);return c}function ye(c,k){return c.x-k.x}function ze(c,k){return k.x-c.x}function Ae(c,k){return c.depth-k.depth}function La(c,k){function a(c,e){var f=c.children;
if(f&&(n=f.length))for(var h,A=null,j=-1,n;++j<n;)h=f[j],a(h,A),A=h;k(c,e)}a(c,null)}function bc(c){return{x:c.x,y:c.y,dx:c.dx,dy:c.dy}}function ld(c,k){var a=c.x+k[3],e=c.y+k[0],f=c.dx-k[1]-k[3],h=c.dy-k[0]-k[2];return 0>f&&(a+=f/2,f=0),0>h&&(e+=h/2,h=0),{x:a,y:e,dx:f,dy:h}}function md(c,k){function a(c,e){d3.text(c,k,function(c){e(c&&a.parse(c))})}function e(k){return k.map(f).join(c)}function f(c){return j.test(c)?'"'+c.replace(/\"/g,'""')+'"':c}var h=RegExp("\r\n|["+c+"\r\n]","g"),j=RegExp('["'+
c+"\n]"),A=c.charCodeAt(0);return a.parse=function(c){var k;return a.parseRows(c,function(c,a){if(a){for(var q={},e=-1,f=k.length;++e<f;)q[k[e]]=c[e];return q}return k=c,null})},a.parseRows=function(c,k){function a(){if(h.lastIndex>=c.length)return e;if(j)return j=!1,q;var k=h.lastIndex;if(34===c.charCodeAt(k)){for(var f=k;f++<c.length;)if(34===c.charCodeAt(f)){if(34!==c.charCodeAt(f+1))break;f++}h.lastIndex=f+2;var M=c.charCodeAt(f+1);return 13===M?(j=!0,10===c.charCodeAt(f+2)&&h.lastIndex++):10===
M&&(j=!0),c.substring(k+1,f).replace(/""/g,'"')}return(f=h.exec(c))?(j=f[0].charCodeAt(0)!==A,c.substring(k,f.index)):(h.lastIndex=c.length,c.substring(k))}var q={},e={},f=[],M=0,W,j;for(h.lastIndex=0;(W=a())!==e;){for(var n=[];W!==q&&W!==e;)n.push(W),W=a();(!k||(n=k(n,M++)))&&f.push(n)}return f},a.format=function(c){return c.map(e).join("\n")},a}function wb(c,k){return function(a){return a&&c.hasOwnProperty(a.type)?c[a.type](a):k}}function cc(c){return"m0,"+c+"a"+c+","+c+" 0 1,1 0,"+-2*c+"a"+c+","+
c+" 0 1,1 0,"+2*c+"z"}function xb(c,k){nd.hasOwnProperty(c.type)&&nd[c.type](c,k)}function od(c,k){for(var a=c.coordinates,e=0,f=a.length;e<f;e++)k.apply(null,a[e])}function Be(c){return c.source}function Ce(c){return c.target}function pd(){function c(c){var k=Math.sin(c*=Sa)*u,a=Math.sin(Sa-c)*u,c=a*h+k*X,q=a*j+k*s,k=a*f+k*l;return[Math.atan2(q,c)/ba,Math.atan2(k,Math.sqrt(c*c+q*q))/ba]}var k,a,e,f,h,j,A,n,p,l,X,s,Sa,u;return c.distance=function(){return null==Sa&&(u=1/Math.sin(Sa=Math.acos(Math.max(-1,
Math.min(1,f*l+e*p*Math.cos(A-k)))))),Sa},c.source=function(A){var n=Math.cos(k=A[0]*ba),Ba=Math.sin(k);return e=Math.cos(a=A[1]*ba),f=Math.sin(a),h=e*n,j=e*Ba,Sa=null,c},c.target=function(k){var a=Math.cos(A=k[0]*ba),q=Math.sin(A);return p=Math.cos(n=k[1]*ba),l=Math.sin(n),X=p*a,s=p*q,Sa=null,c},c}function qd(c,k){var a=pd().source(c).target(k);return a.distance(),a}function De(c,k,a,e){var f,h,j,A,n,p,l;return f=e[c],h=f[0],j=f[1],f=e[k],A=f[0],n=f[1],f=e[a],p=f[0],l=f[1],0<(l-j)*(A-h)-(n-j)*(p-
h)}function dc(c,k,a){return(a[0]-k[0])*(c[1]-k[1])<(a[1]-k[1])*(c[0]-k[0])}function rd(c,k,a,e){var f=c[0],h=a[0],c=c[1],j=a[1],a=k[0]-f,A=e[0]-h,k=k[1]-c,e=e[1]-j,h=(A*(c-j)-e*(f-h))/(e*a-A*k);return[f+h*a,c+h*k]}function sd(c,k){var a=c.map(function(c,k){return{index:k,x:c[0],y:c[1]}}).sort(function(c,k){return c.y<k.y?-1:c.y>k.y?1:c.x<k.x?-1:c.x>k.x?1:0}),e=null,f={list:[],leftEnd:null,rightEnd:null,init:function(){f.leftEnd=f.createHalfEdge(null,"l");f.rightEnd=f.createHalfEdge(null,"l");f.leftEnd.r=
f.rightEnd;f.rightEnd.l=f.leftEnd;f.list.unshift(f.leftEnd,f.rightEnd)},createHalfEdge:function(c,k){return{edge:c,side:k,vertex:null,l:null,r:null}},insert:function(c,k){k.l=c;k.r=c.r;c.r.l=k;c.r=k},leftBound:function(c){var k=f.leftEnd;do k=k.r;while(k!=f.rightEnd&&h.rightOf(k,c));return k=k.l,k},del:function(c){c.l.r=c.r;c.r.l=c.l;c.edge=null},right:function(c){return c.r},left:function(c){return c.l},leftRegion:function(c){return null==c.edge?e:c.edge.region[c.side]},rightRegion:function(c){return null==
c.edge?e:c.edge.region[ec[c.side]]}},h={bisect:function(c,k){var a={region:{l:c,r:k},ep:{l:null,r:null}},q=k.x-c.x,e=k.y-c.y;return a.c=c.x*q+c.y*e+0.5*(q*q+e*e),(0<q?q:-q)>(0<e?e:-e)?(a.a=1,a.b=e/q,a.c/=q):(a.b=1,a.a=q/e,a.c/=e),a},intersect:function(c,k){var a=c.edge,q=k.edge;if(!a||!q||a.region.r==q.region.r)return null;var e=a.a*q.b-a.b*q.a;if(1E-10>Math.abs(e))return null;var f=(a.c*q.b-q.c*a.b)/e,e=(q.c*a.a-a.c*q.a)/e,h=a.region.r,M=q.region.r,W,A;h.y<M.y||h.y==M.y&&h.x<M.x?(W=c,A=a):(W=k,A=
q);return(a=f>=A.region.r.x)&&"l"===W.side||!a&&"r"===W.side?null:{x:f,y:e}},rightOf:function(c,k){var a=c.edge,q=a.region.r,e=k.x>q.x;if(e&&"l"===c.side)return 1;if(!e&&"r"===c.side)return 0;if(1===a.a){var f=k.y-q.y,h=k.x-q.x,M=0,W=0;!e&&0>a.b||e&&0<=a.b?W=M=f>=a.b*h:(W=k.x+k.y*a.b>a.c,0>a.b&&(W=!W),W||(M=1));M||(q=q.x-a.region.l.x,W=a.b*(h*h-f*f)<q*f*(1+2*h/q+a.b*a.b),0>a.b&&(W=!W))}else h=a.c-a.a*k.x,a=k.y-h,f=k.x-q.x,q=h-q.y,W=a*a>f*f+q*q;return"l"===c.side?W:!W},endPoint:function(c,a,q){c.ep[a]=
q;c.ep[ec[a]]&&k(c)},distance:function(c,k){var a=c.x-k.x,q=c.y-k.y;return Math.sqrt(a*a+q*q)}},j={list:[],insert:function(c,k,a){c.vertex=k;c.ystar=k.y+a;for(var a=0,q=j.list,e=q.length;a<e;a++){var f=q[a];if(!(c.ystar>f.ystar||c.ystar==f.ystar&&k.x>f.vertex.x))break}q.splice(a,0,c)},del:function(c){for(var k=0,a=j.list,q=a.length;k<q&&a[k]!=c;++k);a.splice(k,1)},empty:function(){return 0===j.list.length},nextEvent:function(c){for(var k=0,a=j.list,q=a.length;k<q;++k)if(a[k]==c)return a[k+1];return null},
min:function(){var c=j.list[0];return{x:c.vertex.x,y:c.ystar}},extractMin:function(){return j.list.shift()}};f.init();for(var e=a.shift(),A=a.shift(),n,p,l,X,s,u,w,t,E,B;;)if(j.empty()||(n=j.min()),A&&(j.empty()||A.y<n.y||A.y==n.y&&A.x<n.x))p=f.leftBound(A),l=f.right(p),w=f.rightRegion(p),B=h.bisect(w,A),u=f.createHalfEdge(B,"l"),f.insert(p,u),(E=h.intersect(p,u))&&(j.del(p),j.insert(p,E,h.distance(E,A))),p=u,u=f.createHalfEdge(B,"r"),f.insert(p,u),(E=h.intersect(u,l))&&j.insert(u,E,h.distance(E,
A)),A=a.shift();else{if(j.empty())break;p=j.extractMin();X=f.left(p);l=f.right(p);s=f.right(l);w=f.leftRegion(p);u=f.rightRegion(l);E=p.vertex;h.endPoint(p.edge,p.side,E);h.endPoint(l.edge,l.side,E);f.del(p);j.del(l);f.del(l);p="l";w.y>u.y&&(t=w,w=u,u=t,p="r");B=h.bisect(w,u);u=f.createHalfEdge(B,p);f.insert(X,u);h.endPoint(B,ec[p],E);(E=h.intersect(X,u))&&(j.del(X),j.insert(X,E,h.distance(E,w)));(E=h.intersect(u,s))&&j.insert(u,E,h.distance(E,w))}for(p=f.right(f.leftEnd);p!=f.rightEnd;p=f.right(p))k(p.edge)}
function eb(c,k,a,e,f,h){if(!c(k,a,e,f,h)){var j=0.5*(a+f),A=0.5*(e+h),k=k.nodes;k[0]&&eb(c,k[0],a,e,j,A);k[1]&&eb(c,k[1],j,e,f,A);k[2]&&eb(c,k[2],a,A,j,h);k[3]&&eb(c,k[3],j,A,f,h)}}function Ee(c){return{x:c[0],y:c[1]}}function Va(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function td(c){return c.substring(0,3)}function yb(c,k,a,e){for(var f,h=0,j=k.length,A=a.length;h<j;){if(e>=A)return-1;f=k.charCodeAt(h++);if(37==f){if(f=Fe[k.charAt(h++)],!f||0>(e=f(c,a,e)))return-1}else if(f!=
a.charCodeAt(e++))return-1}return e}function zb(c){return RegExp("^(?:"+c.map(d3.requote).join("|")+")","i")}function ud(c){for(var k=new a,q=-1,e=c.length;++q<e;)k.set(c[q].toLowerCase(),q);return k}function vd(c,k,a){ua.lastIndex=0;return(k=ua.exec(k.substring(a,a+2)))?(c.d=+k[0],a+k[0].length):-1}function wd(c,k,a){ua.lastIndex=0;return(k=ua.exec(k.substring(a,a+2)))?(c.H=+k[0],a+k[0].length):-1}function fc(c){return c.toISOString()}function Wa(c,k,a){function e(k){var a=c(k),q=h(a,1);return k-
a<q-k?a:q}function f(a){return k(a=c(new va(a-1)),1),a}function h(c,a){return k(c=new va(+c),a),c}function j(c,e,h){var c=f(c),W=[];if(1<h)for(;c<e;)a(c)%h||W.push(new Date(+c)),k(c,1);else for(;c<e;)W.push(new Date(+c)),k(c,1);return W}c.floor=c;c.round=e;c.ceil=f;c.offset=h;c.range=j;var A=c.utc=Ab(c);return A.floor=A,A.round=Ab(e),A.ceil=Ab(f),A.offset=Ab(h),A.range=function(c,k,a){try{va=Va;var e=new Va;return e._=c,j(e,k,a)}finally{va=Date}},c}function Ab(c){return function(k,a){try{va=Va;var e=
new Va;return e._=k,c(e,a)._}finally{va=Date}}}function gc(c,k,a){function e(k){return c(k)}return e.invert=function(k){return hc(c.invert(k))},e.domain=function(k){return arguments.length?(c.domain(k),e):c.domain().map(hc)},e.nice=function(c){return e.domain(ib(e.domain(),function(){return c}))},e.ticks=function(a,q){var f,h=e.domain();f=h[0];h=h[h.length-1];f=f<h?[f,h]:[h,f];if("function"!=typeof a){var h=(f[1]-f[0])/a,j=d3.bisect(Bb,h);if(j==Bb.length)return k.year(f,a);if(!j)return c.ticks(a).map(hc);
Math.log(h/Bb[j-1])<Math.log(Bb[j]/h)&&--j;a=k[j];q=a[1];a=a[0].range}return a(f[0],new Date(+f[1]+1),q)},e.tickFormat=function(){return a},e.copy=function(){return gc(c.copy(),k,a)},d3.rebind(e,c,"range","rangeRound","interpolate","clamp")}function hc(c){return new Date(c)}function xd(c){return function(k){for(var a=c.length-1,e=c[a];!e[1](k);)e=c[--a];return e[0](k)}}function ic(c){var k=new Date(c,0,1);return k.setFullYear(c),k}function Ge(c){var k=c.getFullYear(),a=ic(k),e=ic(k+1);return k+(c-
a)/(e-a)}function jc(c){var k=new Date(Date.UTC(c,0,1));return k.setUTCFullYear(c),k}function He(c){var k=c.getUTCFullYear(),a=jc(k),e=jc(k+1);return k+(c-a)/(e-a)}Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(pf){var yd=CSSStyleDeclaration.prototype,Ie=yd.setProperty;yd.setProperty=function(c,k,a){Ie.call(this,c,k+"",a)}}d3={version:"2.10.3"};var fb=function(c){return Array.prototype.slice.call(c)};try{fb(document.documentElement.childNodes)[0].nodeType}catch(qf){fb=
f}var Nb=[].__proto__?function(c,k){c.__proto__=k}:function(c,k){for(var a in k)c[a]=k[a]};d3.map=function(c){var k=new a,e;for(e in c)k.set(e,c[e]);return k};var zd=a,kc={has:function(c){return gb+c in this},get:function(c){return this[gb+c]},set:function(c,k){return this[gb+c]=k},remove:function(c){return c=gb+c,c in this&&delete this[c]},keys:function(){var c=[];return this.forEach(function(k){c.push(k)}),c},values:function(){var c=[];return this.forEach(function(k,a){c.push(a)}),c},entries:function(){var c=
[];return this.forEach(function(k,a){c.push({key:k,value:a})}),c},forEach:function(c){for(var k in this)k.charCodeAt(0)===Je&&c.call(this,k.substring(1),this[k])}};try{for(var Ad in kc)Object.defineProperty(zd.prototype,Ad,{value:kc[Ad],enumerable:!1})}catch(rf){zd.prototype=kc}var gb="\x00",Je=gb.charCodeAt(0);d3.functor=l;d3.rebind=function(c,k){for(var a=1,e=arguments.length,f;++a<e;)c[f=arguments[a]]=t(c,k,k[f]);return c};d3.ascending=function(c,k){return c<k?-1:c>k?1:c>=k?0:NaN};d3.descending=
function(c,k){return k<c?-1:k>c?1:k>=c?0:NaN};d3.mean=function(c,k){var a=c.length,e,f=0,h=-1,j=0;if(1===arguments.length)for(;++h<a;)D(e=c[h])&&(f+=(e-f)/++j);else for(;++h<a;)D(e=k.call(c,c[h],h))&&(f+=(e-f)/++j);return j?f:void 0};d3.median=function(c,k){return 1<arguments.length&&(c=c.map(k)),c=c.filter(D),c.length?d3.quantile(c.sort(d3.ascending),0.5):void 0};d3.min=function(c,k){var a=-1,e=c.length,f,h;if(1===arguments.length){for(;++a<e&&(null==(f=c[a])||f!=f);)f=void 0;for(;++a<e;)null!=(h=
c[a])&&f>h&&(f=h)}else{for(;++a<e&&(null==(f=k.call(c,c[a],a))||f!=f);)f=void 0;for(;++a<e;)null!=(h=k.call(c,c[a],a))&&f>h&&(f=h)}return f};d3.max=function(c,a){var e=-1,f=c.length,h,j;if(1===arguments.length){for(;++e<f&&(null==(h=c[e])||h!=h);)h=void 0;for(;++e<f;)null!=(j=c[e])&&j>h&&(h=j)}else{for(;++e<f&&(null==(h=a.call(c,c[e],e))||h!=h);)h=void 0;for(;++e<f;)null!=(j=a.call(c,c[e],e))&&j>h&&(h=j)}return h};d3.extent=function(c,a){var e=-1,f=c.length,h,j,n;if(1===arguments.length){for(;++e<
f&&(null==(h=n=c[e])||h!=h);)h=n=void 0;for(;++e<f;)null!=(j=c[e])&&(h>j&&(h=j),n<j&&(n=j))}else{for(;++e<f&&(null==(h=n=a.call(c,c[e],e))||h!=h);)h=void 0;for(;++e<f;)null!=(j=a.call(c,c[e],e))&&(h>j&&(h=j),n<j&&(n=j))}return[h,n]};d3.random={normal:function(c,a){var e=arguments.length;return 2>e&&(a=1),1>e&&(c=0),function(){var e,f;do e=2*Math.random()-1,f=2*Math.random()-1,f=e*e+f*f;while(!f||1<f);return c+a*e*Math.sqrt(-2*Math.log(f)/f)}},logNormal:function(c,a){var e=arguments.length;2>e&&(a=
1);1>e&&(c=0);var f=d3.random.normal();return function(){return Math.exp(c+a*f())}},irwinHall:function(c){return function(){for(var a=0,e=0;e<c;e++)a+=Math.random();return a/c}}};d3.sum=function(c,a){var e=0,f=c.length,h,j=-1;if(1===arguments.length)for(;++j<f;)isNaN(h=+c[j])||(e+=h);else for(;++j<f;)isNaN(h=+a.call(c,c[j],j))||(e+=h);return e};d3.quantile=function(c,a){var e=(c.length-1)*a+1,f=Math.floor(e),h=c[f-1];return(e-=f)?h+e*(c[f]-h):h};d3.transpose=function(c){return d3.zip.apply(d3,c)};
d3.zip=function(){if(!(h=arguments.length))return[];for(var c=-1,a=d3.min(arguments,H),e=Array(a);++c<a;)for(var f=-1,h,j=e[c]=Array(h);++f<h;)j[f]=arguments[f][c];return e};d3.bisector=function(c){return{left:function(a,e,f,h){3>arguments.length&&(f=0);for(4>arguments.length&&(h=a.length);f<h;){var j=f+h>>>1;c.call(a,a[j],j)<e?f=j+1:h=j}return f},right:function(a,e,f,h){3>arguments.length&&(f=0);for(4>arguments.length&&(h=a.length);f<h;){var j=f+h>>>1;e<c.call(a,a[j],j)?h=j:f=j+1}return f}}};var Bd=
d3.bisector(function(c){return c});d3.bisectLeft=Bd.left;d3.bisect=d3.bisectRight=Bd.right;d3.first=function(c,a){var e=0,f=c.length,h=c[0],j;for(1===arguments.length&&(a=d3.ascending);++e<f;)0<a.call(c,h,j=c[e])&&(h=j);return h};d3.last=function(c,a){var e=0,f=c.length,h=c[0],j;for(1===arguments.length&&(a=d3.ascending);++e<f;)0>=a.call(c,h,j=c[e])&&(h=j);return h};d3.nest=function(){function c(k,h){if(h>=f.length)return n?n.call(e,k):j?k.sort(j):k;for(var M=-1,p=k.length,X=f[h++],l,s,u=new a,w,
t={};++M<p;)(w=u.get(l=X(s=k[M])))?w.push(s):u.set(l,[s]);return u.forEach(function(a,k){t[a]=c(k,h)}),t}function k(c,a){if(a>=f.length)return c;var e=[],q=h[a++],j;for(j in c)e.push({key:j,values:k(c[j],a)});return q&&e.sort(function(c,a){return q(c.key,a.key)}),e}var e={},f=[],h=[],j,n;return e.map=function(a){return c(a,0)},e.entries=function(a){return k(c(a,0),0)},e.key=function(c){return f.push(c),e},e.sortKeys=function(c){return h[f.length-1]=c,e},e.sortValues=function(c){return j=c,e},e.rollup=
function(c){return n=c,e},e};d3.keys=function(c){var a=[],e;for(e in c)a.push(e);return a};d3.values=function(c){var a=[],e;for(e in c)a.push(c[e]);return a};d3.entries=function(c){var a=[],e;for(e in c)a.push({key:e,value:c[e]});return a};d3.permute=function(c,a){for(var e=[],f=-1,h=a.length;++f<h;)e[f]=c[a[f]];return e};d3.merge=function(c){return Array.prototype.concat.apply([],c)};d3.split=function(c,a){var e=[],f=[],h,j=-1,n=c.length;for(2>arguments.length&&(a=Q);++j<n;)a.call(f,h=c[j],j)?f=
[]:(f.length||e.push(f),f.push(h));return e};d3.range=function(c,a,e){3>arguments.length&&(e=1,2>arguments.length&&(a=c,c=0));if(Infinity===(a-c)/e)throw Error("infinite range");var f=[],h;h=Math.abs(e);for(var j=1;h*j%1;)j*=10;h=j;var j=-1,n,c=c*h,a=a*h,e=e*h;if(0>e)for(;(n=c+e*++j)>a;)f.push(n/h);else for(;(n=c+e*++j)<a;)f.push(n/h);return f};d3.requote=function(c){return c.replace(Ke,"\\$&")};var Ke=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(c,a){return a?Math.round(c*(a=Math.pow(10,a)))/
a:Math.round(c)};d3.xhr=function(c,a,e){var f=new XMLHttpRequest;3>arguments.length?(e=a,a=null):a&&f.overrideMimeType&&f.overrideMimeType(a);f.open("GET",c,!0);a&&f.setRequestHeader("Accept",a);f.onreadystatechange=function(){if(4===f.readyState){var c=f.status;e(!c&&f.response||200<=c&&300>c||304===c?f:null)}};f.send(null)};d3.text=function(c,a,e){3>arguments.length&&(e=a,a=null);d3.xhr(c,a,function(c){e(c&&c.responseText)})};d3.json=function(c,a){d3.text(c,"application/json",function(c){a(c?JSON.parse(c):
null)})};d3.html=function(c,a){d3.text(c,"text/html",function(c){if(null!=c){var e=document.createRange();e.selectNode(document.body);c=e.createContextualFragment(c)}a(c)})};d3.xml=function(c,a,e){3>arguments.length&&(e=a,a=null);d3.xhr(c,a,function(c){e(c&&c.responseXML)})};var lc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:lc,qualify:function(c){var a=
c.indexOf(":"),e=c;return 0<=a&&(e=c.substring(0,a),c=c.substring(a+1)),lc.hasOwnProperty(e)?{space:lc[e],local:c}:c}};d3.dispatch=function(){for(var c=new z,a=-1,e=arguments.length;++a<e;)c[arguments[a]]=K(c);return c};z.prototype.on=function(c,a){var e=c.indexOf("."),f="";return 0<e&&(f=c.substring(e+1),c=c.substring(0,e)),2>arguments.length?this[c].on(f):this[c].on(f,a)};d3.format=function(c){var c=Le.exec(c),a=c[1]||" ",e=c[3]||"",f=c[5],h=+c[6],j=c[7],n=c[8],A=c[9],p=1,l="",s=!1;n&&(n=+n.substring(1));
f&&(a="0",j&&(h-=Math.floor((h-1)/4)));switch(A){case "n":j=!0;A="g";break;case "%":p=100;l="%";A="f";break;case "p":p=100;l="%";A="r";break;case "d":s=!0;n=0;break;case "s":p=-1,A="r"}return"r"==A&&!n&&(A="g"),A=Me.get(A)||P,function(c){if(s&&c%1)return"";var u=0>c&&(c=-c)?"-":e;if(0>p){var w=d3.formatPrefix(c,n),c=w.scale(c);l=w.symbol}else c*=p;c=A(c,n);f?(w=c.length+u.length,w<h&&(c=Array(h-w+1).join(a)+c),j&&(c=S(c)),c=u+c):(j&&(c=S(c)),c=u+c,w=c.length,w<h&&(c=Array(h-w+1).join(a)+c));return c+
l}};var Le=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,Me=d3.map({g:function(c,a){return c.toPrecision(a)},e:function(c,a){return c.toExponential(a)},f:function(c,a){return c.toFixed(a)},r:function(c,a){return d3.round(c,a=F(c,a)).toFixed(Math.max(0,Math.min(20,a)))}}),Ne="y z a f p n \u03bc m  k M G T P E Z Y".split(" ").map(function(c,a){var e=Math.pow(10,3*Math.abs(8-a));return{scale:8<a?function(c){return c/e}:function(c){return c*e},symbol:c}});d3.formatPrefix=
function(c,a){var e=0;return c&&(0>c&&(c*=-1),a&&(c=d3.round(c,F(c,a))),e=1+Math.floor(1E-12+Math.log(c)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((0>=e?e+1:e-1)/3)))),Ne[8+e/3]};var Oe=V(2),Pe=V(3),Cd=function(){return R},Qe=d3.map({linear:Cd,poly:V,quad:function(){return Oe},cubic:function(){return Pe},sin:function(){return Z},exp:function(){return fa},circle:function(){return v},elastic:function(c,a){var e;return 2>arguments.length&&(a=0.45),1>arguments.length?(c=1,e=a/4):e=a/(2*Math.PI)*
Math.asin(1/c),function(f){return 1+c*Math.pow(2,10*-f)*Math.sin(2*(f-e)*Math.PI/a)}},back:function(c){return c||(c=1.70158),function(a){return a*a*((c+1)*a-c)}},bounce:function(){return Y}}),Re=d3.map({"in":R,out:aa,"in-out":ea,"out-in":function(c){return ea(aa(c))}});d3.ease=function(c){var a=c.indexOf("-"),e=0<=a?c.substring(0,a):c,a=0<=a?c.substring(a+1):"in",e=Qe.get(e)||Cd,a=Re.get(a)||R,f=a(e.apply(null,Array.prototype.slice.call(arguments,1)));return function(c){return 0>=c?0:1<=c?1:f(c)}};
d3.event=null;d3.transform=function(c){var a=document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(c){a.setAttribute("transform",c);c=a.transform.baseVal.consolidate();return new Pa(c?c.matrix:Se)})(c)};Pa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Cc=180/Math.PI,Se={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(c,a){for(var e=d3.interpolators.length,f;0<=--e&&!(f=d3.interpolators[e](c,
a)););return f};d3.interpolateNumber=function(c,a){return a-=c,function(e){return c+a*e}};d3.interpolateRound=function(c,a){return a-=c,function(e){return Math.round(c+a*e)}};d3.interpolateString=function(c,a){var e,f,h=0,j=[],n=[],A,p;for(f=Cb.lastIndex=0;e=Cb.exec(a);++f)e.index&&j.push(a.substring(h,e.index)),n.push({i:j.length,x:e[0]}),j.push(null),h=Cb.lastIndex;h<a.length&&j.push(a.substring(h));f=0;for(A=n.length;(e=Cb.exec(c))&&f<A;++f)if(p=n[f],p.x==e[0]){if(p.i)if(null==j[p.i+1]){j[p.i-
1]+=p.x;j.splice(p.i,1);for(e=f+1;e<A;++e)n[e].i--}else{j[p.i-1]+=p.x+j[p.i+1];j.splice(p.i,2);for(e=f+1;e<A;++e)n[e].i-=2}else if(null==j[p.i+1])j[p.i]=p.x;else{j[p.i]=p.x+j[p.i+1];j.splice(p.i+1,1);for(e=f+1;e<A;++e)n[e].i--}n.splice(f,1);A--;f--}else p.x=d3.interpolateNumber(parseFloat(e[0]),parseFloat(p.x));for(;f<A;)p=n.pop(),null==j[p.i+1]?j[p.i]=p.x:(j[p.i]=p.x+j[p.i+1],j.splice(p.i+1,1)),A--;return 1===j.length?null==j[0]?n[0].x:function(){return a}:function(c){for(f=0;f<A;++f)j[(p=n[f]).i]=
p.x(c);return j.join("")}};d3.interpolateTransform=function(c,a){var e=[],f=[],h,j=d3.transform(c),n=d3.transform(a),A=j.translate,p=n.translate,l=j.rotate,s=n.rotate,X=j.skew,u=n.skew,j=j.scale,n=n.scale;return A[0]!=p[0]||A[1]!=p[1]?(e.push("translate(",null,",",null,")"),f.push({i:1,x:d3.interpolateNumber(A[0],p[0])},{i:3,x:d3.interpolateNumber(A[1],p[1])})):p[0]||p[1]?e.push("translate("+p+")"):e.push(""),l!=s?(180<l-s?s+=360:180<s-l&&(l+=360),f.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(l,
s)})):s&&e.push(e.pop()+"rotate("+s+")"),X!=u?f.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(X,u)}):u&&e.push(e.pop()+"skewX("+u+")"),j[0]!=n[0]||j[1]!=n[1]?(h=e.push(e.pop()+"scale(",null,",",null,")"),f.push({i:h-4,x:d3.interpolateNumber(j[0],n[0])},{i:h-2,x:d3.interpolateNumber(j[1],n[1])})):(1!=n[0]||1!=n[1])&&e.push(e.pop()+"scale("+n+")"),h=f.length,function(c){for(var a=-1,k;++a<h;)e[(k=f[a]).i]=k.x(c);return e.join("")}};d3.interpolateRgb=function(c,a){var c=d3.rgb(c),
a=d3.rgb(a),e=c.r,f=c.g,h=c.b,j=a.r-e,n=a.g-f,A=a.b-h;return function(c){return"#"+za(Math.round(e+j*c))+za(Math.round(f+n*c))+za(Math.round(h+A*c))}};d3.interpolateHsl=function(c,a){var c=d3.hsl(c),a=d3.hsl(a),e=c.h,f=c.s,h=c.l,j=a.h-e,n=a.s-f,A=a.l-h;return 180<j?j-=360:-180>j&&(j+=360),function(c){return J(e+j*c,f+n*c,h+A*c)+""}};d3.interpolateLab=function(c,a){var c=d3.lab(c),a=d3.lab(a),e=c.l,f=c.a,h=c.b,j=a.l-e,n=a.a-f,A=a.b-h;return function(c){return qa(e+j*c,f+n*c,h+A*c)+""}};d3.interpolateHcl=
function(c,a){var c=d3.hcl(c),a=d3.hcl(a),e=c.h,f=c.c,h=c.l,j=a.h-e,n=a.c-f,A=a.l-h;return 180<j?j-=360:-180>j&&(j+=360),function(c){return oa(e+j*c,f+n*c,h+A*c)+""}};d3.interpolateArray=function(c,a){var e=[],f=[],h=c.length,j=a.length,n=Math.min(c.length,a.length),A;for(A=0;A<n;++A)e.push(d3.interpolate(c[A],a[A]));for(;A<h;++A)f[A]=c[A];for(;A<j;++A)f[A]=a[A];return function(c){for(A=0;A<n;++A)f[A]=e[A](c);return f}};d3.interpolateObject=function(c,a){var e={},f={},h;for(h in c)h in a?e[h]=Da(h)(c[h],
a[h]):f[h]=c[h];for(h in a)h in c||(f[h]=a[h]);return function(c){for(h in e)f[h]=e[h](c);return f}};var Cb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(c,a){return a instanceof Array&&d3.interpolateArray(c,a)},function(c,a){return("string"==typeof c||"string"==typeof a)&&d3.interpolateString(c+"",a+"")},function(c,a){return("string"==typeof a?nb.has(a)||/^(#|rgb\(|hsl\()/.test(a):a instanceof Ea)&&d3.interpolateRgb(c,a)},function(c,a){return!isNaN(c=
+c)&&!isNaN(a=+a)&&d3.interpolateNumber(c,a)}];Ea.prototype.toString=function(){return this.rgb()+""};d3.rgb=function(c,a,e){return 1===arguments.length?c instanceof Ia?xa(c.r,c.g,c.b):Ka(""+c,xa,J):xa(~~c,~~a,~~e)};var Db=Ia.prototype=new Ea;Db.brighter=function(c){var c=Math.pow(0.7,arguments.length?c:1),a=this.r,e=this.g,f=this.b;return!a&&!e&&!f?xa(30,30,30):(a&&30>a&&(a=30),e&&30>e&&(e=30),f&&30>f&&(f=30),xa(Math.min(255,Math.floor(a/c)),Math.min(255,Math.floor(e/c)),Math.min(255,Math.floor(f/
c))))};Db.darker=function(c){return c=Math.pow(0.7,arguments.length?c:1),xa(Math.floor(c*this.r),Math.floor(c*this.g),Math.floor(c*this.b))};Db.hsl=function(){return Ga(this.r,this.g,this.b)};Db.toString=function(){return"#"+za(this.r)+za(this.g)+za(this.b)};var nb=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",
cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",
darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",
lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",
mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",
peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",
violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});nb.forEach(function(c,a){nb.set(c,Ka(a,xa,J))});d3.hsl=function(c,a,e){return 1===arguments.length?c instanceof ra?sa(c.h,c.s,c.l):Ka(""+c,Ga,sa):sa(+c,+a,+e)};var mc=ra.prototype=new Ea;mc.brighter=function(c){return c=Math.pow(0.7,arguments.length?c:1),sa(this.h,this.s,this.l/c)};mc.darker=function(c){return c=Math.pow(0.7,arguments.length?c:1),sa(this.h,this.s,c*this.l)};mc.rgb=function(){return J(this.h,
this.s,this.l)};d3.hcl=function(c,a,e){return 1===arguments.length?c instanceof ga?ka(c.h,c.c,c.l):c instanceof ma?n(c.l,c.a,c.b):n((c=ca((c=d3.rgb(c)).r,c.g,c.b)).l,c.a,c.b):ka(+c,+a,+e)};var nc=ga.prototype=new Ea;nc.brighter=function(c){return ka(this.h,this.c,Math.min(100,this.l+Eb*(arguments.length?c:1)))};nc.darker=function(c){return ka(this.h,this.c,Math.max(0,this.l-Eb*(arguments.length?c:1)))};nc.rgb=function(){return oa(this.h,this.c,this.l).rgb()};d3.lab=function(c,a,e){return 1===arguments.length?
c instanceof ma?T(c.l,c.a,c.b):c instanceof ga?oa(c.l,c.c,c.h):ca((c=d3.rgb(c)).r,c.g,c.b):T(+c,+a,+e)};var Eb=18,Dc=0.95047,Ec=1,Fc=1.08883,oc=ma.prototype=new Ea;oc.brighter=function(c){return T(Math.min(100,this.l+Eb*(arguments.length?c:1)),this.a,this.b)};oc.darker=function(c){return T(Math.max(0,this.l-Eb*(arguments.length?c:1)),this.a,this.b)};oc.rgb=function(){return qa(this.l,this.a,this.b)};var ob=function(c,a){return a.querySelector(c)},Gc=function(c,a){return a.querySelectorAll(c)},Za=
document.documentElement,Te=Za.matchesSelector||Za.webkitMatchesSelector||Za.mozMatchesSelector||Za.msMatchesSelector||Za.oMatchesSelector,Hc=function(c,a){return Te.call(c,a)};"function"==typeof Sizzle&&(ob=function(c,a){return Sizzle(c,a)[0]||null},Gc=function(c,a){return Sizzle.uniqueSort(Sizzle(c,a))},Hc=Sizzle.matchesSelector);var ia=[];d3.selection=function(){return hb};d3.selection.prototype=ia;ia.select=function(c){var a=[],e,f,h,j;"function"!=typeof c&&(c=L(c));for(var n=-1,A=this.length;++n<
A;){a.push(e=[]);e.parentNode=(h=this[n]).parentNode;for(var p=-1,l=h.length;++p<l;)(j=h[p])?(e.push(f=c.call(j,j.__data__,p)),f&&"__data__"in j&&(f.__data__=j.__data__)):e.push(null)}return E(a)};ia.selectAll=function(c){var a=[],e,f;"function"!=typeof c&&(c=O(c));for(var h=-1,j=this.length;++h<j;)for(var n=this[h],A=-1,p=n.length;++A<p;)if(f=n[A])a.push(e=fb(c.call(f,f.__data__,A))),e.parentNode=f;return E(a)};ia.attr=function(c,a){if(2>arguments.length){if("string"==typeof c){var e=this.node();
return c=d3.ns.qualify(c),c.local?e.getAttributeNS(c.space,c.local):e.getAttribute(c)}for(a in c)this.each(ha(a,c[a]));return this}return this.each(ha(c,a))};ia.classed=function(c,a){if(2>arguments.length){if("string"==typeof c){var e=this.node(),f=(c=c.trim().split(/^|\s+/g)).length,h=-1;if(a=e.classList)for(;++h<f;){if(!a.contains(c[h]))return!1}else{a=e.className;for(null!=a.baseVal&&(a=a.baseVal);++h<f;)if(!Oa(c[h]).test(a))return!1}return!0}for(a in c)this.each(I(a,c[a]));return this}return this.each(I(c,
a))};ia.style=function(c,a,e){var f=arguments.length;if(3>f){if("string"!=typeof c){2>f&&(a="");for(e in c)this.each(C(e,c[e],a));return this}if(2>f)return window.getComputedStyle(this.node(),null).getPropertyValue(c);e=""}return this.each(C(c,a,e))};ia.property=function(c,a){if(2>arguments.length){if("string"==typeof c)return this.node()[c];for(a in c)this.each(B(a,c[a]));return this}return this.each(B(c,a))};ia.text=function(c){return 1>arguments.length?this.node().textContent:this.each("function"==
typeof c?function(){var a=c.apply(this,arguments);this.textContent=null==a?"":a}:null==c?function(){this.textContent=""}:function(){this.textContent=c})};ia.html=function(c){return 1>arguments.length?this.node().innerHTML:this.each("function"==typeof c?function(){var a=c.apply(this,arguments);this.innerHTML=null==a?"":a}:null==c?function(){this.innerHTML=""}:function(){this.innerHTML=c})};ia.append=function(c){function a(){return this.appendChild(document.createElementNS(this.namespaceURI,c))}function e(){return this.appendChild(document.createElementNS(c.space,
c.local))}return c=d3.ns.qualify(c),this.select(c.local?e:a)};ia.insert=function(c,a){function e(){return this.insertBefore(document.createElementNS(this.namespaceURI,c),ob(a,this))}function f(){return this.insertBefore(document.createElementNS(c.space,c.local),ob(a,this))}return c=d3.ns.qualify(c),this.select(c.local?f:e)};ia.remove=function(){return this.each(function(){var c=this.parentNode;c&&c.removeChild(this)})};ia.data=function(c,e){function f(c,h){var q,j=c.length,n=h.length,p=Math.min(j,
n),M=Math.max(j,n),W=[],la=[],na=[],u,w;if(e){var p=new a,M=[],t;w=h.length;for(q=-1;++q<j;)t=e.call(u=c[q],u.__data__,q),p.has(t)?na[w++]=u:p.set(t,u),M.push(t);for(q=-1;++q<n;)t=e.call(h,w=h[q],q),p.has(t)?(W[q]=u=p.get(t),u.__data__=w,la[q]=na[q]=null):(la[q]={__data__:w},W[q]=na[q]=null),p.remove(t);for(q=-1;++q<j;)p.has(M[q])&&(na[q]=c[q])}else{for(q=-1;++q<p;)u=c[q],w=h[q],u?(u.__data__=w,W[q]=u,la[q]=na[q]=null):(la[q]={__data__:w},W[q]=na[q]=null);for(;q<n;++q)la[q]={__data__:h[q]},W[q]=na[q]=
null;for(;q<M;++q)na[q]=c[q],la[q]=W[q]=null}la.update=W;la.parentNode=W.parentNode=na.parentNode=c.parentNode;A.push(la);l.push(W);s.push(na)}var h=-1,j=this.length,n,p;if(!arguments.length){for(c=Array(j=(n=this[0]).length);++h<j;)if(p=n[h])c[h]=p.__data__;return c}var A=tc([]),l=E([]),s=E([]);if("function"==typeof c)for(;++h<j;)f(n=this[h],c.call(n,n.parentNode.__data__,h));else for(;++h<j;)f(n=this[h],c);return l.enter=function(){return A},l.exit=function(){return s},l};ia.datum=ia.map=function(c){return 1>
arguments.length?this.property("__data__"):this.property("__data__",c)};ia.filter=function(c){var a=[],e,f,h;"function"!=typeof c&&(c=p(c));for(var j=0,n=this.length;j<n;j++){a.push(e=[]);e.parentNode=(f=this[j]).parentNode;for(var A=0,l=f.length;A<l;A++)(h=f[A])&&c.call(h,h.__data__,A)&&e.push(h)}return E(a)};ia.order=function(){for(var c=-1,a=this.length;++c<a;)for(var e=this[c],f=e.length-1,h=e[f],j;0<=--f;)if(j=e[f])h&&h!==j.nextSibling&&h.parentNode.insertBefore(j,h),h=j;return this};ia.sort=
function(c){for(var c=Rd.apply(this,arguments),a=-1,e=this.length;++a<e;)this[a].sort(c);return this.order()};ia.on=function(c,a,e){var f=arguments.length;if(3>f){if("string"!=typeof c){2>f&&(a=!1);for(e in c)this.each(uc(e,c[e],a));return this}if(2>f)return(f=this.node()["__on"+c])&&f._;e=!1}return this.each(uc(c,a,e))};ia.each=function(c){return $a(this,function(a,e,f){c.call(a,a.__data__,e,f)})};ia.call=function(c){return c.apply(this,(arguments[0]=this,arguments)),this};ia.empty=function(){return!this.node()};
ia.node=function(){for(var c=0,a=this.length;c<a;c++)for(var e=this[c],f=0,h=e.length;f<h;f++){var j=e[f];if(j)return j}return null};ia.transition=function(){for(var c=[],a,e,f=-1,h=this.length;++f<h;){c.push(a=[]);for(var j=this[f],n=-1,A=j.length;++n<A;)a.push((e=j[n])?{node:e,delay:qb,duration:rb}:null)}return jb(c,Ta||++Ue,Date.now())};var hb=E([[document]]);hb[0].parentNode=Za;d3.select=function(c){return"string"==typeof c?hb.select(c):E([[c]])};d3.selectAll=function(c){return"string"==typeof c?
hb.selectAll(c):E([fb(c)])};var Ra=[];d3.selection.enter=tc;d3.selection.enter.prototype=Ra;Ra.append=ia.append;Ra.insert=ia.insert;Ra.empty=ia.empty;Ra.node=ia.node;Ra.select=function(c){for(var a=[],e,f,h,j,n,A=-1,p=this.length;++A<p;){h=(j=this[A]).update;a.push(e=[]);e.parentNode=j.parentNode;for(var l=-1,s=j.length;++l<s;)(n=j[l])?(e.push(h[l]=f=c.call(j.parentNode,n.__data__,l)),f.__data__=n.__data__):e.push(null)}return E(a)};var ya=[],Ue=0,Ta=0,qb=0,rb=250,pb=d3.ease("cubic-in-out");ya.call=
ia.call;d3.transition=function(c){return arguments.length?Ta?c.transition():c:hb.transition()};d3.transition.prototype=ya;ya.select=function(c){var a=[],e,f,h;"function"!=typeof c&&(c=L(c));for(var j=-1,n=this.length;++j<n;){a.push(e=[]);for(var A=this[j],p=-1,l=A.length;++p<l;)(h=A[p])&&(f=c.call(h.node,h.node.__data__,p))?("__data__"in h.node&&(f.__data__=h.node.__data__),e.push({node:f,delay:h.delay,duration:h.duration})):e.push(null)}return jb(a,this.id,this.time).ease(this.ease())};ya.selectAll=
function(c){var a=[],e,f,h;"function"!=typeof c&&(c=O(c));for(var j=-1,n=this.length;++j<n;)for(var A=this[j],p=-1,l=A.length;++p<l;)if(h=A[p]){f=c.call(h.node,h.node.__data__,p);a.push(e=[]);for(var s=-1,u=f.length;++s<u;)e.push({node:f[s],delay:h.delay,duration:h.duration})}return jb(a,this.id,this.time).ease(this.ease())};ya.filter=function(c){var a=[],e,f,h;"function"!=typeof c&&(c=p(c));for(var j=0,n=this.length;j<n;j++){a.push(e=[]);f=this[j];for(var A=0,l=f.length;A<l;A++)(h=f[A])&&c.call(h.node,
h.node.__data__,A)&&e.push(h)}return jb(a,this.id,this.time).ease(this.ease())};ya.attr=function(c,a){if(2>arguments.length){for(a in c)this.attrTween(a,d3.tween(c[a],Da(a)));return this}return this.attrTween(c,d3.tween(a,Da(c)))};ya.attrTween=function(c,a){function e(c,f){var q=a.call(this,c,f,this.getAttribute(h));return q===ab?(this.removeAttribute(h),null):q&&function(c){this.setAttribute(h,q(c))}}function f(c,e){var q=a.call(this,c,e,this.getAttributeNS(h.space,h.local));return q===ab?(this.removeAttributeNS(h.space,
h.local),null):q&&function(c){this.setAttributeNS(h.space,h.local,q(c))}}var h=d3.ns.qualify(c);return this.tween("attr."+c,h.local?f:e)};ya.style=function(c,a,e){var f=arguments.length;if(3>f){if("string"!=typeof c){2>f&&(a="");for(e in c)this.styleTween(e,d3.tween(c[e],Da(e)),a);return this}e=""}return this.styleTween(c,d3.tween(a,Da(c)),e)};ya.styleTween=function(c,a,e){return 3>arguments.length&&(e=""),this.tween("style."+c,function(f,h){var j=a.call(this,f,h,window.getComputedStyle(this,null).getPropertyValue(c));
return j===ab?(this.style.removeProperty(c),null):j&&function(a){this.style.setProperty(c,j(a),e)}})};ya.text=function(c){return this.tween("text",function(a,e){this.textContent="function"==typeof c?c.call(this,a,e):c})};ya.remove=function(){return this.each("end.transition",function(){var c;!this.__transition__&&(c=this.parentNode)&&c.removeChild(this)})};ya.delay=function(c){return $a(this,"function"==typeof c?function(a,e,f){a.delay=c.call(a=a.node,a.__data__,e,f)|0}:(c|=0,function(a){a.delay=
c}))};ya.duration=function(c){return $a(this,"function"==typeof c?function(a,e,f){a.duration=Math.max(1,c.call(a=a.node,a.__data__,e,f)|0)}:(c=Math.max(1,c|0),function(a){a.duration=c}))};ya.transition=function(){return this.select(h)};d3.tween=function(c,a){function e(f,h,q){f=c.call(this,f,h);return null==f?""!=q&&ab:q!=f&&a(q,f+"")}function f(e,h,q){return q!=c&&a(q,c)}return"function"==typeof c?e:null==c?da:(c+="",f)};var ab={},Ve=0,Ob={},Xa=null,tb,sb;d3.timer=function(c,a,e){if(3>arguments.length){if(2>
arguments.length)a=0;else if(!isFinite(a))return;e=Date.now()}var f=Ob[c.id];f&&f.callback===c?(f.then=e,f.delay=a):Ob[c.id=++Ve]=Xa={callback:c,then:e,delay:a,next:Xa};tb||(sb=clearTimeout(sb),tb=1,Ic(Jb))};d3.timer.flush=function(){for(var c,a=Date.now(),e=Xa;e;)c=a-e.then,e.delay||(e.flush=e.callback(c)),e=e.next;wa()};var Ic=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){setTimeout(c,
17)};d3.mouse=function(c){return vc(c,U())};var Pb=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(c,a){return 2>arguments.length&&(a=U().touches),a?fb(a).map(function(a){var e=vc(c,a);return e.identifier=a.identifier,e}):[]};d3.scale={};d3.scale.linear=function(){return sc([0,1],[0,1],d3.interpolate,!1)};d3.scale.log=function(){return xc(d3.scale.linear(),Mb)};var Wd=d3.format(".0e");Mb.pow=function(c){return Math.pow(10,c)};lb.pow=function(c){return-Math.pow(10,-c)};d3.scale.pow=function(){return yc(d3.scale.linear(),
1)};d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5)};d3.scale.ordinal=function(){return zc([],{t:"range",a:[[]]})};d3.scale.category10=function(){return d3.scale.ordinal().range(We)};d3.scale.category20=function(){return d3.scale.ordinal().range(Xe)};d3.scale.category20b=function(){return d3.scale.ordinal().range(Ye)};d3.scale.category20c=function(){return d3.scale.ordinal().range(Ze)};var We="#1f77b4 #ff7f0e #2ca02c #d62728 #9467bd #8c564b #e377c2 #7f7f7f #bcbd22 #17becf".split(" "),
Xe="#1f77b4 #aec7e8 #ff7f0e #ffbb78 #2ca02c #98df8a #d62728 #ff9896 #9467bd #c5b0d5 #8c564b #c49c94 #e377c2 #f7b6d2 #7f7f7f #c7c7c7 #bcbd22 #dbdb8d #17becf #9edae5".split(" "),Ye="#393b79 #5254a3 #6b6ecf #9c9ede #637939 #8ca252 #b5cf6b #cedb9c #8c6d31 #bd9e39 #e7ba52 #e7cb94 #843c39 #ad494a #d6616b #e7969c #7b4173 #a55194 #ce6dbd #de9ed6".split(" "),Ze="#3182bd #6baed6 #9ecae1 #c6dbef #e6550d #fd8d3c #fdae6b #fdd0a2 #31a354 #74c476 #a1d99b #c7e9c0 #756bb1 #9e9ac8 #bcbddc #dadaeb #636363 #969696 #bdbdbd #d9d9d9".split(" ");
d3.scale.quantile=function(){return Jc([],[])};d3.scale.quantize=function(){return Kc(0,1,[0,1])};d3.scale.threshold=function(){return Lc([0.5],[0,1])};d3.scale.identity=function(){return Mc([0,1])};d3.svg={};d3.svg.arc=function(){function c(){var c=a.apply(this,arguments),j=e.apply(this,arguments),n=f.apply(this,arguments)+Ua,p=h.apply(this,arguments)+Ua,l=(p<n&&(l=n,n=p,p=l),p-n),s=l<Math.PI?"0":"1",u=Math.cos(n),n=Math.sin(n),w=Math.cos(p),p=Math.sin(p);return l>=$e?c?"M0,"+j+"A"+j+","+j+" 0 1,1 0,"+
-j+"A"+j+","+j+" 0 1,1 0,"+j+"M0,"+c+"A"+c+","+c+" 0 1,0 0,"+-c+"A"+c+","+c+" 0 1,0 0,"+c+"Z":"M0,"+j+"A"+j+","+j+" 0 1,1 0,"+-j+"A"+j+","+j+" 0 1,1 0,"+j+"Z":c?"M"+j*u+","+j*n+"A"+j+","+j+" 0 "+s+",1 "+j*w+","+j*p+"L"+c*w+","+c*p+"A"+c+","+c+" 0 "+s+",0 "+c*u+","+c*n+"Z":"M"+j*u+","+j*n+"A"+j+","+j+" 0 "+s+",1 "+j*w+","+j*p+"L0,0Z"}var a=Xd,e=Yd,f=Nc,h=Oc;return c.innerRadius=function(e){return arguments.length?(a=l(e),c):a},c.outerRadius=function(a){return arguments.length?(e=l(a),c):e},c.startAngle=
function(a){return arguments.length?(f=l(a),c):f},c.endAngle=function(a){return arguments.length?(h=l(a),c):h},c.centroid=function(){var c=(a.apply(this,arguments)+e.apply(this,arguments))/2,j=(f.apply(this,arguments)+h.apply(this,arguments))/2+Ua;return[Math.cos(j)*c,Math.sin(j)*c]},c};var Ua=-Math.PI/2,$e=2*Math.PI-1E-6;d3.svg.line=function(){return Pc(e)};var Rb=d3.map({linear:Ca,"linear-closed":function(c){return Ca(c)+"Z"},"step-before":Sb,"step-after":Tb,basis:Rc,"basis-open":function(c){if(4>
c.length)return Ca(c);for(var a=[],e=-1,f=c.length,h,j=[0],n=[0];3>++e;)h=c[e],j.push(h[0]),n.push(h[1]);a.push(Ha(Ya,j)+","+Ha(Ya,n));for(--e;++e<f;)h=c[e],j.shift(),j.push(h[0]),n.shift(),n.push(h[1]),bb(a,j,n);return a.join("")},"basis-closed":function(c){for(var a,e=-1,f=c.length,h=f+4,j,n=[],A=[];4>++e;)j=c[e%f],n.push(j[0]),A.push(j[1]);a=[Ha(Ya,n),",",Ha(Ya,A)];for(--e;++e<h;)j=c[e%f],n.shift(),n.push(j[0]),A.shift(),A.push(j[1]),bb(a,n,A);return a.join("")},bundle:function(c,a){var e=c.length-
1;if(e)for(var f=c[0][0],h=c[0][1],j=c[e][0]-f,n=c[e][1]-h,A=-1,p,l;++A<=e;)p=c[A],l=A/e,p[0]=a*p[0]+(1-a)*(f+l*j),p[1]=a*p[1]+(1-a)*(h+l*n);return Rc(c)},cardinal:function(c,a){return 3>c.length?Ca(c):c[0]+ub(c,Ub(c,a))},"cardinal-open":function(c,a){return 4>c.length?Ca(c):c[1]+ub(c.slice(1,c.length-1),Ub(c,a))},"cardinal-closed":function(c,a){return 3>c.length?Ca(c):c[0]+ub((c.push(c[0]),c),Ub([c[c.length-2]].concat(c,[c[1]]),a))},monotone:function(c){if(3>c.length)c=Ca(c);else{var a=c[0],e=[],
f,h,j,n,A;f=0;A=c.length-1;for(var p=[],l=c[1],s=p[0]=Vb(c[0],l);++f<A;)p[f]=(s+(s=Vb(l,l=c[f+1])))/2;A=(p[f]=s,p);p=-1;for(l=c.length-1;++p<l;)f=Vb(c[p],c[p+1]),1E-6>Math.abs(f)?A[p]=A[p+1]=0:(h=A[p]/f,j=A[p+1]/f,n=h*h+j*j,9<n&&(n=3*f/Math.sqrt(n),A[p]=n*h,A[p+1]=n*j));for(p=-1;++p<=l;)n=(c[Math.min(l,p+1)][0]-c[Math.max(0,p-1)][0])/(6*(1+A[p]*A[p])),e.push([n||0,A[p]*n||0]);c=a+ub(c,e)}return c}});Rb.forEach(function(c,a){a.key=c;a.closed=/-closed$/.test(c)});var Sc=[0,2/3,1/3,0],Tc=[0,1/3,2/3,
0],Ya=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var c=Pc(Uc);return c.radius=c.x,delete c.x,c.angle=c.y,delete c.y,c};Sb.reverse=Tb;Tb.reverse=Sb;d3.svg.area=function(){return Vc(e)};d3.svg.area.radial=function(){var c=Vc(Uc);return c.radius=c.x,delete c.x,c.innerRadius=c.x0,delete c.x0,c.outerRadius=c.x1,delete c.x1,c.angle=c.y,delete c.y,c.startAngle=c.y0,delete c.y0,c.endAngle=c.y1,delete c.y1,c};d3.svg.chord=function(){function c(c,h){var j=a(this,e,c,h),n=a(this,f,c,h);return"M"+j.p0+("A"+
j.r+","+j.r+" 0 "+ +(j.a1-j.a0>Math.PI)+",1 "+j.p1)+(j.a0==n.a0&&j.a1==n.a1?"Q 0,0 "+j.p0:"Q 0,0 "+n.p0+("A"+n.r+","+n.r+" 0 "+ +(n.a1-n.a0>Math.PI)+",1 "+n.p1)+("Q 0,0 "+j.p0))+"Z"}function a(c,e,f,k){var q=e.call(c,f,k),e=h.call(c,q,k),f=j.call(c,q,k)+Ua,c=n.call(c,q,k)+Ua;return{r:e,a0:f,a1:c,p0:[e*Math.cos(f),e*Math.sin(f)],p1:[e*Math.cos(c),e*Math.sin(c)]}}var e=Wc,f=Xc,h=Zd,j=Nc,n=Oc;return c.radius=function(a){return arguments.length?(h=l(a),c):h},c.source=function(a){return arguments.length?
(e=l(a),c):e},c.target=function(a){return arguments.length?(f=l(a),c):f},c.startAngle=function(a){return arguments.length?(j=l(a),c):j},c.endAngle=function(a){return arguments.length?(n=l(a),c):n},c};d3.svg.diagonal=function(){function c(c,h){var j=a.call(this,c,h),n=e.call(this,c,h),p=(j.y+n.y)/2,j=[j,{x:j.x,y:p},{x:n.x,y:p},n];return j=j.map(f),"M"+j[0]+"C"+j[1]+" "+j[2]+" "+j[3]}var a=Wc,e=Xc,f=Yc;return c.source=function(e){return arguments.length?(a=l(e),c):a},c.target=function(a){return arguments.length?
(e=l(a),c):e},c.projection=function(a){return arguments.length?(f=a,c):f},c};d3.svg.diagonal.radial=function(){var c=d3.svg.diagonal(),a=Yc,e=c.projection;return c.projection=function(c){var f;if(arguments.length){var h=a=c;f=e(function(){var c=h.apply(this,arguments),a=c[0],c=c[1]+Ua;return[a*Math.cos(c),a*Math.sin(c)]})}else f=a;return f},c};d3.svg.mouse=d3.mouse;d3.svg.touches=d3.touches;d3.svg.symbol=function(){function c(c,f){return(Dd.get(a.call(this,c,f))||Zc)(e.call(this,c,f))}var a=ae,e=
$d;return c.type=function(e){return arguments.length?(a=l(e),c):a},c.size=function(a){return arguments.length?(e=l(a),c):e},c};var Dd=d3.map({circle:Zc,cross:function(c){c=Math.sqrt(c/5)/2;return"M"+-3*c+","+-c+"H"+-c+"V"+-3*c+"H"+c+"V"+-c+"H"+3*c+"V"+c+"H"+c+"V"+3*c+"H"+-c+"V"+c+"H"+-3*c+"Z"},diamond:function(c){var c=Math.sqrt(c/(2*Ed)),a=c*Ed;return"M0,"+-c+"L"+a+",0 0,"+c+" "+-a+",0Z"},square:function(c){c=Math.sqrt(c)/2;return"M"+-c+","+-c+"L"+c+","+-c+" "+c+","+c+" "+-c+","+c+"Z"},"triangle-down":function(c){var c=
Math.sqrt(c/Fb),a=c*Fb/2;return"M0,"+a+"L"+c+","+-a+" "+-c+","+-a+"Z"},"triangle-up":function(c){var c=Math.sqrt(c/Fb),a=c*Fb/2;return"M0,"+-a+"L"+c+","+a+" "+-c+","+a+"Z"}});d3.svg.symbolTypes=Dd.keys();var Fb=Math.sqrt(3),Ed=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function c(c){c.each(function(){var c=d3.select(this),X=null==l?a.ticks?a.ticks.apply(a,p):a.domain():l,w=null==s?a.tickFormat?a.tickFormat.apply(a,p):String:s,t=u,E=[];if(t&&1<X.length){for(var B=pa(a.domain()),E,L=-1,C=X.length,
O=(X[1]-X[0])/++t,I,v;++L<C;)for(I=t;0<--I;)(v=+X[L]-I*O)>=B[0]&&E.push(v);--L;for(I=0;++I<t&&(v=+X[L]+I*O)<B[1];)E.push(v)}E=c.selectAll(".minor").data(E,String);t=E.enter().insert("line","g").attr("class","tick minor").style("opacity",1E-6);B=d3.transition(E.exit()).style("opacity",1E-6).remove();E=d3.transition(E).style("opacity",1);var D=c.selectAll("g").data(X,String),X=D.enter().insert("g","path").style("opacity",1E-6),C=d3.transition(D.exit()).style("opacity",1E-6).remove(),L=d3.transition(D).style("opacity",
1),z,O=kb(a),c=c.selectAll(".domain").data([0]);c.enter().append("path").attr("class","domain");var c=d3.transition(c),ha=a.copy();I=this.__chart__||ha;this.__chart__=ha;X.append("line").attr("class","tick");X.append("text");v=X.select("line");var H=L.select("line"),w=D.select("text").text(w),D=X.select("text"),F=L.select("text");switch(e){case "bottom":z=$c;t.attr("y2",h);E.attr("x2",0).attr("y2",h);v.attr("y2",f);D.attr("y",Math.max(f,0)+n);H.attr("x2",0).attr("y2",f);F.attr("x",0).attr("y",Math.max(f,
0)+n);w.attr("dy",".71em").attr("text-anchor","middle");c.attr("d","M"+O[0]+","+j+"V0H"+O[1]+"V"+j);break;case "top":z=$c;t.attr("y2",-h);E.attr("x2",0).attr("y2",-h);v.attr("y2",-f);D.attr("y",-(Math.max(f,0)+n));H.attr("x2",0).attr("y2",-f);F.attr("x",0).attr("y",-(Math.max(f,0)+n));w.attr("dy","0em").attr("text-anchor","middle");c.attr("d","M"+O[0]+","+-j+"V0H"+O[1]+"V"+-j);break;case "left":z=ad;t.attr("x2",-h);E.attr("x2",-h).attr("y2",0);v.attr("x2",-f);D.attr("x",-(Math.max(f,0)+n));H.attr("x2",
-f).attr("y2",0);F.attr("x",-(Math.max(f,0)+n)).attr("y",0);w.attr("dy",".32em").attr("text-anchor","end");c.attr("d","M"+-j+","+O[0]+"H0V"+O[1]+"H"+-j);break;case "right":z=ad,t.attr("x2",h),E.attr("x2",h).attr("y2",0),v.attr("x2",f),D.attr("x",Math.max(f,0)+n),H.attr("x2",f).attr("y2",0),F.attr("x",Math.max(f,0)+n).attr("y",0),w.attr("dy",".32em").attr("text-anchor","start"),c.attr("d","M"+j+","+O[0]+"H0V"+O[1]+"H"+j)}if(a.ticks)X.call(z,I),L.call(z,ha),C.call(z,ha),t.call(z,I),E.call(z,ha),B.call(z,
ha);else{var G=ha.rangeBand()/2,w=function(c){return ha(c)+G};X.call(z,w);L.call(z,w)}})}var a=d3.scale.linear(),e="bottom",f=6,h=6,j=6,n=3,p=[10],l=null,s,u=0;return c.scale=function(e){return arguments.length?(a=e,c):a},c.orient=function(a){return arguments.length?(e=a,c):e},c.ticks=function(){return arguments.length?(p=arguments,c):p},c.tickValues=function(a){return arguments.length?(l=a,c):l},c.tickFormat=function(a){return arguments.length?(s=a,c):s},c.tickSize=function(a,e,k){if(!arguments.length)return f;
var q=arguments.length-1;return f=+a,h=1<q?+e:f,j=0<q?+arguments[q]:f,c},c.tickPadding=function(a){return arguments.length?(n=+a,c):n},c.tickSubdivide=function(a){return arguments.length?(u=+a,c):u},c};d3.svg.brush=function(){function c(j){j.each(function(){var j=d3.select(this),s=j.selectAll(".background").data([0]),u=j.selectAll(".extent").data([0]),X=j.selectAll(".resize").data(l,String),w;j.style("pointer-events","all").on("mousedown.brush",h).on("touchstart.brush",h);s.enter().append("rect").attr("class",
"background").style("visibility","hidden").style("cursor","crosshair");u.enter().append("rect").attr("class","extent").style("cursor","move");X.enter().append("g").attr("class",function(c){return"resize "+c}).style("cursor",function(c){return af[c]}).append("rect").attr("x",function(c){return/[ew]$/.test(c)?-3:null}).attr("y",function(c){return/^[ns]/.test(c)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");X.style("display",c.empty()?"none":null);X.exit().remove();n&&(w=kb(n),
s.attr("x",w[0]).attr("width",w[1]-w[0]),e(j));p&&(w=kb(p),s.attr("y",w[0]).attr("height",w[1]-w[0]),f(j));a(j)})}function a(c){c.selectAll(".resize").attr("transform",function(c){return"translate("+s[+/e$/.test(c)][0]+","+s[+/^s/.test(c)][1]+")"})}function e(c){c.select(".extent").attr("x",s[0][0]);c.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1][0]-s[0][0])}function f(c){c.select(".extent").attr("y",s[0][1]);c.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1][1]-s[0][1])}function h(){function l(){var c=
d3.event.changedTouches;return c?d3.touches(E,c)[0]:d3.mouse(E)}function M(){var c=l(),h=!1;ha&&(c[0]+=ha[0],c[1]+=ha[1]);v||(d3.event.altKey?(D||(D=[(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]),z[0]=s[+(c[0]<D[0])][0],z[1]=s[+(c[1]<D[1])][1]):D=null);O&&w(c,n,0)&&(e(Ba),h=!0);I&&w(c,p,1)&&(f(Ba),h=!0);h&&(a(Ba),L({type:"brush",mode:v?"move":"resize"}))}function w(c,a,e){var f=kb(a),a=f[0],f=f[1],h=z[e],k=s[1][e]-s[0][e],j;v&&(a-=h,f-=k+h);c=Math.max(a,Math.min(f,c[e]));v?j=(c+=h)+k:(D&&(h=Math.max(a,
Math.min(f,2*D[e]-c))),h<c?(j=c,c=h):j=h);if(s[0][e]!==c||s[1][e]!==j)return u=null,s[0][e]=c,s[1][e]=j,!0}function t(){M();Ba.style("pointer-events","all").selectAll(".resize").style("display",c.empty()?"none":null);d3.select("body").style("cursor",null);H.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);L({type:"brushend"});N()}var E=this,B=d3.select(d3.event.target),L=j.of(E,arguments),Ba=d3.select(E),
C=B.datum(),O=!/^(n|s)$/.test(C)&&n,I=!/^(e|w)$/.test(C)&&p,v=B.classed("extent"),D,z=l(),ha,H=d3.select(window).on("mousemove.brush",M).on("mouseup.brush",t).on("touchmove.brush",M).on("touchend.brush",t).on("keydown.brush",function(){32==d3.event.keyCode&&(v||(D=null,z[0]-=s[1][0],z[1]-=s[1][1],v=2),N())}).on("keyup.brush",function(){32==d3.event.keyCode&&2==v&&(z[0]+=s[1][0],z[1]+=s[1][1],v=0,N())});if(v)z[0]=s[0][0]-z[0],z[1]=s[0][1]-z[1];else if(C){var F=+/w$/.test(C),C=+/^n/.test(C);ha=[s[1-
F][0]-z[0],s[1-C][1]-z[1]];z[0]=s[F][0];z[1]=s[C][1]}else d3.event.altKey&&(D=z.slice());Ba.style("pointer-events","none").selectAll(".resize").style("display",null);d3.select("body").style("cursor",B.style("cursor"));L({type:"brushstart"});M();N()}var j=ta(c,"brushstart","brush","brushend"),n=null,p=null,l=pc[0],s=[[0,0],[0,0]],u;return c.x=function(a){return arguments.length?(n=a,l=pc[!n<<1|!p],c):n},c.y=function(a){return arguments.length?(p=a,l=pc[!n<<1|!p],c):p},c.extent=function(a){var e,f,
h,k,j;return arguments.length?(u=[[0,0],[0,0]],n&&(e=a[0],f=a[1],p&&(e=e[0],f=f[0]),u[0][0]=e,u[1][0]=f,n.invert&&(e=n(e),f=n(f)),f<e&&(j=e,e=f,f=j),s[0][0]=e|0,s[1][0]=f|0),p&&(h=a[0],k=a[1],n&&(h=h[1],k=k[1]),u[0][1]=h,u[1][1]=k,p.invert&&(h=p(h),k=p(k)),k<h&&(j=h,h=k,k=j),s[0][1]=h|0,s[1][1]=k|0),c):(a=u||s,n&&(e=a[0][0],f=a[1][0],u||(e=s[0][0],f=s[1][0],n.invert&&(e=n.invert(e),f=n.invert(f)),f<e&&(j=e,e=f,f=j))),p&&(h=a[0][1],k=a[1][1],u||(h=s[0][1],k=s[1][1],p.invert&&(h=p.invert(h),k=p.invert(k)),
k<h&&(j=h,h=k,k=j))),n&&p?[[e,h],[f,k]]:n?[e,f]:p&&[h,k])},c.clear=function(){return u=null,s[0][0]=s[0][1]=s[1][0]=s[1][1]=0,c},c.empty=function(){return n&&s[0][0]===s[1][0]||p&&s[0][1]===s[1][1]},d3.rebind(c,j,"on")};var af={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},pc=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]];d3.behavior={};d3.behavior.drag=function(){function c(){this.on("mousedown.drag",a).on("touchstart.drag",
a)}function a(){function c(){var a=j.parentNode;return l?d3.touches(a).filter(function(c){return c.identifier===l})[0]:d3.mouse(a)}function h(){n({type:"dragend"});w&&(N(),d3.event.target===p&&t.on("click.drag",k,!0));t.on(l?"touchmove.drag-"+l:"mousemove.drag",null).on(l?"touchend.drag-"+l:"mouseup.drag",null)}function k(){N();t.on("click.drag",null)}var j=this,n=e.of(j,arguments),p=d3.event.target,l=d3.event.touches&&d3.event.changedTouches[0].identifier,s,u=c(),w=0,t=d3.select(window).on(l?"touchmove.drag-"+
l:"mousemove.drag",function(){if(!j.parentNode)return h();var a=c(),e=a[0]-u[0],f=a[1]-u[1];w|=e|f;u=a;N();n({type:"drag",x:a[0]+s[0],y:a[1]+s[1],dx:e,dy:f})}).on(l?"touchend.drag-"+l:"mouseup.drag",h,!0);f?(s=f.apply(j,arguments),s=[s.x-u[0],s.y-u[1]]):s=[0,0];l||N();n({type:"dragstart"})}var e=ta(c,"drag","dragstart","dragend"),f=null;return c.origin=function(a){return arguments.length?(f=a,c):f},d3.rebind(c,e,"on")};d3.behavior.zoom=function(){function c(){this.on("mousedown.zoom",j).on("mousewheel.zoom",
n).on("mousemove.zoom",p).on("DOMMouseScroll.zoom",n).on("dblclick.zoom",l).on("touchstart.zoom",s).on("touchmove.zoom",u).on("touchend.zoom",s)}function a(c){return[(c[0]-w[0])/E,(c[1]-w[1])/E]}function e(c){E=Math.max(L[0],Math.min(L[1],c))}function f(c,a){a=[a[0]*E+w[0],a[1]*E+w[1]];w[0]+=c[0]-a[0];w[1]+=c[1]-a[1]}function h(c){v&&v.domain(O.range().map(function(c){return(c-w[0])/E}).map(O.invert));z&&z.domain(I.range().map(function(c){return(c-w[1])/E}).map(I.invert));d3.event.preventDefault();
c({type:"zoom",scale:E,translate:w})}function j(){function c(){N();A.on("click.zoom",null)}var e=this,q=C.of(e,arguments),n=d3.event.target,p=0,A=d3.select(window).on("mousemove.zoom",function(){p=1;f(d3.mouse(e),l);h(q)}).on("mouseup.zoom",function(){p&&N();A.on("mousemove.zoom",null).on("mouseup.zoom",null);p&&d3.event.target===n&&A.on("click.zoom",c,!0)}),l=a(d3.mouse(e));window.focus();N()}function n(){t||(t=a(d3.mouse(this)));e(Math.pow(2,0.0020*be())*E);f(d3.mouse(this),t);h(C.of(this,arguments))}
function p(){t=null}function l(){var c=d3.mouse(this),j=a(c);e(d3.event.shiftKey?E/2:2*E);f(c,j);h(C.of(this,arguments))}function s(){var c=d3.touches(this),j=Date.now();B=E;t={};c.forEach(function(c){t[c.identifier]=a(c)});N();if(1===c.length){if(500>j-D){var n=c[0],c=a(c[0]);e(2*E);f(n,c);h(C.of(this,arguments))}D=j}}function u(){var c=d3.touches(this),a=c[0],k=t[a.identifier];if(c=c[1]){var j=t[c.identifier],a=[(a[0]+c[0])/2,(a[1]+c[1])/2],k=[(k[0]+j[0])/2,(k[1]+j[1])/2];e(d3.event.scale*B)}f(a,
k);D=null;h(C.of(this,arguments))}var w=[0,0],t,E=1,B,L=Fd,C=ta(c,"zoom"),O,v,I,z,D;return c.translate=function(a){return arguments.length?(w=a.map(Number),c):w},c.scale=function(a){return arguments.length?(E=+a,c):E},c.scaleExtent=function(a){return arguments.length?(L=null==a?Fd:a.map(Number),c):L},c.x=function(a){return arguments.length?(v=a,O=a.copy(),c):v},c.y=function(a){return arguments.length?(z=a,I=a.copy(),c):z},d3.rebind(c,C,"on")};var cb,Fd=[0,Infinity];d3.layout={};d3.layout.bundle=function(){return function(c){for(var a=
[],e=-1,f=c.length;++e<f;)a.push(ce(c[e]));return a}};d3.layout.chord=function(){function c(){var c={},e=[],q=d3.range(n),w=[],t,E,B,L,C;f=[];h=[];t=0;for(L=-1;++L<n;){E=0;for(C=-1;++C<n;)E+=j[L][C];e.push(E);w.push(d3.range(n));t+=E}l&&q.sort(function(c,a){return l(e[c],e[a])});s&&w.forEach(function(c,a){c.sort(function(c,e){return s(j[a][c],j[a][e])})});t=(2*Math.PI-p*n)/t;E=0;for(L=-1;++L<n;){B=E;for(C=-1;++C<n;){var O=q[L],v=w[O][C],I=j[O][v],z=E,D=E+=I*t;c[O+"-"+v]={index:O,subindex:v,startAngle:z,
endAngle:D,value:I}}h[O]={index:O,startAngle:B,endAngle:E,value:(E-B)/t};E+=p}for(L=-1;++L<n;)for(C=L-1;++C<n;)q=c[L+"-"+C],w=c[C+"-"+L],(q.value||w.value)&&f.push(q.value<w.value?{source:w,target:q}:{source:q,target:w});u&&a()}function a(){f.sort(function(c,a){return u((c.source.value+c.target.value)/2,(a.source.value+a.target.value)/2)})}var e={},f,h,j,n,p=0,l,s,u;return e.matrix=function(c){return arguments.length?(n=(j=c)&&j.length,f=h=null,e):j},e.padding=function(c){return arguments.length?
(p=c,f=h=null,e):p},e.sortGroups=function(c){return arguments.length?(l=c,f=h=null,e):l},e.sortSubgroups=function(c){return arguments.length?(s=c,f=null,e):s},e.sortChords=function(c){return arguments.length?(u=c,f&&a(),e):u},e.chords=function(){return f||c(),f},e.groups=function(){return h||c(),h},e};d3.layout.force=function(){function c(c){return function(a,e,f,h){if(a.point!==c){var f=a.cx-c.x,k=a.cy-c.y,j=1/Math.sqrt(f*f+k*k);if((h-e)*j<E)return e=a.charge*j*j,c.px-=f*e,c.py-=k*e,!0;a.point&&
isFinite(j)&&(e=a.pointCharge*j*j,c.px-=f*e,c.py-=k*e)}return!a.charge}}function a(c){c.px=d3.event.x;c.py=d3.event.y;f.resume()}var f={},h=d3.dispatch("start","tick","end"),j=[1,1],n,p,A=0.9,s=he,u=ie,w=-30,t=0.1,E=0.8,B=[],L=[],C,O,v;return f.tick=function(){if(0.0050>(p*=0.99))return h.end({type:"end",alpha:p=0}),!0;var a=B.length,e=L.length,f,k,n,q,l,s,u;for(f=0;f<e;++f)if(k=L[f],n=k.source,q=k.target,s=q.x-n.x,u=q.y-n.y,l=s*s+u*u)l=p*O[f]*((l=Math.sqrt(l))-C[f])/l,s*=l,u*=l,q.x-=s*(l=n.weight/
(q.weight+n.weight)),q.y-=u*l,n.x+=s*(l=1-l),n.y+=u*l;if(l=p*t)if(s=j[0]/2,u=j[1]/2,f=-1,l)for(;++f<a;)k=B[f],k.x+=(s-k.x)*l,k.y+=(u-k.y)*l;if(w){cd(e=d3.geom.quadtree(B),p,v);for(f=-1;++f<a;)(k=B[f]).fixed||e.visit(c(k))}for(f=-1;++f<a;)k=B[f],k.fixed?(k.x=k.px,k.y=k.py):(k.x-=(k.px-(k.px=k.x))*A,k.y-=(k.py-(k.py=k.y))*A);h.tick({type:"tick",alpha:p})},f.nodes=function(c){return arguments.length?(B=c,f):B},f.links=function(c){return arguments.length?(L=c,f):L},f.size=function(c){return arguments.length?
(j=c,f):j},f.linkDistance=function(c){return arguments.length?(s=l(c),f):s},f.distance=f.linkDistance,f.linkStrength=function(c){return arguments.length?(u=l(c),f):u},f.friction=function(c){return arguments.length?(A=c,f):A},f.charge=function(c){return arguments.length?(w="function"==typeof c?c:+c,f):w},f.gravity=function(c){return arguments.length?(t=c,f):t},f.theta=function(c){return arguments.length?(E=c,f):E},f.alpha=function(c){return arguments.length?(p?0<c?p=c:p=0:0<c&&(h.start({type:"start",
alpha:p=c}),d3.timer(f.tick)),f):p},f.start=function(){function c(f,j){var n;if(!A){A=[];for(e=0;e<h;++e)A[e]=[];for(e=0;e<k;++e)n=L[e],A[n.source.index].push(n.target),A[n.target.index].push(n.source)}n=A[a];for(var q=-1,p=n.length,l;++q<p;)if(!isNaN(l=n[q][f]))return l;return Math.random()*j}var a,e,h=B.length,k=L.length,n=j[0],p=j[1],A,l;for(a=0;a<h;++a)(l=B[a]).index=a,l.weight=0;C=[];O=[];for(a=0;a<k;++a)l=L[a],"number"==typeof l.source&&(l.source=B[l.source]),"number"==typeof l.target&&(l.target=
B[l.target]),C[a]=s.call(this,l,a),O[a]=u.call(this,l,a),++l.source.weight,++l.target.weight;for(a=0;a<h;++a)l=B[a],isNaN(l.x)&&(l.x=c("x",n)),isNaN(l.y)&&(l.y=c("y",p)),isNaN(l.px)&&(l.px=l.x),isNaN(l.py)&&(l.py=l.y);v=[];if("function"==typeof w)for(a=0;a<h;++a)v[a]=+w.call(this,B[a],a);else for(a=0;a<h;++a)v[a]=w;return f.resume()},f.resume=function(){return f.alpha(0.1)},f.stop=function(){return f.alpha(0)},f.drag=function(){n||(n=d3.behavior.drag().origin(e).on("dragstart",de).on("drag",a).on("dragend",
ee));this.on("mouseover.force",fe).on("mouseout.force",ge).call(n)},d3.rebind(f,h,"on")};d3.layout.partition=function(){function c(a,e,f,h){var k=a.children;a.x=e;a.y=a.depth*h;a.dx=f;a.dy=h;if(k&&(n=k.length))for(var j=-1,n,q,f=a.value?f/a.value:0;++j<n;)c(q=k[j],e,a=q.value*f,h),e+=a}function a(c){var c=c.children,e=0;if(c&&(h=c.length))for(var f=-1,h;++f<h;)e=Math.max(e,a(c[f]));return 1+e}function e(j,n){var q=f.call(this,j,n);return c(q[0],0,h[0],h[1]/a(q[0])),q}var f=d3.layout.hierarchy(),h=
[1,1];return e.size=function(c){return arguments.length?(h=c,e):h},db(e,f)};d3.layout.pie=function(){function c(j,n){var p=j.map(function(e,f){return+a.call(c,e,f)}),l=+("function"==typeof f?f.apply(this,arguments):f),s=(("function"==typeof h?h.apply(this,arguments):h)-f)/d3.sum(p),u=d3.range(j.length);null!=e&&u.sort(e===Gd?function(c,a){return p[a]-p[c]}:function(c,a){return e(j[c],j[a])});var w=[];return u.forEach(function(c){var a;w[c]={data:j[c],value:a=p[c],startAngle:l,endAngle:l+=a*s}}),w}
var a=Number,e=Gd,f=0,h=2*Math.PI;return c.value=function(e){return arguments.length?(a=e,c):a},c.sort=function(a){return arguments.length?(e=a,c):e},c.startAngle=function(a){return arguments.length?(f=a,c):f},c.endAngle=function(a){return arguments.length?(h=a,c):h},c};var Gd={};d3.layout.stack=function(){function c(e,l){var s=e.map(function(e,f){return a.call(c,e,f)}),u=s.map(function(a){return a.map(function(a,e){return[n.call(c,a,e),p.call(c,a,e)]})}),w=f.call(c,u,l),s=d3.permute(s,w),u=d3.permute(u,
w),w=h.call(c,u,l),t=s.length,E=s[0].length,B,L,C;for(L=0;L<E;++L){j.call(c,s[0][L],C=w[L],u[0][L][1]);for(B=1;B<t;++B)j.call(c,s[B][L],C+=u[B-1][L][1],u[B][L][1])}return e}var a=e,f=Wb,h=Xb,j=le,n=je,p=ke;return c.values=function(e){return arguments.length?(a=e,c):a},c.order=function(a){return arguments.length?(f="function"==typeof a?a:bf.get(a)||Wb,c):f},c.offset=function(a){return arguments.length?(h="function"==typeof a?a:cf.get(a)||Xb,c):h},c.x=function(a){return arguments.length?(n=a,c):n},
c.y=function(a){return arguments.length?(p=a,c):p},c.out=function(a){return arguments.length?(j=a,c):j},c};var bf=d3.map({"inside-out":function(c){for(var a=c.length,e,f=c.map(me),h=c.map(ne),j=d3.range(a).sort(function(c,a){return f[c]-f[a]}),n=0,p=0,l=[],s=[],c=0;c<a;++c)e=j[c],n<p?(n+=h[e],l.push(e)):(p+=h[e],s.push(e));return s.reverse().concat(l)},reverse:function(c){return d3.range(c.length).reverse()},"default":Wb}),cf=d3.map({silhouette:function(c){var a=c.length,e=c[0].length,f=[],h=0,j,
n,p,l=[];for(n=0;n<e;++n){for(p=j=0;j<a;j++)p+=c[j][n][1];p>h&&(h=p);f.push(p)}for(n=0;n<e;++n)l[n]=(h-f[n])/2;return l},wiggle:function(c){var a=c.length,e=c[0],f=e.length,h,j,n,p,l,s,u,w,t,E=[];E[0]=w=t=0;for(j=1;j<f;++j){for(p=h=0;h<a;++h)p+=c[h][j][1];l=h=0;for(u=e[j][0]-e[j-1][0];h<a;++h){n=0;for(s=(c[h][j][1]-c[h][j-1][1])/(2*u);n<h;++n)s+=(c[n][j][1]-c[n][j-1][1])/u;l+=s*c[h][j][1]}E[j]=w-=p?l/p*u:0;w<t&&(t=w)}for(j=0;j<f;++j)E[j]-=t;return E},expand:function(c){var a=c.length,e=c[0].length,
f=1/a,h,j,n,p=[];for(j=0;j<e;++j){for(n=h=0;h<a;h++)n+=c[h][j][1];if(n)for(h=0;h<a;h++)c[h][j][1]/=n;else for(h=0;h<a;h++)c[h][j][1]=f}for(j=0;j<e;++j)p[j]=0;return p},zero:Xb});d3.layout.histogram=function(){function c(c,j){for(var n=[],p=c.map(e,this),l=f.call(this,p,j),s=h.call(this,l,p,j),u,j=-1,w=p.length,t=s.length-1,E=a?1:1/w,B;++j<t;)u=n[j]=[],u.dx=s[j+1]-(u.x=s[j]),u.y=0;if(0<t)for(j=-1;++j<w;)B=p[j],B>=l[0]&&B<=l[1]&&(u=n[d3.bisect(s,B,1,t)-1],u.y+=E,u.push(c[j]));return n}var a=!0,e=Number,
f=qe,h=pe;return c.value=function(a){return arguments.length?(e=a,c):e},c.range=function(a){return arguments.length?(f=l(a),c):f},c.bins=function(a){return arguments.length?(h="number"==typeof a?function(c){return dd(c,a)}:l(a),c):h},c.frequency=function(e){return arguments.length?(a=!!e,c):a},c};d3.layout.hierarchy=function(){function c(a,k,n){var p=h.call(e,a,k),l=Yb?a:{data:a};l.depth=k;n.push(l);if(p&&(s=p.length)){for(var a=-1,s,u=l.children=[],w=0,k=k+1,t;++a<s;)t=c(p[a],k,n),t.parent=l,u.push(t),
w+=t.value;f&&u.sort(f);j&&(l.value=w)}else j&&(l.value=+j.call(e,a,k)||0);return l}function a(c,f){var h=c.children,n=0;if(h&&(l=h.length))for(var p=-1,l,s=f+1;++p<l;)n+=a(h[p],s);else j&&(n=+j.call(e,Yb?c:c.data,f)||0);return j&&(c.value=n),n}function e(a){var f=[];return c(a,0,f),f}var f=ue,h=se,j=te;return e.sort=function(c){return arguments.length?(f=c,e):f},e.children=function(c){return arguments.length?(h=c,e):h},e.value=function(c){return arguments.length?(j=c,e):j},e.revalue=function(c){return a(c,
0),c},e};var Yb=!1;d3.layout.pack=function(){function c(c,h){var j=a.call(this,c,h),n=j[0];n.x=0;n.y=0;La(n,function(c){c.r=Math.sqrt(c.value)});La(n,fd);var p=f[0],l=f[1],s=Math.max(2*n.r/p,2*n.r/l);if(0<e){var u=e*s/2;La(n,function(c){c.r+=u});La(n,fd);La(n,function(c){c.r-=u});s=Math.max(2*n.r/p,2*n.r/l)}return hd(n,p/2,l/2,1/s),j}var a=d3.layout.hierarchy().sort(ve),e=0,f=[1,1];return c.size=function(a){return arguments.length?(f=a,c):f},c.padding=function(a){return arguments.length?(e=+a,c):
e},db(c,a)};d3.layout.cluster=function(){function c(c,h){var j=a.call(this,c,h),n=j[0],p,l=0;La(n,function(c){var a=c.children;a&&a.length?(c.x=a.reduce(function(c,a){return c+a.x},0)/a.length,c.y=1+d3.max(a,function(c){return c.y})):(c.x=p?l+=e(c,p):0,c.y=0,p=c)});var s=id(n),u=jd(n),w=s.x-e(s,u)/2,t=u.x+e(u,s)/2;return La(n,function(c){c.x=(c.x-w)/(t-w)*f[0];c.y=(1-(n.y?c.y/n.y:1))*f[1]}),j}var a=d3.layout.hierarchy().sort(null).value(null),e=kd,f=[1,1];return c.separation=function(a){return arguments.length?
(e=a,c):e},c.size=function(a){return arguments.length?(f=a,c):f},db(c,a)};d3.layout.tree=function(){function c(c,h){function j(c,a){var f=c.children,h=c._tree;if(f&&(k=f.length)){for(var k,n=f[0],p,l=n,s,u=-1;++u<k;){s=f[u];j(s,p);var A=s;if(p){for(var w=A,t=A,E=A.parent.children[0],B=w._tree.mod,L=t._tree.mod,M=p._tree.mod,C=E._tree.mod,W=void 0;p=ac(p),w=$b(w),p&&w;){E=$b(E);t=ac(t);t._tree.ancestor=A;W=p._tree.prelim+M-w._tree.prelim-B+e(p,w);if(0<W){var O=p._tree.ancestor.parent==A.parent?p._tree.ancestor:
l,v=A,X=W,O=O._tree,v=v._tree,I=X/(v.number-O.number);O.change+=I;v.change-=I;v.shift+=X;v.prelim+=X;v.mod+=X;B+=W;L+=W}M+=p._tree.mod;B+=w._tree.mod;C+=E._tree.mod;L+=t._tree.mod}p&&!ac(t)&&(t._tree.thread=p,t._tree.mod+=M-L);w&&!$b(E)&&(E._tree.thread=w,E._tree.mod+=B-C,l=A)}p=s}k=f=0;u=c.children;for(A=u.length;0<=--A;)l=u[A]._tree,l.prelim+=f,l.mod+=f,f+=l.shift+(k+=l.change);n=0.5*(n._tree.prelim+s._tree.prelim);a?(h.prelim=a._tree.prelim+e(c,a),h.mod=h.prelim-n):h.prelim=n}else a&&(h.prelim=
a._tree.prelim+e(c,a))}function n(c,a){c.x=c._tree.prelim+a;var e=c.children;if(e&&(h=e.length))for(var f=-1,h,a=a+c._tree.mod;++f<h;)n(e[f],a)}var p=a.call(this,c,h),l=p[0];La(l,function(c,a){c._tree={ancestor:c,prelim:0,mod:0,change:0,shift:0,number:a?a._tree.number+1:0}});j(l);n(l,-l._tree.prelim);var s=vb(l,ze),u=vb(l,ye),w=vb(l,Ae),t=s.x-e(s,u)/2,E=u.x+e(u,s)/2,B=w.depth||1;return La(l,function(c){c.x=(c.x-t)/(E-t)*f[0];c.y=c.depth/B*f[1];delete c._tree}),p}var a=d3.layout.hierarchy().sort(null).value(null),
e=kd,f=[1,1];return c.separation=function(a){return arguments.length?(e=a,c):e},c.size=function(a){return arguments.length?(f=a,c):f},db(c,a)};d3.layout.treemap=function(){function c(c,a){for(var e=-1,f=c.length,h,k;++e<f;)k=(h=c[e]).value*(0>a?0:a),h.area=isNaN(k)||0>=k?0:k}function a(e){var h=e.children;if(h&&h.length){var j=s(e),n=[],p=h.slice(),q=Infinity,l,u=Math.min(j.dx,j.dy);c(p,j.dx*j.dy/e.value);for(n.area=0;0<(e=p.length);){n.push(e=p[e-1]);n.area+=e.area;for(var e=u,A=n.area,w=void 0,
E=0,B=Infinity,L=-1,C=n.length;++L<C;)if(w=n[L].area)w<B&&(B=w),w>E&&(E=w);(l=(A*=A,e*=e,A?Math.max(e*E*t/A,A/(e*B*t)):Infinity))<=q?(p.pop(),q=l):(n.area-=n.pop().area,f(n,u,j,!1),u=Math.min(j.dx,j.dy),n.length=n.area=0,q=Infinity)}n.length&&(f(n,u,j,!0),n.length=n.area=0);h.forEach(a)}}function e(a){var h=a.children;if(h&&h.length){var k=s(a),j=h.slice(),n=[];c(j,k.dx*k.dy/a.value);for(n.area=0;a=j.pop();)n.push(a),n.area+=a.area,null!=a.z&&(f(n,a.z?k.dx:k.dy,k,!j.length),n.length=n.area=0);h.forEach(e)}}
function f(c,a,e,h){var k=-1,j=c.length,p=e.x,q=e.y,l=a?n(c.area/a):0,s;if(a==e.dx){if(h||l>e.dy)l=e.dy;for(;++k<j;)s=c[k],s.x=p,s.y=q,s.dy=l,p+=s.dx=Math.min(e.x+e.dx-p,l?n(s.area/l):0);s.z=!0;s.dx+=e.x+e.dx-p;e.y+=l;e.dy-=l}else{if(h||l>e.dx)l=e.dx;for(;++k<j;)s=c[k],s.x=p,s.y=q,s.dx=l,q+=s.dy=Math.min(e.y+e.dy-q,l?n(s.area/l):0);s.z=!1;s.dy+=e.y+e.dy-q;e.x+=l;e.dx-=l}}function h(f){var f=w||j(f),n=f[0];return n.x=0,n.y=0,n.dx=p[0],n.dy=p[1],w&&j.revalue(n),c([n],n.dx*n.dy/n.value),(w?e:a)(n),u&&
(w=f),f}var j=d3.layout.hierarchy(),n=Math.round,p=[1,1],l=null,s=bc,u=!1,w,t=0.5*(1+Math.sqrt(5));return h.size=function(c){return arguments.length?(p=c,h):p},h.padding=function(c){function a(e){var f=c.call(h,e,e.depth);return null==f?bc(e):ld(e,"number"==typeof f?[f,f,f,f]:f)}function e(a){return ld(a,c)}if(!arguments.length)return l;var f;return s=null==(l=c)?bc:"function"===(f=typeof c)?a:"number"===f?(c=[c,c,c,c],e):e,h},h.round=function(c){return arguments.length?(n=c?Math.round:Number,h):
n!=Number},h.sticky=function(c){return arguments.length?(u=c,w=null,h):u},h.ratio=function(c){return arguments.length?(t=c,h):t},db(h,j)};d3.csv=md(",","text/csv");d3.tsv=md("\t","text/tab-separated-values");d3.geo={};var ba=Math.PI/180;d3.geo.azimuthal=function(){function c(c){var e=c[0]*ba-j,n=c[1]*ba,c=Math.cos(e),e=Math.sin(e),q=Math.cos(n),n=Math.sin(n),s="orthographic"!==a?l*n+p*q*c:null,u,s="stereographic"===a?1/(1+s):"gnomonic"===a?1/s:"equidistant"===a?(u=Math.acos(s),u?u/Math.sin(u):0):
"equalarea"===a?Math.sqrt(2/(1+s)):1;return[f*s*q*e+h[0],f*s*(l*q*c-p*n)+h[1]]}var a="orthographic",e,f=200,h=[480,250],j,n,p,l;return c.invert=function(c){var e=(c[0]-h[0])/f,c=(c[1]-h[1])/f,n=Math.sqrt(e*e+c*c),q="stereographic"===a?2*Math.atan(n):"gnomonic"===a?Math.atan(n):"equidistant"===a?n:"equalarea"===a?2*Math.asin(0.5*n):Math.asin(n),s=Math.sin(q),q=Math.cos(q);return[(j+Math.atan2(e*s,n*p*q+c*l*s))/ba,Math.asin(q*l-(n?c*s*p/n:0))/ba]},c.mode=function(e){return arguments.length?(a=e+"",
c):a},c.origin=function(a){return arguments.length?(e=a,j=e[0]*ba,n=e[1]*ba,p=Math.cos(n),l=Math.sin(n),c):e},c.scale=function(a){return arguments.length?(f=+a,c):f},c.translate=function(a){return arguments.length?(h=[+a[0],+a[1]],c):h},c.origin([0,0])};d3.geo.albers=function(){function c(c){var a=p*(ba*c[0]-n),c=Math.sqrt(l-2*p*Math.sin(ba*c[1]))/p;return[h*c*Math.sin(a)+j[0],h*(c*Math.cos(a)-s)+j[1]]}function a(){var h=ba*f[0],k=ba*f[1],j=ba*e[1],u=Math.sin(h),h=Math.cos(h);return n=ba*e[0],p=0.5*
(u+Math.sin(k)),l=h*h+2*p*u,s=Math.sqrt(l-2*p*Math.sin(j))/p,c}var e=[-98,38],f=[29.5,45.5],h=1E3,j=[480,250],n,p,l,s;return c.invert=function(c){var a=(c[0]-j[0])/h,e=s+(c[1]-j[1])/h,c=Math.atan2(a,e),a=Math.sqrt(a*a+e*e);return[(n+c/p)/ba,Math.asin((l-a*a*p*p)/(2*p))/ba]},c.origin=function(c){return arguments.length?(e=[+c[0],+c[1]],a()):e},c.parallels=function(c){return arguments.length?(f=[+c[0],+c[1]],a()):f},c.scale=function(a){return arguments.length?(h=+a,c):h},c.translate=function(a){return arguments.length?
(j=[+a[0],+a[1]],c):j},a()};d3.geo.albersUsa=function(){function c(c){var j=c[0],n=c[1];return(50<n?e:-140>j?f:21>n?h:a)(c)}var a=d3.geo.albers(),e=d3.geo.albers().origin([-160,60]).parallels([55,65]),f=d3.geo.albers().origin([-160,20]).parallels([8,18]),h=d3.geo.albers().origin([-60,10]).parallels([8,18]);return c.scale=function(j){return arguments.length?(a.scale(j),e.scale(0.6*j),f.scale(j),h.scale(1.5*j),c.translate(a.translate())):a.scale()},c.translate=function(j){if(!arguments.length)return a.translate();
var n=a.scale()/1E3,p=j[0],l=j[1];return a.translate(j),e.translate([p-400*n,l+170*n]),f.translate([p-190*n,l+200*n]),h.translate([p+580*n,l+430*n]),c},c.scale(a.scale())};d3.geo.bonne=function(){function c(c){var p=c[0]*ba-f,l=c[1]*ba-h;j?(c=n+j-l,l=p*Math.cos(l)/c,p=c*Math.sin(l),l=c*Math.cos(l)-n):(p*=Math.cos(l),l*=-1);return[a*p+e[0],a*l+e[1]]}var a=200,e=[480,250],f,h,j,n;return c.invert=function(c){var h=(c[0]-e[0])/a,c=(c[1]-e[1])/a;if(j)var p=n+c,l=Math.sqrt(h*h+p*p),c=n+j-l,h=f+l*Math.atan2(h,
p)/Math.cos(c);else c*=-1,h/=Math.cos(c);return[h/ba,c/ba]},c.parallel=function(a){return arguments.length?(n=1/Math.tan(j=a*ba),c):j/ba},c.origin=function(a){return arguments.length?(f=a[0]*ba,h=a[1]*ba,c):[f/ba,h/ba]},c.scale=function(e){return arguments.length?(a=+e,c):a},c.translate=function(a){return arguments.length?(e=[+a[0],+a[1]],c):e},c.origin([0,0]).parallel(45)};d3.geo.equirectangular=function(){function c(c){return[a*(c[0]/360)+e[0],a*(-c[1]/360)+e[1]]}var a=500,e=[480,250];return c.invert=
function(c){return[360*((c[0]-e[0])/a),-360*((c[1]-e[1])/a)]},c.scale=function(e){return arguments.length?(a=+e,c):a},c.translate=function(a){return arguments.length?(e=[+a[0],+a[1]],c):e},c};d3.geo.mercator=function(){function c(c){var f=c[0]/360,c=-(Math.log(Math.tan(Math.PI/4+c[1]*ba/2))/ba)/360;return[a*f+e[0],a*Math.max(-0.5,Math.min(0.5,c))+e[1]]}var a=500,e=[480,250];return c.invert=function(c){return[360*((c[0]-e[0])/a),2*Math.atan(Math.exp(-360*((c[1]-e[1])/a)*ba))/ba-90]},c.scale=function(e){return arguments.length?
(a=+e,c):a},c.translate=function(a){return arguments.length?(e=[+a[0],+a[1]],c):e},c};d3.geo.path=function(){function c(c,a){"function"==typeof h&&(j=cc(h.apply(this,arguments)));l(c);var e=p.length?p.join(""):null;return p=[],e}function a(c){return n(c).join(",")}function e(c){for(var a=Math.abs(d3.geom.polygon(c[0].map(n)).area()),f=0,h=c.length;++f<h;)a-=Math.abs(d3.geom.polygon(c[f].map(n)).area());return a}function f(c){for(var a=d3.geom.polygon(c[0].map(n)),e=a.area(),a=a.centroid(0>e?(e*=-1,
1):-1),h=a[0],j=a[1],k=e,p=0,q=c.length;++p<q;)a=d3.geom.polygon(c[p].map(n)),e=a.area(),a=a.centroid(0>e?(e*=-1,1):-1),h-=a[0],j-=a[1],k-=e;return[h,j,6*k]}var h=4.5,j=cc(h),n=d3.geo.albersUsa(),p=[],l=wb({FeatureCollection:function(c){for(var c=c.features,a=-1,e=c.length;++a<e;)p.push(l(c[a].geometry))},Feature:function(c){l(c.geometry)},Point:function(c){p.push("M",a(c.coordinates),j)},MultiPoint:function(c){for(var c=c.coordinates,e=-1,f=c.length;++e<f;)p.push("M",a(c[e]),j)},LineString:function(c){var c=
c.coordinates,e=-1,f=c.length;for(p.push("M");++e<f;)p.push(a(c[e]),"L");p.pop()},MultiLineString:function(c){for(var c=c.coordinates,e=-1,f=c.length,h,j,n;++e<f;){h=c[e];j=-1;n=h.length;for(p.push("M");++j<n;)p.push(a(h[j]),"L");p.pop()}},Polygon:function(c){for(var c=c.coordinates,e=-1,f=c.length,h,j,n;++e<f;)if(h=c[e],j=-1,0<(n=h.length-1)){for(p.push("M");++j<n;)p.push(a(h[j]),"L");p[p.length-1]="Z"}},MultiPolygon:function(c){for(var c=c.coordinates,e=-1,f=c.length,h,j,n,q,l,s;++e<f;){h=c[e];
j=-1;for(n=h.length;++j<n;)if(q=h[j],l=-1,0<(s=q.length-1)){for(p.push("M");++l<s;)p.push(a(q[l]),"L");p[p.length-1]="Z"}}},GeometryCollection:function(c){for(var c=c.geometries,a=-1,e=c.length;++a<e;)p.push(l(c[a]))}}),s=c.area=wb({FeatureCollection:function(c){for(var a=0,c=c.features,e=-1,f=c.length;++e<f;)a+=s(c[e]);return a},Feature:function(c){return s(c.geometry)},Polygon:function(c){return e(c.coordinates)},MultiPolygon:function(c){for(var a=0,c=c.coordinates,f=-1,h=c.length;++f<h;)a+=e(c[f]);
return a},GeometryCollection:function(c){for(var a=0,c=c.geometries,e=-1,f=c.length;++e<f;)a+=s(c[e]);return a}},0),u=c.centroid=wb({Feature:function(c){return u(c.geometry)},Polygon:function(c){c=f(c.coordinates);return[c[0]/c[2],c[1]/c[2]]},MultiPolygon:function(c){for(var c=c.coordinates,a,e=0,h=0,j=0,k=-1,n=c.length;++k<n;)a=f(c[k]),e+=a[0],h+=a[1],j+=a[2];return[e/j,h/j]}});return c.projection=function(a){return n=a,c},c.pointRadius=function(a){return"function"==typeof a?h=a:(h=+a,j=cc(h)),c},
c};d3.geo.bounds=function(c){var a=Infinity,e=Infinity,f=-Infinity,h=-Infinity;return xb(c,function(c,j){c<a&&(a=c);c>f&&(f=c);j<e&&(e=j);j>h&&(h=j)}),[[a,e],[f,h]]};var nd={Feature:function(c,a){xb(c.geometry,a)},FeatureCollection:function(c,a){for(var e=c.features,f=0,h=e.length;f<h;f++)xb(e[f].geometry,a)},GeometryCollection:function(c,a){for(var e=c.geometries,f=0,h=e.length;f<h;f++)xb(e[f],a)},LineString:od,MultiLineString:function(c,a){for(var e=c.coordinates,f=0,h=e.length;f<h;f++)for(var j=
e[f],n=0,p=j.length;n<p;n++)a.apply(null,j[n])},MultiPoint:od,MultiPolygon:function(c,a){for(var e=c.coordinates,f=0,h=e.length;f<h;f++)for(var j=e[f][0],n=0,p=j.length;n<p;n++)a.apply(null,j[n])},Point:function(c,a){a.apply(null,c.coordinates)},Polygon:function(c,a){for(var e=c.coordinates[0],f=0,h=e.length;f<h;f++)a.apply(null,e[f])}};d3.geo.circle=function(){function c(){}function a(c){return p.distance(c)<n}function f(c){for(var a=-1,e=c.length,h=[],j,k,q,l,s;++a<e;)s=p.distance(q=c[a]),s<n?(k&&
h.push(qd(k,q)((l-n)/(l-s))),h.push(q),j=k=null):(k=q,!j&&h.length&&(h.push(qd(h[h.length-1],k)((n-l)/(s-l))),j=k)),l=s;j=c[0];(k=h[0])&&q[0]===j[0]&&q[1]===j[1]&&(q[0]!==k[0]||q[1]!==k[1])&&h.push(k);c=0;k=(a=h.length)?[h[0]]:h;for(l=p.source();++c<a;){q=p.source(h[c-1])(h[c]).coordinates;e=0;for(j=q.length;++e<j;)k.push(q[e])}return p.source(l),k}var h=[0,0],j=89.99,n=j*ba,p=d3.geo.greatArc().source(h).target(e);c.clip=function(c){return"function"==typeof h&&p.source(h.apply(this,arguments)),l(c)||
null};var l=wb({FeatureCollection:function(c){var a=c.features.map(l).filter(e);return a&&(c=Object.create(c),c.features=a,c)},Feature:function(c){var a=l(c.geometry);return a&&(c=Object.create(c),c.geometry=a,c)},Point:function(c){return a(c.coordinates)&&c},MultiPoint:function(c){var e=c.coordinates.filter(a);return e.length&&{type:c.type,coordinates:e}},LineString:function(c){var a=f(c.coordinates);return a.length&&(c=Object.create(c),c.coordinates=a,c)},MultiLineString:function(c){var a=c.coordinates.map(f).filter(function(c){return c.length});
return a.length&&(c=Object.create(c),c.coordinates=a,c)},Polygon:function(c){var a=c.coordinates.map(f);return a[0].length&&(c=Object.create(c),c.coordinates=a,c)},MultiPolygon:function(c){var a=c.coordinates.map(function(c){return c.map(f)}).filter(function(c){return c[0].length});return a.length&&(c=Object.create(c),c.coordinates=a,c)},GeometryCollection:function(c){var a=c.geometries.map(l).filter(e);return a.length&&(c=Object.create(c),c.geometries=a,c)}});return c.origin=function(a){return arguments.length?
(h=a,"function"!=typeof h&&p.source(h),c):h},c.angle=function(a){return arguments.length?(n=(j=+a)*ba,c):j},d3.rebind(c,p,"precision")};d3.geo.greatArc=function(){function c(){for(var a=c.distance.apply(this,arguments),f=0,a=j/a,k=[e];1>(f+=a);)k.push(n(f));return k.push(h),{type:"LineString",coordinates:k}}var a=Be,e,f=Ce,h,j=6*ba,n=pd();return c.distance=function(){return"function"==typeof a&&n.source(e=a.apply(this,arguments)),"function"==typeof f&&n.target(h=f.apply(this,arguments)),n.distance()},
c.source=function(f){return arguments.length?(a=f,"function"!=typeof a&&n.source(e=a),c):a},c.target=function(a){return arguments.length?(f=a,"function"!=typeof f&&n.target(h=f),c):f},c.precision=function(a){return arguments.length?(j=a*ba,c):j/ba},c};d3.geo.greatCircle=d3.geo.circle;d3.geom={};d3.geom.contour=function(c,a){var e;if(!(e=a))a:{for(var f=e=0;;){if(c(e,f)){e=[e,f];break a}0===e?(e=f+1,f=0):(e-=1,f+=1)}e=void 0}var f=[],h=e[0],j=e[1],n=0,p=0,l=NaN,s=NaN,u=0;do u=0,c(h-1,j-1)&&(u+=1),
c(h,j-1)&&(u+=2),c(h-1,j)&&(u+=4),c(h,j)&&(u+=8),6===u?(n=-1===s?-1:1,p=0):9===u?(n=0,p=1===l?-1:1):(n=df[u],p=ef[u]),n!=l&&p!=s&&(f.push([h,j]),l=n,s=p),h+=n,j+=p;while(e[0]!=h||e[1]!=j);return f};var df=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],ef=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(c){if(3>c.length)return[];var a=c.length,e=a-1,f=[],h=[],j,n=0,p,l,s,u,w,t,E;for(j=1;j<a;++j)c[j][1]<c[n][1]?n=j:c[j][1]==c[n][1]&&(n=c[j][0]<c[n][0]?j:n);for(j=0;j<a;++j)j!==n&&(l=c[j][1]-c[n][1],
p=c[j][0]-c[n][0],f.push({angle:Math.atan2(l,p),index:j}));f.sort(function(c,a){return c.angle-a.angle});E=f[0].angle;t=f[0].index;w=0;for(j=1;j<e;++j)a=f[j].index,E==f[j].angle?(p=c[t][0]-c[n][0],l=c[t][1]-c[n][1],s=c[a][0]-c[n][0],u=c[a][1]-c[n][1],p*p+l*l>=s*s+u*u?f[j].index=-1:(f[w].index=-1,E=f[j].angle,w=j,t=a)):(E=f[j].angle,w=j,t=a);h.push(n);for(a=j=0;2>j;++a)-1!==f[a].index&&(h.push(f[a].index),j++);for(n=h.length;a<e;++a)if(-1!==f[a].index){for(;!De(h[n-2],h[n-1],f[a].index,c);)--n;h[n++]=
f[a].index}e=[];for(j=0;j<n;++j)e.push(c[h[j]]);return e};d3.geom.polygon=function(c){return c.area=function(){for(var a=0,e=c.length,f=c[e-1][0]*c[0][1],h=c[e-1][1]*c[0][0];++a<e;)f+=c[a-1][0]*c[a][1],h+=c[a-1][1]*c[a][0];return 0.5*(h-f)},c.centroid=function(a){var e=-1,f=c.length,h=0,j=0,n,p=c[f-1],l;for(arguments.length||(a=-1/(6*c.area()));++e<f;)n=p,p=c[e],l=n[0]*p[1]-p[0]*n[1],h+=(n[0]+p[0])*l,j+=(n[1]+p[1])*l;return[h*a,j*a]},c.clip=function(a){for(var e,f=-1,h=c.length,j,n,p=c[h-1],l,s,u;++f<
h;){e=a.slice();a.length=0;l=c[f];s=e[(n=e.length)-1];for(j=-1;++j<n;)u=e[j],dc(u,p,l)?(dc(s,p,l)||a.push(rd(s,u,p,l)),a.push(u)):dc(s,p,l)&&a.push(rd(s,u,p,l)),s=u;p=l}return a},c};d3.geom.voronoi=function(c){var a=c.map(function(){return[]});return sd(c,function(c){var e,f,h,j,n,p;1===c.a&&0<=c.b?(e=c.ep.r,f=c.ep.l):(e=c.ep.l,f=c.ep.r);1===c.a?(n=e?e.y:-1E6,h=c.c-c.b*n,p=f?f.y:1E6,j=c.c-c.b*p):(h=e?e.x:-1E6,n=c.c-c.a*h,j=f?f.x:1E6,p=c.c-c.a*j);e=[h,n];j=[j,p];a[c.region.l.index].push(e,j);a[c.region.r.index].push(e,
j)}),a.map(function(a,e){var f=c[e][0],h=c[e][1];return a.forEach(function(c){c.angle=Math.atan2(c[0]-f,c[1]-h)}),a.sort(function(c,a){return c.angle-a.angle}).filter(function(c,e){return!e||1E-10<c.angle-a[e-1].angle})})};var ec={l:"r",r:"l"};d3.geom.delaunay=function(c){var a=c.map(function(){return[]}),e=[];return sd(c,function(e){a[e.region.l.index].push(c[e.region.r.index])}),a.forEach(function(a,f){var h=c[f],j=h[0],n=h[1];a.forEach(function(c){c.angle=Math.atan2(c[0]-j,c[1]-n)});a.sort(function(c,
a){return c.angle-a.angle});for(var k=0,p=a.length-1;k<p;k++)e.push([h,a[k],a[k+1]])}),e};d3.geom.quadtree=function(c,a,e,f,h){function j(c,a,e,f,h,k){if(!isNaN(a.x)&&!isNaN(a.y))if(c.leaf){var p=c.point;p?0.01>Math.abs(p.x-a.x)+Math.abs(p.y-a.y)?n(c,a,e,f,h,k):(c.point=null,n(c,p,e,f,h,k),n(c,a,e,f,h,k)):c.point=a}else n(c,a,e,f,h,k)}function n(c,a,e,f,h,k){var p=0.5*(e+h),l=0.5*(f+k),q=a.x>=p,s=a.y>=l,u=(s<<1)+q;c.leaf=!1;c=c.nodes[u]||(c.nodes[u]={leaf:!0,nodes:[],point:null});q?e=p:h=p;s?f=l:
k=l;j(c,a,e,f,h,k)}var p,l=-1,s=c.length;s&&isNaN(c[0].x)&&(c=c.map(Ee));if(5>arguments.length)if(3===arguments.length)h=f=e,e=a;else{a=e=Infinity;for(f=h=-Infinity;++l<s;)p=c[l],p.x<a&&(a=p.x),p.y<e&&(e=p.y),p.x>f&&(f=p.x),p.y>h&&(h=p.y);p=f-a;l=h-e;p>l?h=e+p:f=a+l}var u={leaf:!0,nodes:[],point:null};return u.add=function(c){j(u,c,a,e,f,h)},u.visit=function(c){eb(c,u,a,e,f,h)},c.forEach(u.add),u};d3.time={};var va=Date,Gb="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");Va.prototype=
{getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},
setDate:function(){Ma.setUTCDate.apply(this._,arguments)},setDay:function(){Ma.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ma.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ma.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ma.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ma.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ma.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ma.setUTCSeconds.apply(this._,arguments)},
setTime:function(){Ma.setTime.apply(this._,arguments)}};var Ma=Date.prototype,Hd=Gb.map(td),Hb="January February March April May June July August September October November December".split(" "),qc=Hb.map(td);d3.time.format=function(c){function a(f){for(var h=[],j=-1,n=0,k,p;++j<e;)37==c.charCodeAt(j)&&(h.push(c.substring(n,j),(p=Ib[k=c.charAt(++j)])?p(f):k),n=j+1);return h.push(c.substring(n,j)),h.join("")}var e=c.length;return a.parse=function(a){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(yb(e,c,
a,0)!=a.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);a=new va;return a.setFullYear(e.y,e.m,e.d),a.setHours(e.H,e.M,e.S,e.L),a},a.toString=function(){return c},a};var Fa=d3.format("02d"),Id=d3.format("03d"),ff=d3.format("04d"),gf=d3.format("2d"),Jd=zb(Gb),Kd=zb(Hd),Ld=zb(Hb),hf=ud(Hb),Md=zb(qc),jf=ud(qc),Ib={a:function(c){return Hd[c.getDay()]},A:function(c){return Gb[c.getDay()]},b:function(c){return qc[c.getMonth()]},B:function(c){return Hb[c.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),
d:function(c){return Fa(c.getDate())},e:function(c){return gf(c.getDate())},H:function(c){return Fa(c.getHours())},I:function(c){return Fa(c.getHours()%12||12)},j:function(c){return Id(1+d3.time.dayOfYear(c))},L:function(c){return Id(c.getMilliseconds())},m:function(c){return Fa(c.getMonth()+1)},M:function(c){return Fa(c.getMinutes())},p:function(c){return 12<=c.getHours()?"PM":"AM"},S:function(c){return Fa(c.getSeconds())},U:function(c){return Fa(d3.time.sundayOfYear(c))},w:function(c){return c.getDay()},
W:function(c){return Fa(d3.time.mondayOfYear(c))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(c){return Fa(c.getFullYear()%100)},Y:function(c){return ff(c.getFullYear()%1E4)},Z:function(c){var a=c.getTimezoneOffset(),c=0<a?"-":"+",e=~~(Math.abs(a)/60),a=Math.abs(a)%60;return c+Fa(e)+Fa(a)},"%":function(){return"%"}},Fe={a:function(c,a,e){Kd.lastIndex=0;return(c=Kd.exec(a.substring(e)))?e+c[0].length:-1},A:function(c,a,e){Jd.lastIndex=0;return(c=Jd.exec(a.substring(e)))?e+
c[0].length:-1},b:function(c,a,e){Md.lastIndex=0;return(a=Md.exec(a.substring(e)))?(c.m=jf.get(a[0].toLowerCase()),e+a[0].length):-1},B:function(c,a,e){Ld.lastIndex=0;return(a=Ld.exec(a.substring(e)))?(c.m=hf.get(a[0].toLowerCase()),e+a[0].length):-1},c:function(c,a,e){return yb(c,Ib.c.toString(),a,e)},d:vd,e:vd,H:wd,I:wd,L:function(c,a,e){ua.lastIndex=0;return(a=ua.exec(a.substring(e,e+3)))?(c.L=+a[0],e+a[0].length):-1},m:function(c,a,e){ua.lastIndex=0;return(a=ua.exec(a.substring(e,e+2)))?(c.m=
a[0]-1,e+a[0].length):-1},M:function(c,a,e){ua.lastIndex=0;return(a=ua.exec(a.substring(e,e+2)))?(c.M=+a[0],e+a[0].length):-1},p:function(c,a,e){a=kf.get(a.substring(e,e+=2).toLowerCase());return null==a?-1:(c.p=a,e)},S:function(c,a,e){ua.lastIndex=0;return(a=ua.exec(a.substring(e,e+2)))?(c.S=+a[0],e+a[0].length):-1},x:function(c,a,e){return yb(c,Ib.x.toString(),a,e)},X:function(c,a,e){return yb(c,Ib.X.toString(),a,e)},y:function(c,a,e){ua.lastIndex=0;return(a=ua.exec(a.substring(e,e+2)))?(c.y=+a[0]+
(68<+a[0]?1900:2E3),e+a[0].length):-1},Y:function(c,a,e){ua.lastIndex=0;return(a=ua.exec(a.substring(e,e+4)))?(c.y=+a[0],e+a[0].length):-1}},ua=/^\s*\d+/,kf=d3.map({am:0,pm:1});d3.time.format.utc=function(c){function a(c){try{va=Va;var f=new va;return f._=c,e(f)}finally{va=Date}}var e=d3.time.format(c);return a.parse=function(c){try{va=Va;var a=e.parse(c);return a&&a._}finally{va=Date}},a.toString=e.toString,a};var Nd=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?
fc:Nd;fc.parse=function(c){c=new Date(c);return isNaN(c)?null:c};fc.toString=Nd.toString;d3.time.second=Wa(function(c){return new va(1E3*Math.floor(c/1E3))},function(c,a){c.setTime(c.getTime()+1E3*Math.floor(a))},function(c){return c.getSeconds()});d3.time.seconds=d3.time.second.range;d3.time.seconds.utc=d3.time.second.utc.range;d3.time.minute=Wa(function(c){return new va(6E4*Math.floor(c/6E4))},function(c,a){c.setTime(c.getTime()+6E4*Math.floor(a))},function(c){return c.getMinutes()});d3.time.minutes=
d3.time.minute.range;d3.time.minutes.utc=d3.time.minute.utc.range;d3.time.hour=Wa(function(c){var a=c.getTimezoneOffset()/60;return new va(36E5*(Math.floor(c/36E5-a)+a))},function(c,a){c.setTime(c.getTime()+36E5*Math.floor(a))},function(c){return c.getHours()});d3.time.hours=d3.time.hour.range;d3.time.hours.utc=d3.time.hour.utc.range;d3.time.day=Wa(function(c){var a=new va(1970,0);return a.setFullYear(c.getFullYear(),c.getMonth(),c.getDate()),a},function(c,a){c.setDate(c.getDate()+a)},function(c){return c.getDate()-
1});d3.time.days=d3.time.day.range;d3.time.days.utc=d3.time.day.utc.range;d3.time.dayOfYear=function(c){var a=d3.time.year(c);return Math.floor((c-a-6E4*(c.getTimezoneOffset()-a.getTimezoneOffset()))/864E5)};Gb.forEach(function(c,a){var c=c.toLowerCase(),a=7-a,e=d3.time[c]=Wa(function(c){return(c=d3.time.day(c)).setDate(c.getDate()-(c.getDay()+a)%7),c},function(c,a){c.setDate(c.getDate()+7*Math.floor(a))},function(c){var e=d3.time.year(c).getDay();return Math.floor((d3.time.dayOfYear(c)+(e+a)%7)/
7)-(e!==a)});d3.time[c+"s"]=e.range;d3.time[c+"s"].utc=e.utc.range;d3.time[c+"OfYear"]=function(c){var e=d3.time.year(c).getDay();return Math.floor((d3.time.dayOfYear(c)+(e+a)%7)/7)}});d3.time.week=d3.time.sunday;d3.time.weeks=d3.time.sunday.range;d3.time.weeks.utc=d3.time.sunday.utc.range;d3.time.weekOfYear=d3.time.sundayOfYear;d3.time.month=Wa(function(c){return c=d3.time.day(c),c.setDate(1),c},function(c,a){c.setMonth(c.getMonth()+a)},function(c){return c.getMonth()});d3.time.months=d3.time.month.range;
d3.time.months.utc=d3.time.month.utc.range;d3.time.year=Wa(function(c){return c=d3.time.day(c),c.setMonth(0,1),c},function(c,a){c.setFullYear(c.getFullYear()+a)},function(c){return c.getFullYear()});d3.time.years=d3.time.year.range;d3.time.years.utc=d3.time.year.utc.range;var Bb=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],rc=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],
[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],lf=[[d3.time.format("%Y"),function(){return!0}],[d3.time.format("%B"),function(c){return c.getMonth()}],[d3.time.format("%b %d"),function(c){return 1!=c.getDate()}],[d3.time.format("%a %d"),function(c){return c.getDay()&&1!=c.getDate()}],[d3.time.format("%I %p"),function(c){return c.getHours()}],
[d3.time.format("%I:%M"),function(c){return c.getMinutes()}],[d3.time.format(":%S"),function(c){return c.getSeconds()}],[d3.time.format(".%L"),function(c){return c.getMilliseconds()}]],Od=d3.scale.linear(),mf=xd(lf);rc.year=function(c,a){return Od.domain(c.map(Ge)).ticks(a).map(ic)};d3.time.scale=function(){return gc(d3.scale.linear(),rc,mf)};var Pd=rc.map(function(c){return[c[0].utc,c[1]]}),nf=[[d3.time.format.utc("%Y"),function(){return!0}],[d3.time.format.utc("%B"),function(c){return c.getUTCMonth()}],
[d3.time.format.utc("%b %d"),function(c){return 1!=c.getUTCDate()}],[d3.time.format.utc("%a %d"),function(c){return c.getUTCDay()&&1!=c.getUTCDate()}],[d3.time.format.utc("%I %p"),function(c){return c.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(c){return c.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(c){return c.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(c){return c.getUTCMilliseconds()}]],of=xd(nf);Pd.year=function(c,a){return Od.domain(c.map(He)).ticks(a).map(jc)};
d3.time.scale.utc=function(){return gc(d3.scale.linear(),Pd,of)}})();(function(){function f(e){var f=e.source,e=e.target,h;var j=e;if(f===j)h=f;else{h=a(f);for(var j=a(j),l=h.pop(),t=j.pop(),v=null;l===t;)v=l,l=h.pop(),t=j.pop();h=v}for(j=[f];f!==h;)f=f.parent,j.push(f);for(f=j.length;e!==h;)j.splice(f,0,e),e=e.parent;return j}function a(a){for(var e=[],f=a.parent;null!=f;)e.push(a),a=f,f=f.parent;return e.push(a),e}function e(a){a.fixed|=2}function h(a){a!==ga&&(a.fixed&=1)}function j(){l();ga.fixed&=1;ka=ga=null}function l(){ga.px+=d3.event.dx;ga.py+=d3.event.dy;
ka.resume()}function t(a,e,f){var h=0,j=0;a.charge=0;if(!a.leaf)for(var l=a.nodes,v=l.length,z=-1,D;++z<v;)D=l[z],null!=D&&(t(D,e,f),a.charge+=D.charge,h+=D.charge*D.cx,j+=D.charge*D.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),e*=f[a.point.index],a.charge+=a.pointCharge=e,h+=e*a.point.x,j+=e*a.point.y);a.cx=h/a.charge;a.cy=j/a.charge}function D(){return 20}function H(){return 1}function Q(a){return a.x}function z(a){return a.y}function K(a,e,f){a.y0=e;a.y=f}function F(a){for(var e=
1,f=0,h=a[0][1],j,l=a.length;e<l;++e)(j=a[e][1])>h&&(f=e,h=j);return f}function P(a){return a.reduce(S,0)}function S(a,e){return a+e[1]}function aa(a,e){return ea(a,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ea(a,e){for(var f=-1,h=+a[0],j=(a[1]-h)/e,l=[];++f<=e;)l[f]=j*f+h;return l}function R(a){return[d3.min(a),d3.max(a)]}function V(a,e){return a.sort=d3.rebind(a,e.sort),a.children=d3.rebind(a,e.children),a.links=Y,a.value=d3.rebind(a,e.value),a.nodes=function(e){return qa=!0,(a.nodes=a)(e)},
a}function Z(a){return a.children}function fa(a){return a.value}function v(a,e){return e.value-a.value}function Y(a){return d3.merge(a.map(function(a){return(a.children||[]).map(function(e){return{source:a,target:e}})}))}function N(a,e){return a.value-e.value}function U(a,e){var f=a._pack_next;a._pack_next=e;e._pack_prev=a;e._pack_next=f;f._pack_prev=e}function ta(a,e){var f=e.x-a.x,h=e.y-a.y,j=a.r+e.r;return 0.0010<j*j-f*f-h*h}function Pa(a){a._pack_next=a._pack_prev=a}function Qa(a){delete a._pack_next;
delete a._pack_prev}function Da(a){var e=a.children;if(e&&e.length){e.forEach(Da);var f=function(a){h=Math.min(a.x-a.r,h);j=Math.max(a.x+a.r,j);l=Math.min(a.y-a.r,l);t=Math.max(a.y+a.r,t)},h=Infinity,j=-Infinity,l=Infinity,t=-Infinity,v=e.length,z,I,D,C,B;e.forEach(Pa);z=e[0];z.x=-z.r;z.y=0;f(z);if(1<v&&(I=e[1],I.x=I.r,I.y=0,f(I),2<v)){D=e[2];Ja(z,I,D);f(D);U(z,D);z._pack_prev=D;U(D,I);I=z._pack_next;for(var p=3;p<v;p++){Ja(z,I,D=e[p]);var H=0,F=1,G=1;for(C=I._pack_next;C!==I;C=C._pack_next,F++)if(ta(C,
D)){H=1;break}if(1==H)for(B=z._pack_prev;B!==C._pack_prev;B=B._pack_prev,G++)if(ta(B,D)){G<F&&(H=-1,C=B);break}0==H?(U(z,D),I=D,f(D)):(0<H?(I=z,D=C,I._pack_next=D,D._pack_prev=I,I=C):(z=C,D=I,z._pack_next=D,D._pack_prev=z,z=C),p--)}}f=(h+j)/2;C=(l+t)/2;for(p=z=0;p<v;p++)I=e[p],I.x-=f,I.y-=C,z=Math.max(z,I.r+Math.sqrt(I.x*I.x+I.y*I.y));e=(e.forEach(Qa),z);a.r=e}else a.r=Math.sqrt(a.value)}function Na(a,e,f,h){var j=a.children;a.x=e+=h*a.x;a.y=f+=h*a.y;a.r*=h;if(j)for(var a=-1,l=j.length;++a<l;)Na(j[a],
e,f,h)}function Ja(a,e,f){var h=a.r+f.r,j=e.x-a.x,l=e.y-a.y;if(h&&(j||l)){var t=e.r+f.r,e=Math.sqrt(j*j+l*l),v=Math.max(-1,Math.min(1,(h*h+e*e-t*t)/(2*h*e))),t=Math.acos(v),e=v*(h/=e),h=Math.sin(t)*h;f.x=a.x+e*j+h*l;f.y=a.y+e*l-h*j}else f.x=a.x+h,f.y=a.y}function Ea(a){var e=a.children;return e&&e.length?Ea(e[0]):a}function xa(a){var e=a.children,f;return e&&(f=e.length)?xa(e[f-1]):a}function Ia(a,e){return a.parent==e.parent?1:2}function za(a){var e=a.children;return e&&e.length?e[0]:a._tree.thread}
function Ka(a){var e=a.children,f;return e&&(f=e.length)?e[f-1]:a._tree.thread}function Ga(a,e){var f=a.children;if(f&&(j=f.length))for(var h,j,l=-1;++l<j;)0<e(h=Ga(f[l],e),a)&&(a=h);return a}function ca(a,e){return a.x-e.x}function G(a,e){return e.x-a.x}function Aa(a,e){return a.depth-e.depth}function sa(a,e){function f(a,h){var j=a.children;if(j&&(v=j.length))for(var n,l=null,t=-1,v;++t<v;)n=j[t],f(n,l),l=n;e(a,h)}f(a,null)}function ra(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function J(a,e){var f=
a.x+e[3],h=a.y+e[0],j=a.dx-e[1]-e[3],l=a.dy-e[0]-e[2];return 0>j&&(f+=j/2,j=0),0>l&&(h+=l/2,l=0),{x:f,y:h,dx:j,dy:l}}d3.layout={};d3.layout.bundle=function(){return function(a){for(var e=[],h=-1,j=a.length;++h<j;)e.push(f(a[h]));return e}};d3.layout.chord=function(){function a(){var f={},n=[],p=d3.range(t),w=[],F,G,J,K,N;h=[];j=[];F=0;for(K=-1;++K<t;){G=0;for(N=-1;++N<t;)G+=l[K][N];n.push(G);w.push(d3.range(t));F+=G}z&&p.sort(function(a,e){return z(n[a],n[e])});D&&w.forEach(function(a,e){a.sort(function(a,
f){return D(l[e][a],l[e][f])})});F=(2*Math.PI-v*t)/F;G=0;for(K=-1;++K<t;){J=G;for(N=-1;++N<t;){var da=p[K],P=w[da][N],wa=l[da][P],V=G,Q=G+=wa*F;f[da+"-"+P]={index:da,subindex:P,startAngle:V,endAngle:Q,value:wa}}j.push({index:da,startAngle:J,endAngle:G,value:(G-J)/F});G+=v}for(K=-1;++K<t;)for(N=K-1;++N<t;)p=f[K+"-"+N],w=f[N+"-"+K],(p.value||w.value)&&h.push(p.value<w.value?{source:w,target:p}:{source:p,target:w});H&&e()}function e(){h.sort(function(a,e){return H((a.source.value+a.target.value)/2,(e.source.value+
e.target.value)/2)})}var f={},h,j,l,t,v=0,z,D,H;return f.matrix=function(a){return arguments.length?(t=(l=a)&&l.length,h=j=null,f):l},f.padding=function(a){return arguments.length?(v=a,h=j=null,f):v},f.sortGroups=function(a){return arguments.length?(z=a,h=j=null,f):z},f.sortSubgroups=function(a){return arguments.length?(D=a,h=null,f):D},f.sortChords=function(a){return arguments.length?(H=a,h&&e(),f):H},f.chords=function(){return h||a(),h},f.groups=function(){return j||a(),j},f};d3.layout.force=function(){function a(e){return function(a,
f,h,j){if(a.point!==e){var h=a.cx-e.x,n=a.cy-e.y,l=1/Math.sqrt(h*h+n*n);if((j-f)*l<p)return f=a.charge*l*l,e.px-=h*f,e.py-=n*f,!0;a.point&&isFinite(l)&&(f=a.pointCharge*l*l,e.px-=h*f,e.py-=n*f)}return!a.charge}}function f(){var e=J.length,h=N.length,j,p,l,s,u,w,z;for(j=0;j<h;++j)if(p=N[j],l=p.source,s=p.target,w=s.x-l.x,z=s.y-l.y,u=w*w+z*z)u=F*V[j]*((u=Math.sqrt(u))-P[j])/u,w*=u,z*=u,s.x-=w*(u=l.weight/(s.weight+l.weight)),s.y-=z*u,l.x+=w*(u=1-u),l.y+=z*u;if(u=F*B)if(w=v[0]/2,z=v[1]/2,j=-1,u)for(;++j<
e;)p=J[j],p.x+=(w-p.x)*u,p.y+=(z-p.y)*u;if(C){t(h=d3.geom.quadtree(J),F,Q);for(j=-1;++j<e;)(p=J[j]).fixed||h.visit(a(p))}for(j=-1;++j<e;)p=J[j],p.fixed?(p.x=p.px,p.y=p.py):(p.x-=(p.px-(p.px=p.x))*G,p.y-=(p.py-(p.py=p.y))*G);return E.tick({type:"tick",alpha:F}),0.0050>(F*=0.99)}function w(a){e(ga=a);ka=u}var u={},E=d3.dispatch("tick"),v=[1,1],z,F,G=0.9,I=D,K=H,C=-30,B=0.1,p=0.8,J=[],N=[],P,V,Q;return u.on=function(a,e){return E.on(a,e),u},u.nodes=function(a){return arguments.length?(J=a,u):J},u.links=
function(a){return arguments.length?(N=a,u):N},u.size=function(a){return arguments.length?(v=a,u):v},u.linkDistance=function(a){return arguments.length?(I=d3.functor(a),u):I},u.distance=u.linkDistance,u.linkStrength=function(a){return arguments.length?(K=d3.functor(a),u):K},u.friction=function(a){return arguments.length?(G=a,u):G},u.charge=function(a){return arguments.length?(C="function"==typeof a?a:+a,u):C},u.gravity=function(a){return arguments.length?(B=a,u):B},u.theta=function(a){return arguments.length?
(p=a,u):p},u.start=function(){function a(n,p){var s;if(!l){l=[];for(f=0;f<h;++f)l[f]=[];for(f=0;f<j;++f)s=N[f],l[s.source.index].push(s.target),l[s.target.index].push(s.source)}s=l[e];for(var u=-1,t=s.length,w;++u<t;)if(!isNaN(w=s[u][n]))return w;return Math.random()*p}var e,f,h=J.length,j=N.length,n=v[0],p=v[1],l,s;for(e=0;e<h;++e)(s=J[e]).index=e,s.weight=0;P=[];V=[];for(e=0;e<j;++e)s=N[e],"number"==typeof s.source&&(s.source=J[s.source]),"number"==typeof s.target&&(s.target=J[s.target]),P[e]=I.call(this,
s,e),V[e]=K.call(this,s,e),++s.source.weight,++s.target.weight;for(e=0;e<h;++e)s=J[e],isNaN(s.x)&&(s.x=a("x",n)),isNaN(s.y)&&(s.y=a("y",p)),isNaN(s.px)&&(s.px=s.x),isNaN(s.py)&&(s.py=s.y);Q=[];if("function"==typeof C)for(e=0;e<h;++e)Q[e]=+C.call(this,J[e],e);else for(e=0;e<h;++e)Q[e]=C;return u.resume()},u.resume=function(){return F=0.1,d3.timer(f),u},u.stop=function(){return F=0,u},u.drag=function(){z||(z=d3.behavior.drag().on("dragstart",w).on("drag",l).on("dragend",j));this.on("mouseover.force",
e).on("mouseout.force",h).call(z)},u};var ka,ga;d3.layout.partition=function(){function a(e,f,h,j){var l=e.children;e.x=f;e.y=e.depth*j;e.dx=h;e.dy=j;if(l&&(u=l.length))for(var s=-1,u,t,h=e.value?h/e.value:0;++s<u;)a(t=l[s],f,e=t.value*h,j),f+=e}function e(a){var a=a.children,f=0;if(a&&(j=a.length))for(var h=-1,j;++h<j;)f=Math.max(f,e(a[h]));return 1+f}function f(l,t){var w=h.call(this,l,t);return a(w[0],0,j[0],j[1]/e(w[0])),w}var h=d3.layout.hierarchy(),j=[1,1];return f.size=function(a){return arguments.length?
(j=a,f):j},V(f,h)};d3.layout.pie=function(){function a(l,t){var v=l.map(function(f,h){return+e.call(a,f,h)}),z=+("function"==typeof h?h.apply(this,arguments):h),D=(("function"==typeof j?j.apply(this,arguments):j)-h)/d3.sum(v),F=d3.range(l.length);null!=f&&F.sort(f===oa?function(a,e){return v[e]-v[a]}:function(a,e){return f(l[a],l[e])});var C=F.map(function(a){return{data:l[a],value:d=v[a],startAngle:z,endAngle:z+=d*D}});return l.map(function(a,e){return C[F[e]]})}var e=Number,f=oa,h=0,j=2*Math.PI;
return a.value=function(f){return arguments.length?(e=f,a):e},a.sort=function(e){return arguments.length?(f=e,a):f},a.startAngle=function(e){return arguments.length?(h=e,a):h},a.endAngle=function(e){return arguments.length?(j=e,a):j},a};var oa={};d3.layout.stack=function(){function a(v,z){var D=v.map(function(f,h){return e.call(a,f,h)}),F=D.map(function(e){return e.map(function(e,f){return[l.call(a,e,f),t.call(a,e,f)]})}),C=f.call(a,F,z),D=d3.permute(D,C),F=d3.permute(F,C),C=h.call(a,F,z),B=D.length,
p=D[0].length,H,G,J;for(G=0;G<p;++G){j.call(a,D[0][G],J=C[G],F[0][G][1]);for(H=1;H<B;++H)j.call(a,D[H][G],J+=F[H-1][G][1],F[H][G][1])}return v}var e=Object,f=T["default"],h=ma.zero,j=K,l=Q,t=z;return a.values=function(f){return arguments.length?(e=f,a):e},a.order=function(e){return arguments.length?(f="function"==typeof e?e:T[e],a):f},a.offset=function(e){return arguments.length?(h="function"==typeof e?e:ma[e],a):h},a.x=function(e){return arguments.length?(l=e,a):l},a.y=function(e){return arguments.length?
(t=e,a):t},a.out=function(e){return arguments.length?(j=e,a):j},a};var T={"inside-out":function(a){for(var e=a.length,f,h=a.map(F),j=a.map(P),l=d3.range(e).sort(function(a,e){return h[a]-h[e]}),t=0,v=0,z=[],D=[],a=0;a<e;++a)f=l[a],t<v?(t+=j[f],z.push(f)):(v+=j[f],D.push(f));return D.reverse().concat(z)},reverse:function(a){return d3.range(a.length).reverse()},"default":function(a){return d3.range(a.length)}},ma={silhouette:function(a){var e=a.length,f=a[0].length,h=[],j=0,l,t,v,z=[];for(t=0;t<f;++t){for(v=
l=0;l<e;l++)v+=a[l][t][1];v>j&&(j=v);h.push(v)}for(t=0;t<f;++t)z[t]=(j-h[t])/2;return z},wiggle:function(a){var e=a.length,f=a[0],h=f.length,j,l,t,v,z,D,F,C,B,p=[];p[0]=C=B=0;for(l=1;l<h;++l){for(v=j=0;j<e;++j)v+=a[j][l][1];z=j=0;for(F=f[l][0]-f[l-1][0];j<e;++j){t=0;for(D=(a[j][l][1]-a[j][l-1][1])/(2*F);t<j;++t)D+=(a[t][l][1]-a[t][l-1][1])/F;z+=D*a[j][l][1]}p[l]=C-=v?z/v*F:0;C<B&&(B=C)}for(l=0;l<h;++l)p[l]-=B;return p},expand:function(a){var e=a.length,f=a[0].length,h=1/e,j,l,t,v=[];for(l=0;l<f;++l){for(t=
j=0;j<e;j++)t+=a[j][l][1];if(t)for(j=0;j<e;j++)a[j][l][1]/=t;else for(j=0;j<e;j++)a[j][l][1]=h}for(l=0;l<f;++l)v[l]=0;return v},zero:function(a){for(var e=-1,a=a[0].length,f=[];++e<a;)f[e]=0;return f}};d3.layout.histogram=function(){function a(n,l){for(var t=[],v=n.map(f,this),z=h.call(this,v,l),D=j.call(this,z,v,l),C,l=-1,B=v.length,p=D.length-1,F=e?1:1/B,G;++l<p;)C=t[l]=[],C.dx=D[l+1]-(C.x=D[l]),C.y=0;for(l=-1;++l<B;)G=v[l],G>=z[0]&&G<=z[1]&&(C=t[d3.bisect(D,G,1,p)-1],C.y+=F,C.push(n[l]));return t}
var e=!0,f=Number,h=R,j=aa;return a.value=function(e){return arguments.length?(f=e,a):f},a.range=function(e){return arguments.length?(h=d3.functor(e),a):h},a.bins=function(e){return arguments.length?(j="number"==typeof e?function(a){return ea(a,e)}:d3.functor(e),a):j},a.frequency=function(f){return arguments.length?(e=!!f,a):e},a};d3.layout.hierarchy=function(){function a(e,s,t){var v=j.call(f,e,s),z=qa?e:{data:e};z.depth=s;t.push(z);if(v&&(D=v.length)){for(var e=-1,D,B=z.children=[],p=0,s=s+1;++e<
D;)d=a(v[e],s,t),d.parent=z,B.push(d),p+=d.value;h&&B.sort(h);l&&(z.value=p)}else l&&(z.value=+l.call(f,e,s)||0);return z}function e(a,h){var j=a.children,n=0;if(j&&(u=j.length))for(var t=-1,u,v=h+1;++t<u;)n+=e(j[t],v);else l&&(n=+l.call(f,qa?a:a.data,h)||0);return l&&(a.value=n),n}function f(e){var h=[];return a(e,0,h),h}var h=v,j=Z,l=fa;return f.sort=function(a){return arguments.length?(h=a,f):h},f.children=function(a){return arguments.length?(j=a,f):j},f.value=function(a){return arguments.length?
(l=a,f):l},f.revalue=function(a){return e(a,0),a},f};var qa=!1;d3.layout.pack=function(){function a(h,j){var n=e.call(this,h,j),l=n[0];l.x=0;l.y=0;Da(l);var t=f[0],v=f[1],z=1/Math.max(2*l.r/t,2*l.r/v);return Na(l,t/2,v/2,z),n}var e=d3.layout.hierarchy().sort(N),f=[1,1];return a.size=function(e){return arguments.length?(f=e,a):f},V(a,e)};d3.layout.cluster=function(){function a(j,l){var n=e.call(this,j,l),t=n[0],v,z=0;sa(t,function(a){var e=a.children;e&&e.length?(a.x=e.reduce(function(a,e){return a+
e.x},0)/e.length,a.y=1+d3.max(e,function(a){return a.y})):(a.x=v?z+=f(a,v):0,a.y=0,v=a)});var D=Ea(t),C=xa(t),B=D.x-f(D,C)/2,p=C.x+f(C,D)/2;return sa(t,function(a){a.x=(a.x-B)/(p-B)*h[0];a.y=(1-a.y/t.y)*h[1]}),n}var e=d3.layout.hierarchy().sort(null).value(null),f=Ia,h=[1,1];return a.separation=function(e){return arguments.length?(f=e,a):f},a.size=function(e){return arguments.length?(h=e,a):h},V(a,e)};d3.layout.tree=function(){function a(j,l){function n(a,e){var h=a.children,j=a._tree;if(h&&(p=h.length)){for(var p,
l=h[0],s,t=l,u,v=-1;++v<p;){u=h[v];n(u,s);var z=u;if(s){for(var B=z,D=z,C=z.parent.children[0],E=B._tree.mod,F=D._tree.mod,G=s._tree.mod,H=C._tree.mod,I=void 0;s=Ka(s),B=za(B),s&&B;){C=za(C);D=Ka(D);D._tree.ancestor=z;I=s._tree.prelim+G-B._tree.prelim-E+f(s,B);if(0<I){var J=s._tree.ancestor.parent==z.parent?s._tree.ancestor:t,K=z,L=I,J=J._tree,K=K._tree,N=L/(K.number-J.number);J.change+=N;K.change-=N;K.shift+=L;K.prelim+=L;K.mod+=L;E+=I;F+=I}G+=s._tree.mod;E+=B._tree.mod;H+=C._tree.mod;F+=D._tree.mod}s&&
!Ka(D)&&(D._tree.thread=s,D._tree.mod+=G-F);B&&!za(C)&&(C._tree.thread=B,C._tree.mod+=E-H,t=z)}s=u}p=h=0;v=a.children;for(z=v.length;0<=--z;)t=v[z]._tree,t.prelim+=h,t.mod+=h,h+=t.shift+(p+=t.change);l=0.5*(l._tree.prelim+u._tree.prelim);e?(j.prelim=e._tree.prelim+f(a,e),j.mod=j.prelim-l):j.prelim=l}else e&&(j.prelim=e._tree.prelim+f(a,e))}function t(a,e){a.x=a._tree.prelim+e;var f=a.children;if(f&&(j=f.length))for(var h=-1,j,e=e+a._tree.mod;++h<j;)t(f[h],e)}var v=e.call(this,j,l),z=v[0];sa(z,function(a,
e){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}});n(z);t(z,-z._tree.prelim);var D=Ga(z,G),C=Ga(z,ca),B=Ga(z,Aa),p=D.x-f(D,C)/2,F=C.x+f(C,D)/2,H=B.depth||1;return sa(z,function(a){a.x=(a.x-p)/(F-p)*h[0];a.y=a.depth/H*h[1];delete a._tree}),v}var e=d3.layout.hierarchy().sort(null).value(null),f=Ia,h=[1,1];return a.separation=function(e){return arguments.length?(f=e,a):f},a.size=function(e){return arguments.length?(h=e,a):h},V(a,e)};d3.layout.treemap=function(){function a(e,
f){for(var h=-1,j=e.length,l,n;++h<j;)n=(l=e[h]).value*(0>f?0:f),l.area=isNaN(n)||0>=n?0:n}function e(f){var j=f.children;if(j&&j.length){var l=D(f),t=[],v=j.slice(),z=Infinity,w,C=Math.min(l.dx,l.dy);a(v,l.dx*l.dy/f.value);for(t.area=0;0<(f=v.length);){t.push(f=v[f-1]);t.area+=f.area;for(var f=C,E=t.area,F=void 0,G=0,H=Infinity,J=-1,K=t.length;++J<K;)if(F=t[J].area)F<H&&(H=F),F>G&&(G=F);(w=(E*=E,f*=f,E?Math.max(f*G*B/E,E/(f*H*B)):Infinity))<=z?(v.pop(),z=w):(t.area-=t.pop().area,h(t,C,l,!1),C=Math.min(l.dx,
l.dy),t.length=t.area=0,z=Infinity)}t.length&&(h(t,C,l,!0),t.length=t.area=0);j.forEach(e)}}function f(e){var j=e.children;if(j&&j.length){var l=D(e),t=j.slice(),s=[];a(t,l.dx*l.dy/e.value);for(s.area=0;e=t.pop();)s.push(e),s.area+=e.area,null!=e.z&&(h(s,e.z?l.dx:l.dy,l,!t.length),s.length=s.area=0);j.forEach(f)}}function h(a,e,f,j){var l=-1,n=a.length,s=f.x,u=f.y,v=e?t(a.area/e):0,z;if(e==f.dx){if(j||v>f.dy)v=v?f.dy:0;for(;++l<n;)z=a[l],z.x=s,z.y=u,z.dy=v,s+=z.dx=v?t(z.area/v):0;z.z=!0;z.dx+=f.x+
f.dx-s;f.y+=v;f.dy-=v}else{if(j||v>f.dx)v=v?f.dx:0;for(;++l<n;)z=a[l],z.x=s,z.y=u,z.dx=v,u+=z.dy=v?t(z.area/v):0;z.z=!1;z.dy+=f.y+f.dy-u;f.x+=v;f.dx-=v}}function j(h){var h=C||l(h),t=h[0];return t.x=0,t.y=0,t.dx=v[0],t.dy=v[1],C&&l.revalue(t),a([t],t.dx*t.dy/t.value),(C?f:e)(t),F&&(C=h),h}var l=d3.layout.hierarchy(),t=Math.round,v=[1,1],z=null,D=ra,F=!1,C,B=0.5*(1+Math.sqrt(5));return j.size=function(a){return arguments.length?(v=a,j):v},j.padding=function(a){function e(f){var h=a.call(j,f,f.depth);
return null==h?ra(f):J(f,"number"==typeof h?[h,h,h,h]:h)}function f(e){return J(e,a)}if(!arguments.length)return z;var h;return D=null==(z=a)?ra:"function"===(h=typeof a)?e:"number"===h?(a=[a,a,a,a],f):f,j},j.round=function(a){return arguments.length?(t=a?Math.round:Number,j):t!=Number},j.sticky=function(a){return arguments.length?(F=a,C=null,j):F},j.ratio=function(a){return arguments.length?(B=a,j):B},V(j,l)}})();var Rickshaw={namespace:function(f){for(var f=f.split("."),a=Rickshaw,e=1,h=f.length;e<h;e++)currentPart=f[e],a[currentPart]=a[currentPart]||{},a=a[currentPart];return a},keys:function(f){var a=[],e;for(e in f)a.push(e);return a},extend:function(f,a){for(var e in a)f[e]=a[e];return f}};if("undefined"!=typeof module&&module.exports){var d3=require("d3");module.exports=Rickshaw}
(function(f){function a(a){switch(a){case null:return t;case void 0:return D}switch(typeof a){case "boolean":return H;case "number":return Q;case "string":return z}return K}function e(a,e){return function(){var f=h([j(a,this)],arguments);return e.apply(this,f)}}function h(a,e){for(var f=a.length,h=e.length;h--;)a[f+h]=e[h];return a}function j(a,e){if(2>arguments.length&&"undefined"==typeof arguments[0])return this;var f=a,j=F.call(arguments,2);return function(){var a,l=j;a=arguments;a=(l=F.call(l,
0),h(l,a));return f.apply(e,a)}}var l=Object.prototype.toString,t="Null",D="Undefined",H="Boolean",Q="Number",z="String",K="Object",F=Array.prototype.slice,P=function(){},S,aa=function(){},ea;a:{for(var R in{toString:1})if("toString"===R){ea=!1;break a}ea=!0}S={create:function(){function a(){this.initialize.apply(this,arguments)}var e=null,f=[].slice.apply(arguments);"[object Function]"===l.call(f[0])&&(e=f.shift());var h=a,j=S.Methods,t;for(t in j)j.hasOwnProperty(t)&&(h[t]=j[t]);a.superclass=e;
a.subclasses=[];if(e){aa.prototype=e.prototype;a.prototype=new aa;try{e.subclasses.push(a)}catch(z){}}e=0;for(h=f.length;e<h;e++)a.addMethods(f[e]);return a.prototype.initialize||(a.prototype.initialize=P),a.prototype.constructor=a,a},Methods:{addMethods:function(f){var h=this.superclass&&this.superclass.prototype;if(a(f)!==K)throw new TypeError;var t=[],v;for(v in f)f.hasOwnProperty(v)&&t.push(v);ea&&(f.toString!=Object.prototype.toString&&t.push("toString"),f.valueOf!=Object.prototype.valueOf&&
t.push("valueOf"));v=0;for(var z=t.length;v<z;v++){var D=t[v],F=f[D],H;if(H=h)if(H="[object Function]"===l.call(F))H=F.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(","),H="$super"==(1==H.length&&!H[0]?[]:H)[0];H&&(H=F,F=e(function(a){return function(){return h[a].apply(this,arguments)}}(D),H),F.valueOf=j(H.valueOf,H),F.toString=j(H.toString,H));this.prototype[D]=F}return this}}};f.exports?f.exports.Class=S:f.Class=
S})(Rickshaw);Rickshaw.namespace("Rickshaw.Compat.ClassList");
Rickshaw.Compat.ClassList=function(){if("undefined"!=typeof document&&!("classList"in document.createElement("a"))){var f=(window.HTMLElement||window.Element).prototype,a=Object,e=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},h=Array.prototype.indexOf||function(a){for(var e=0,f=this.length;e<f;e++)if(e in this&&this[e]===a)return e;return-1},j=function(a,e){this.name=a;this.code=DOMException[a];this.message=e},l=function(a,e){if(""===e)throw new j("SYNTAX_ERR","An invalid or illegal string was specified");
if(/\s/.test(e))throw new j("INVALID_CHARACTER_ERR","String contains an invalid character");return h.call(a,e)},t=function(a){for(var f=e.call(a.className),f=f?f.split(/\s+/):[],h=0,j=f.length;h<j;h++)this.push(f[h]);this._updateClassName=function(){a.className=this.toString()}},D=t.prototype=[],H=function(){return new t(this)};j.prototype=Error.prototype;D.item=function(a){return this[a]||null};D.contains=function(a){return a+="",-1!==l(this,a)};D.add=function(a){a+="";-1===l(this,a)&&(this.push(a),
this._updateClassName())};D.remove=function(a){a=l(this,a+"");-1!==a&&(this.splice(a,1),this._updateClassName())};D.toggle=function(a){a+="";-1===l(this,a)?this.add(a):this.remove(a)};D.toString=function(){return this.join(" ")};if(a.defineProperty){D={get:H,enumerable:!0,configurable:!0};try{a.defineProperty(f,"classList",D)}catch(Q){-2146823252===Q.number&&(D.enumerable=!1,a.defineProperty(f,"classList",D))}}else a.prototype.__defineGetter__&&f.__defineGetter__("classList",H)}};
("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new Rickshaw.Compat.ClassList;Rickshaw.namespace("Rickshaw.Graph");
Rickshaw.Graph=function(f){this.element=f.element;this.series=f.series;this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0};Rickshaw.keys(this.defaults).forEach(function(a){this[a]=f[a]||this.defaults[a]},this);this.window={};this.updateCallbacks=[];var a=this;this.initialize=function(e){this.validateSeries(e.series);this.series.active=function(){return a.series.filter(function(a){return!a.disabled})};this.setSize({width:e.width,height:e.height});this.element.classList.add("rickshaw_graph");
this.vis=d3.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height);[Rickshaw.Graph.Renderer.Stack,Rickshaw.Graph.Renderer.Line,Rickshaw.Graph.Renderer.Bar,Rickshaw.Graph.Renderer.Area,Rickshaw.Graph.Renderer.ScatterPlot].forEach(function(e){e&&a.registerRenderer(new e({graph:a}))});this.setRenderer(e.renderer||"stack",e);this.discoverRange()};this.validateSeries=function(a){if(!(a instanceof Array||a instanceof Rickshaw.Series))throw"series is not an array: "+Object.prototype.toString.apply(a);
var f;a.forEach(function(a){if(!(a instanceof Object))throw"series element is not an object: "+a;if(!a.data)throw"series has no data: "+JSON.stringify(a);if(!(a.data instanceof Array))throw"series data is not an array: "+JSON.stringify(a.data);if((f=f||a.data.length)&&a.data.length!=f)throw"series cannot have differing numbers of points: "+f+" vs "+a.data.length+"; see Rickshaw.Series.zeroFill()";var e=typeof a.data[0].x,a=typeof a.data[0].y;if("number"!=e||"number"!=a)throw"x and y properties of points should be numbers instead of "+
e+" and "+a;})};this.dataDomain=function(){var a=this.series[0].data;return[a[0].x,a.slice(-1).shift().x]};this.discoverRange=function(){var a=this.renderer.domain();this.x=d3.scale.linear().domain(a.x).range([0,this.width]);this.y=d3.scale.linear().domain(a.y).range([this.height,0]);this.y.magnitude=d3.scale.linear().domain([a.y[0]-a.y[0],a.y[1]-a.y[0]]).range([0,this.height])};this.update=this.render=function(){this.stackData();this.discoverRange();this.renderer.render();this.updateCallbacks.forEach(function(a){a()})};
this.stackData=function(){var e=this.series.active().map(function(a){return a.data}).map(function(a){return a.filter(function(a){return this._slice(a)},this)},this);this.stackData.hooks.data.forEach(function(f){e=f.f.apply(a,[e])});var f=d3.layout.stack();f.offset(a.offset);var j=f(e);this.stackData.hooks.after.forEach(function(f){j=f.f.apply(a,[e])});var l=0;return this.series.forEach(function(a){a.disabled||(a.stack=j[l++])}),this.stackedData=j,j};this.stackData.hooks={data:[],after:[]};this._slice=
function(a){return!0};this.onUpdate=function(a){this.updateCallbacks.push(a)};this.registerRenderer=function(a){this._renderers=this._renderers||{};this._renderers[a.name]=a};this.configure=function(a){(a.width||a.height)&&this.setSize(a);Rickshaw.keys(this.defaults).forEach(function(f){this[f]=f in a?a[f]:f in this?this[f]:this.defaults[f]},this);this.setRenderer(a.renderer||this.renderer.name,a)};this.setRenderer=function(a,f){if(!this._renderers[a])throw"couldn't find renderer "+a;this.renderer=
this._renderers[a];"object"==typeof f&&this.renderer.configure(f)};this.setSize=function(a){a=a||{};if(void 0!==typeof window)var f=window.getComputedStyle(this.element,null),j=parseInt(f.getPropertyValue("width")),f=parseInt(f.getPropertyValue("height"));this.width=a.width||j||400;this.height=a.height||f||250;this.vis&&this.vis.attr("width",this.width).attr("height",this.height)};this.initialize(f)};Rickshaw.namespace("Rickshaw.Fixtures.Color");
Rickshaw.Fixtures.Color=function(){this.schemes={};this.schemes.spectrum14="#ecb796 #dc8f70 #b2a470 #92875a #716c49 #d2ed82 #bbe468 #a1d05d #e7cbe6 #d8aad6 #a888c2 #9dc2d3 #649eb9 #387aa3".split(" ").reverse();this.schemes.spectrum2000="#57306f #514c76 #646583 #738394 #6b9c7d #84b665 #a7ca50 #bfe746 #e2f528 #fff726 #ecdd00 #d4b11d #de8800 #de4800 #c91515 #9a0000 #7b0429 #580839 #31082b".split(" ");this.schemes.spectrum2001="#2f243f #3c2c55 #4a3768 #565270 #6b6b7c #72957f #86ad6e #a1bc5e #b8d954 #d3e04e #ccad2a #cc8412 #c1521d #ad3821 #8a1010 #681717 #531e1e #3d1818 #320a1b".split(" ");
this.schemes.classic9="#423d4f #4a6860 #848f39 #a2b73c #ddcb53 #c5a32f #7d5836 #963b20 #7c2626 #491d37 #2f254a".split(" ").reverse();this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"};this.schemes.colorwheel="#b5b6a9 #858772 #785f43 #96557e #4682b4 #65b9ac #73c03a #cb513a".split(" ").reverse();
this.schemes.cool="#5e9d2f #73c03a #4682b4 #7bc3b8 #a9884e #c1b266 #a47493 #c09fb5".split(" ");this.schemes.munin="#00cc00 #0066b3 #ff8000 #ffcc00 #330099 #990099 #ccff00 #ff0000 #808080 #008f00 #00487d #b35a00 #b38f00 #6b006b #8fb300 #b30000 #bebebe #80ff80 #80c9ff #ffc080 #ffe680 #aa80ff #ee00cc #ff8080 #666600 #ffbfff #00ffcc #cc6699 #999900".split(" ")};Rickshaw.namespace("Rickshaw.Fixtures.RandomData");
Rickshaw.Fixtures.RandomData=function(f){var f=f||1,a=200,e=Math.floor((new Date).getTime()/1E3);this.addData=function(h){var j=100*Math.random()+15+a,l=h[0].length,t=1;h.forEach(function(a){var h=20*Math.random(),Q=j/25+t++ +15*(Math.cos(11*l*t/960)+2)+7*(Math.cos(l/7)+2)+1*(Math.cos(l/17)+2);a.push({x:l*f+e,y:Q+h})});a=0.85*j}};Rickshaw.namespace("Rickshaw.Fixtures.Time");
Rickshaw.Fixtures.Time=function(){(new Date).getTimezoneOffset();var f=this;this.months="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");this.units=[{name:"decade",seconds:315576E3,formatter:function(a){return 10*parseInt(a.getUTCFullYear()/10)}},{name:"year",seconds:31557600,formatter:function(a){return a.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(a){return f.months[a.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(a){return f.formatDate(a)}},
{name:"day",seconds:86400,formatter:function(a){return a.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(a){return f.formatTime(a)}},{name:"hour",seconds:3600,formatter:function(a){return f.formatTime(a)}},{name:"15 minute",seconds:900,formatter:function(a){return f.formatTime(a)}},{name:"minute",seconds:60,formatter:function(a){return a.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(a){return a.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(a){return a.getUTCSeconds()+
"s"}}];this.unit=function(a){return this.units.filter(function(e){return a==e.name}).shift()};this.formatDate=function(a){return a.toUTCString().match(/, (\w+ \w+ \w+)/)[1]};this.formatTime=function(a){return a.toUTCString().match(/(\d+:\d+):/)[1]};this.ceil=function(a,e){if("month"==e.name){var f=new Date(1E3*(a+e.seconds-1)),j=new Date(0);return j.setUTCFullYear(f.getUTCFullYear()),j.setUTCMonth(f.getUTCMonth()),j.setUTCDate(1),j.setUTCHours(0),j.setUTCMinutes(0),j.setUTCSeconds(0),j.setUTCMilliseconds(0),
j.getTime()/1E3}return"year"==e.name?(f=new Date(1E3*(a+e.seconds-1)),j=new Date(0),j.setUTCFullYear(f.getUTCFullYear()),j.setUTCMonth(0),j.setUTCDate(1),j.setUTCHours(0),j.setUTCMinutes(0),j.setUTCSeconds(0),j.setUTCMilliseconds(0),j.getTime()/1E3):Math.ceil(a/e.seconds)*e.seconds}};Rickshaw.namespace("Rickshaw.Fixtures.Number");Rickshaw.Fixtures.Number.formatKMBT=function(f){return 1E12<=f?f/1E12+"T":1E9<=f?f/1E9+"B":1E6<=f?f/1E6+"M":1E3<=f?f/1E3+"K":1>f&&0<f?f.toFixed(2):0==f?"":f};
Rickshaw.Fixtures.Number.formatBase1024KMGTP=function(f){return 0x4000000000000<=f?f/0x4000000000000+"P":1099511627776<=f?f/1099511627776+"T":1073741824<=f?f/1073741824+"G":1048576<=f?f/1048576+"M":1024<=f?f/1024+"K":1>f&&0<f?f.toFixed(2):0==f?"":f};Rickshaw.namespace("Rickshaw.Color.Palette");
Rickshaw.Color.Palette=function(f){var a=new Rickshaw.Fixtures.Color,f=f||{};this.schemes={};this.scheme=a.schemes[f.scheme]||f.scheme||a.schemes.colorwheel;this.generatorIndex=this.runningIndex=0;if(f.interpolatedStopCount){var a=this.scheme.length-1,e,h,j=[];for(e=0;e<a;e++){j.push(this.scheme[e]);var l=d3.interpolateHsl(this.scheme[e],this.scheme[e+1]);for(h=1;h<f.interpolatedStopCount;h++)j.push(l(1/f.interpolatedStopCount*h))}j.push(this.scheme[this.scheme.length-1]);this.scheme=j}this.rotateCount=
this.scheme.length;this.color=function(a){return this.scheme[a]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"};this.interpolateColor=function(){if(Array.isArray(this.scheme)){var a;return this.generatorIndex==2*this.rotateCount-1?(a=d3.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(0.5),this.generatorIndex=0,this.rotateCount*=2):(a=d3.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(0.5),this.generatorIndex++),this.scheme.push(a),
a}}};Rickshaw.namespace("Rickshaw.Graph.Ajax");
Rickshaw.Graph.Ajax=Rickshaw.Class.create({initialize:function(f){this.dataURL=f.dataURL;this.onData=f.onData||function(a){return a};this.onComplete=f.onComplete||function(){};this.onError=f.onError||function(){};this.args=f;this.request()},request:function(){$.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL);this.onError(this)},success:function(f){f=this.onData(f);this.args.series=
this._splice({data:f,series:this.args.series});this.graph=new Rickshaw.Graph(this.args);this.graph.render();this.onComplete(this)},_splice:function(f){var a=f.data,e=f.series;return f.series?(e.forEach(function(e){var f=e.key||e.name;if(!f)throw"series needs a key or a name";a.forEach(function(a){var t=a.key||a.name;if(!t)throw"data needs a key or a name";f==t&&["color","name","data"].forEach(function(f){e[f]=e[f]||a[f]})})}),e):a}});Rickshaw.namespace("Rickshaw.Graph.Annotate");
Rickshaw.Graph.Annotate=function(f){this.graph=f.graph;this.elements={timeline:f.element};var a=this;this.data={};this.elements.timeline.classList.add("rickshaw_annotation_timeline");this.add=function(e,f,j){a.data[e]=a.data[e]||{boxes:[]};a.data[e].boxes.push({content:f,end:j})};this.update=function(){Rickshaw.keys(a.data).forEach(function(e){var f=a.data[e],j=a.graph.x(e);if(0>j||j>a.graph.x.range()[1])f.element&&(f.line.classList.add("offscreen"),f.element.style.display="none"),f.boxes.forEach(function(a){a.rangeElement&&
a.rangeElement.classList.add("offscreen")});else{if(!f.element){var l=f.element=document.createElement("div");l.classList.add("annotation");this.elements.timeline.appendChild(l);l.addEventListener("click",function(){l.classList.toggle("active");f.line.classList.toggle("active");f.boxes.forEach(function(a){a.rangeElement&&a.rangeElement.classList.toggle("active")})},!1)}f.element.style.left=j+"px";f.element.style.display="block";f.boxes.forEach(function(e){var l=e.element;l||(l=e.element=document.createElement("div"),
l.classList.add("content"),l.innerHTML=e.content,f.element.appendChild(l),f.line=document.createElement("div"),f.line.classList.add("annotation_line"),a.graph.element.appendChild(f.line),e.end&&(e.rangeElement=document.createElement("div"),e.rangeElement.classList.add("annotation_range"),a.graph.element.appendChild(e.rangeElement)));if(e.end){var l=j,H=Math.min(a.graph.x(e.end),a.graph.x.range()[1]);l>H&&(H=j,l=Math.max(a.graph.x(e.end),a.graph.x.range()[0]));e.rangeElement.style.left=l+"px";e.rangeElement.style.width=
H-l+"px";e.rangeElement.classList.remove("offscreen")}f.line.classList.remove("offscreen");f.line.style.left=j+"px"})}},this)};this.graph.onUpdate(function(){a.update()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Time");
Rickshaw.Graph.Axis.Time=function(f){var a=this;this.graph=f.graph;this.elements=[];this.ticksTreatment=f.ticksTreatment||"plain";this.fixedTimeUnit=f.timeUnit;var e=new Rickshaw.Fixtures.Time;this.appropriateTimeUnit=function(){var a,f=e.units,l=this.graph.x.domain(),t=l[1]-l[0];return f.forEach(function(e){2<=Math.floor(t/e.seconds)&&(a=a||e)}),a||e.units[e.units.length-1]};this.tickOffsets=function(){for(var a=this.graph.x.domain(),f=this.fixedTimeUnit||this.appropriateTimeUnit(),l=Math.ceil((a[1]-
a[0])/f.seconds),a=a[0],t=[],D=0;D<l;D++)tickValue=e.ceil(a,f),a=tickValue+f.seconds/2,t.push({value:tickValue,unit:f});return t};this.render=function(){this.elements.forEach(function(a){a.parentNode.removeChild(a)});this.elements=[];this.tickOffsets().forEach(function(e){if(!(a.graph.x(e.value)>a.graph.x.range()[1])){var f=document.createElement("div");f.style.left=a.graph.x(e.value)+"px";f.classList.add("x_tick");f.classList.add(a.ticksTreatment);var l=document.createElement("div");l.classList.add("title");
l.innerHTML=e.unit.formatter(new Date(1E3*e.value));f.appendChild(l);a.graph.element.appendChild(f);a.elements.push(f)}})};this.graph.onUpdate(function(){a.render()})};Rickshaw.namespace("Rickshaw.Graph.Axis.Y");
Rickshaw.Graph.Axis.Y=function(f){var a=this;this.initialize=function(e){this.graph=e.graph;this.orientation=e.orientation||"right";var f=e.pixelsPerTick||75;this.ticks=e.ticks||Math.floor(this.graph.height/f);this.tickSize=e.tickSize||4;this.ticksTreatment=e.ticksTreatment||"plain";e.element?(this.element=e.element,this.vis=d3.select(e.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):
this.vis=this.graph.vis;this.graph.onUpdate(function(){a.render()})};this.setSize=function(a){a=a||{};if(this.element){if("undefined"!=typeof window){var f=window.getComputedStyle(this.element.parentNode,null),j=parseInt(f.getPropertyValue("width"));if(!a.auto)var l=parseInt(f.getPropertyValue("height"))}this.width=a.width||j||0.1*this.graph.width;this.height=a.height||l||this.graph.height;this.vis.attr("width",this.width).attr("height",1.1*this.height);this.element.style.top=-1*0.1*this.height+"px"}};
this.render=function(){this.graph.height!==this._renderHeight&&this.setSize({auto:!0});var a=d3.svg.axis().scale(this.graph.y).orient(this.orientation);a.tickFormat(f.tickFormat||function(a){return a});if("left"==this.orientation)var h="translate("+this.width+", "+0.1*this.height+")";this.element&&this.vis.selectAll("*").remove();this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",h).call(a.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));h=
("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(a.ticks(this.ticks).tickSubdivide(0).tickSize(h));this._renderHeight=this.graph.height};this.initialize(f)};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight");
Rickshaw.Graph.Behavior.Series.Highlight=function(f){this.graph=f.graph;this.legend=f.legend;var a=this,e={};this.addHighlightEvents=function(f){f.element.addEventListener("mouseover",function(){a.legend.lines.forEach(function(a){f!==a&&(e[a.series.name]=e[a.series.name]||a.series.color,a.series.color=d3.interpolateRgb(a.series.color,d3.rgb("#d8d8d8"))(0.8).toString())});a.graph.update()},!1);f.element.addEventListener("mouseout",function(){a.legend.lines.forEach(function(a){e[a.series.name]&&(a.series.color=
e[a.series.name])});a.graph.update()},!1)};this.legend&&this.legend.lines.forEach(function(e){a.addHighlightEvents(e)})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Order");
Rickshaw.Graph.Behavior.Series.Order=function(f){this.graph=f.graph;this.legend=f.legend;var a=this;$(function(){$(a.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(){var e=[];$(a.legend.list).find("li").each(function(a,f){f.series&&e.push(f.series)});for(var f=a.graph.series.length-1;0<=f;f--)a.graph.series[f]=e.shift();a.graph.update()}});$(a.legend.list).disableSelection()});this.graph.onUpdate(function(){var e=window.getComputedStyle(a.legend.element).height;a.legend.element.style.height=
e})};Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Toggle");
Rickshaw.Graph.Behavior.Series.Toggle=function(f){this.graph=f.graph;this.legend=f.legend;var a=this;this.addAnchor=function(e){var f=document.createElement("a");f.innerHTML="&#10004;";f.classList.add("action");e.element.insertBefore(f,e.element.firstChild);f.onclick=function(){e.series.disabled?(e.series.enable(),e.element.classList.remove("disabled")):(e.series.disable(),e.element.classList.add("disabled"))};e.element.getElementsByTagName("span")[0].onclick=function(){var f=e.series.disabled;if(!f)for(var h=
0;h<a.legend.lines.length;h++){var t=a.legend.lines[h];if(e.series!==t.series&&!t.series.disabled){f=!0;break}}f?(e.series.enable(),e.element.classList.remove("disabled"),a.legend.lines.forEach(function(a){e.series!==a.series&&(a.series.disable(),a.element.classList.add("disabled"))})):a.legend.lines.forEach(function(a){a.series.enable();a.element.classList.remove("disabled")})}};this.legend&&($(this.legend.list).sortable({start:function(a,f){f.item.bind("no.onclick",function(a){a.preventDefault()})},
stop:function(a,f){setTimeout(function(){f.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(e){a.addAnchor(e)}));this._addBehavior=function(){this.graph.series.forEach(function(e){e.disable=function(){if(1>=a.graph.series.length)throw"only one series left";e.disabled=!0;a.graph.update()};e.enable=function(){e.disabled=!1;a.graph.update()}})};this._addBehavior();this.updateBehaviour=function(){this._addBehavior()}};Rickshaw.namespace("Rickshaw.Graph.HoverDetail");
Rickshaw.Graph.HoverDetail=Rickshaw.Class.create({initialize:function(f){var a=this.graph=f.graph;this.xFormatter=f.xFormatter||function(a){return(new Date(1E3*a)).toUTCString()};this.yFormatter=f.yFormatter||function(a){return a.toFixed(2)};var e=this.element=document.createElement("div");e.className="detail";this.visible=!0;a.element.appendChild(e);this.lastEvent=null;this._addListeners();this.onShow=f.onShow;this.onHide=f.onHide;this.onRender=f.onRender;this.formatter=f.formatter||this.formatter},
formatter:function(f,a,e,h,j){return f.name+":&nbsp;"+j},update:function(f){if(f=f||this.lastEvent)if(this.lastEvent=f,f.target.nodeName.match(/^(path|svg|rect)$/)){for(var a=this.graph,e=f.offsetX||f.layerX,f=f.offsetY||f.layerY,h=a.x.invert(e),j=a.stackedData,l=j.slice(-1).shift(),l=d3.scale.linear().domain([l[0].x,l.slice(-1).shift().x]).range([0,l.length]),l=Math.floor(l(h)),t=Math.min(l||0,j[0].length-1);l<j[0].length-1&&j[0][l]&&j[0][l+1];){if(j[0][l].x<=h&&j[0][l+1].x>h){t=l;break}j[0][l+1]<=
h?l++:l--}var h=j[0][t].x,j=this.xFormatter(h),D=a.x(h),H=0,Q=a.series.active().map(function(a){return{order:H++,series:a,name:a.name,value:a.stack[t]}}),z,K=a.y.magnitude.invert(a.element.offsetHeight-f);Q.sort(function(a,e){return a.value.y0+a.value.y-(e.value.y0+e.value.y)}).forEach(function(e){e.formattedYValue=this.yFormatter.constructor==Array?this.yFormatter[Q.indexOf(e)](e.value.y):this.yFormatter(e.value.y);e.graphX=D;e.graphY=a.y(e.value.y0+e.value.y);K>e.value.y0&&K<e.value.y0+e.value.y&&
!z&&(z=e,e.active=!0)},this);this.element.innerHTML="";this.element.style.left=a.x(h)+"px";this.visible&&this.render({detail:Q,domainX:h,formattedXValue:j,mouseX:e,mouseY:f})}},hide:function(){this.visible=!1;this.element.classList.add("inactive");"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0;this.element.classList.remove("inactive");"function"==typeof this.onShow&&this.onShow()},render:function(f){var a=f.detail,e=f.domainX,h=f.formattedXValue,j=document.createElement("div");
j.className="x_label";j.innerHTML=h;this.element.appendChild(j);a.forEach(function(a){var f=document.createElement("div");f.className="item";f.innerHTML=this.formatter(a.series,e,a.value.y,h,a.formattedYValue,a);f.style.top=this.graph.y(a.value.y0+a.value.y)+"px";this.element.appendChild(f);var j=document.createElement("div");j.className="dot";j.style.top=f.style.top;j.style.borderColor=a.series.color;this.element.appendChild(j);a.active&&(f.className="item active",j.className="dot active")},this);
this.show();"function"==typeof this.onRender&&this.onRender(f)},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(f){this.visible=!0;this.update(f)}.bind(this),!1);this.graph.onUpdate(function(){this.update()}.bind(this));this.graph.element.addEventListener("mouseout",function(f){f.relatedTarget&&!(f.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS)&&this.hide()}.bind(this),!1)}});Rickshaw.namespace("Rickshaw.Graph.JSONP");
Rickshaw.Graph.JSONP=Rickshaw.Class.create(Rickshaw.Graph.Ajax,{request:function(){$.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}});Rickshaw.namespace("Rickshaw.Graph.Legend");
Rickshaw.Graph.Legend=function(f){var a=this.element=f.element,f=this.graph=f.graph,e=this;a.classList.add("rickshaw_legend");var h=this.list=document.createElement("ul");a.appendChild(h);a=f.series.map(function(a){return a}).reverse();this.lines=[];this.addLine=function(a){var f=document.createElement("li");f.className="line";var t=document.createElement("div");t.className="swatch";t.style.backgroundColor=a.color;f.appendChild(t);t=document.createElement("span");t.className="label";t.innerHTML=a.name;
f.appendChild(t);h.appendChild(f);f.series=a;a.noLegend&&(f.style.display="none");a={element:f,series:a};e.shelving&&(e.shelving.addAnchor(a),e.shelving.updateBehaviour());e.highlighter&&e.highlighter.addHighlightEvents(a);e.lines.push(a)};a.forEach(function(a){e.addLine(a)});f.onUpdate(function(){})};Rickshaw.namespace("Rickshaw.Graph.RangeSlider");
Rickshaw.Graph.RangeSlider=function(f){var a=this.element=f.element,e=this.graph=f.graph;$(function(){$(a).slider({range:!0,min:e.dataDomain()[0],max:e.dataDomain()[1],values:[e.dataDomain()[0],e.dataDomain()[1]],slide:function(a,f){e.window.xMin=f.values[0];e.window.xMax=f.values[1];e.update();e.dataDomain()[0]==f.values[0]&&(e.window.xMin=void 0);e.dataDomain()[1]==f.values[1]&&(e.window.xMax=void 0)}})});a[0].style.width=e.width+"px";e.onUpdate(function(){var f=$(a).slider("option","values");$(a).slider("option",
"min",e.dataDomain()[0]);$(a).slider("option","max",e.dataDomain()[1]);void 0==e.window.xMin&&(f[0]=e.dataDomain()[0]);void 0==e.window.xMax&&(f[1]=e.dataDomain()[1]);$(a).slider("option","values",f)})};Rickshaw.namespace("Rickshaw.Graph.Renderer");
Rickshaw.Graph.Renderer=Rickshaw.Class.create({initialize:function(f){this.graph=f.graph;this.tension=f.tension||this.tension;this.graph.unstacker=this.graph.unstacker||new Rickshaw.Graph.Unstacker({graph:this.graph});this.configure(f)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:0.8,strokeWidth:2,unstack:!0,padding:{top:0.01,right:0,bottom:0.01,left:0},stroke:!1,fill:!1}},domain:function(){var f=[],a=this.graph.stackedData||this.graph.stackData();
(this.unstack?a:[a.slice(-1).shift()]).forEach(function(a){a.forEach(function(a){f.push(a.y+a.y0)})});var e=a[0][0].x,a=a[0][a[0].length-1].x,e=e-(a-e)*this.padding.left,a=a+(a-e)*this.padding.right,h="auto"===this.graph.min?d3.min(f):this.graph.min||0,j=this.graph.max||d3.max(f);if("auto"===this.graph.min||0>h)h-=(j-h)*this.padding.bottom;return void 0===this.graph.max&&(j+=(j-h)*this.padding.top),{x:[e,a],y:[h,j]}},render:function(){var f=this.graph;f.vis.selectAll("*").remove();var a=f.vis.selectAll("path").data(this.graph.stackedData).enter().append("svg:path").attr("d",
this.seriesPathFactory()),e=0;f.series.forEach(function(f){f.disabled||(f.path=a[0][e++],this._styleSeries(f))},this)},_styleSeries:function(f){var a=this.stroke?f.color:"none";f.path.setAttribute("fill",this.fill?f.color:"none");f.path.setAttribute("stroke",a);f.path.setAttribute("stroke-width",this.strokeWidth);f.path.setAttribute("class",f.className)},configure:function(f){f=f||{};Rickshaw.keys(this.defaults()).forEach(function(a){f.hasOwnProperty(a)?"object"==typeof this.defaults()[a]?Rickshaw.keys(this.defaults()[a]).forEach(function(e){this[a][e]=
void 0!==f[a][e]?f[a][e]:void 0!==this[a][e]?this[a][e]:this.defaults()[a][e]},this):this[a]=void 0!==f[a]?f[a]:void 0!==this[a]?this[a]:void 0!==this.graph[a]?this.graph[a]:this.defaults()[a]:this[a]=this[a]||this.graph[a]||this.defaults()[a]},this)},setStrokeWidth:function(f){void 0!==f&&(this.strokeWidth=f)},setTension:function(f){void 0!==f&&(this.tension=f)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Line");
Rickshaw.Graph.Renderer.Line=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"line",defaults:function($super){return Rickshaw.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var f=this.graph;return d3.svg.line().x(function(a){return f.x(a.x)}).y(function(a){return f.y(a.y)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Stack");
Rickshaw.Graph.Renderer.Stack=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"stack",defaults:function($super){return Rickshaw.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var f=this.graph;return d3.svg.area().x(function(a){return f.x(a.x)}).y0(function(a){return f.y(a.y0)}).y1(function(a){return f.y(a.y+a.y0)}).interpolate(this.graph.interpolation).tension(this.tension)}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Bar");
Rickshaw.Graph.Renderer.Bar=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"bar",defaults:function($super){var a=Rickshaw.extend($super(),{gapSize:0.05,unstack:!1});return delete a.tension,a},initialize:function($super,a){a=a||{};this.gapSize=a.gapSize||this.gapSize;$super(a)},domain:function($super){var a=$super(),e=this._frequentInterval();return a.x[1]+=parseInt(e.magnitude),a},barWidth:function(){var f=(this.graph.stackedData||this.graph.stackData()).slice(-1).shift(),a=this._frequentInterval();
return this.graph.x(f[0].x+a.magnitude*(1-this.gapSize))},render:function(){var f=this.graph;f.vis.selectAll("*").remove();var a=this.barWidth(),e=0,h=f.series.filter(function(a){return!a.disabled}).length,j=this.unstack?a/h:a,l=function(a){return"matrix("+[1,0,0,0>a.y?-1:1,0,0>a.y?2*f.y.magnitude(Math.abs(a.y)):0].join()+")"};f.series.forEach(function(a){if(!a.disabled){var h=f.vis.selectAll("path").data(a.stack).enter().append("svg:rect").attr("x",function(a){return f.x(a.x)+e}).attr("y",function(a){return f.y(a.y0+
Math.abs(a.y))*(0>a.y?-1:1)}).attr("width",j).attr("height",function(a){return f.y.magnitude(Math.abs(a.y))}).attr("transform",l);Array.prototype.forEach.call(h[0],function(e){e.setAttribute("fill",a.color)});this.unstack&&(e+=j)}},this)},_frequentInterval:function(){for(var f=(this.graph.stackedData||this.graph.stackData()).slice(-1).shift(),a={},e=0;e<f.length-1;e++){var h=f[e+1].x-f[e].x;a[h]=a[h]||0;a[h]++}var j={count:0};return Rickshaw.keys(a).forEach(function(e){j.count<a[e]&&(j={count:a[e],
magnitude:e})}),this._frequentInterval=function(){return j},j}});Rickshaw.namespace("Rickshaw.Graph.Renderer.Area");
Rickshaw.Graph.Renderer.Area=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"area",defaults:function($super){return Rickshaw.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var f=this.graph;return d3.svg.area().x(function(a){return f.x(a.x)}).y0(function(a){return f.y(a.y0)}).y1(function(a){return f.y(a.y+a.y0)}).interpolate(f.interpolation).tension(this.tension)},seriesStrokeFactory:function(){var f=this.graph;return d3.svg.line().x(function(a){return f.x(a.x)}).y(function(a){return f.y(a.y+
a.y0)}).interpolate(f.interpolation).tension(this.tension)},render:function(){var f=this.graph;f.vis.selectAll("*").remove();var a=f.vis.selectAll("path").data(this.graph.stackedData).enter().insert("svg:g","g");a.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area");this.stroke&&a.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var e=0;f.series.forEach(function(f){f.disabled||(f.path=a[0][e++],this._styleSeries(f))},this)},_styleSeries:function(f){f.path&&
(d3.select(f.path).select(".area").attr("fill",f.color),this.stroke&&d3.select(f.path).select(".line").attr("fill","none").attr("stroke",f.stroke||d3.interpolateRgb(f.color,"black")(0.125)).attr("stroke-width",this.strokeWidth),f.className&&f.path.setAttribute("class",f.className))}});Rickshaw.namespace("Rickshaw.Graph.Renderer.ScatterPlot");
Rickshaw.Graph.Renderer.ScatterPlot=Rickshaw.Class.create(Rickshaw.Graph.Renderer,{name:"scatterplot",defaults:function($super){return Rickshaw.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:0.01,right:0.01,bottom:0.01,left:0.01},dotSize:4})},initialize:function($super,a){$super(a)},render:function(){var f=this.graph;f.vis.selectAll("*").remove();f.series.forEach(function(a){if(!a.disabled){var e=f.vis.selectAll("path").data(a.stack).enter().append("svg:circle").attr("cx",function(a){return f.x(a.x)}).attr("cy",
function(a){return f.y(a.y)}).attr("r",function(a){return"r"in a?a.r:f.renderer.dotSize});Array.prototype.forEach.call(e[0],function(e){e.setAttribute("fill",a.color)})}},this)}});Rickshaw.namespace("Rickshaw.Graph.Smoother");
Rickshaw.Graph.Smoother=function(f){this.graph=f.graph;this.element=f.element;var a=this;this.aggregationScale=1;this.element&&$(function(){$(a.element).slider({min:1,max:100,slide:function(e,f){a.setScale(f.value);a.graph.update()}})});a.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:function(e){var f=[];return e.forEach(function(e){for(var l=[];e.length;){var t=0,D=0,H=e.splice(0,a.aggregationScale);H.forEach(function(a){t+=a.x/H.length;D+=a.y/H.length});l.push({x:t,y:D})}f.push(l)}),
f}});this.setScale=function(a){if(1>a)throw"scale out of range: "+a;this.aggregationScale=a;this.graph.update()}};Rickshaw.namespace("Rickshaw.Graph.Unstacker");Rickshaw.Graph.Unstacker=function(f){this.graph=f.graph;var a=this;this.graph.stackData.hooks.after.push({name:"unstacker",f:function(e){return a.graph.renderer.unstack?(e.forEach(function(a){a.forEach(function(a){a.y0=0})}),e):e}})};Rickshaw.namespace("Rickshaw.Series");
Rickshaw.Series=Rickshaw.Class.create(Array,{initialize:function(f,a,e){e=e||{};this.palette=new Rickshaw.Color.Palette(a);this.timeBase="undefined"==typeof e.timeBase?Math.floor((new Date).getTime()/1E3):e.timeBase;this.setTimeInterval("undefined"==typeof e.timeInterval?1E3:e.timeInterval);f&&"object"==typeof f&&f instanceof Array&&f.forEach(function(a){this.addItem(a)},this)},addItem:function(f){if("undefined"==typeof f.name)throw"addItem() needs a name";f.color=f.color||this.palette.color(f.name);
f.data=f.data||[];0==f.data.length&&this.length&&0<this.getIndex()?this[0].data.forEach(function(a){f.data.push({x:a.x,y:0})}):0==f.data.length&&f.data.push({x:this.timeBase-(this.timeInterval||0),y:0});this.push(f);this.legend&&this.legend.addLine(this.itemByName(f.name))},addData:function(f){var a=this.getIndex();Rickshaw.keys(f).forEach(function(a){this.itemByName(a)||this.addItem({name:a})},this);this.forEach(function(e){e.data.push({x:(a*this.timeInterval||1)+this.timeBase,y:f[e.name]||0})},
this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(f){for(var a=0;a<this.length;a++)if(this[a].name==f)return this[a]},setTimeInterval:function(f){this.timeInterval=f/1E3},setTimeBase:function(f){this.timeBase=f},dump:function(){var f={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(a){var e={color:a.color,name:a.name,data:[]};a.data.forEach(function(a){e.data.push({x:a.x,y:a.y})});f.items.push(e)}),
f},load:function(f){f.timeInterval&&(this.timeInterval=f.timeInterval);f.timeBase&&(this.timeBase=f.timeBase);f.items&&f.items.forEach(function(a){this.push(a);this.legend&&this.legend.addLine(this.itemByName(a.name))},this)}});
Rickshaw.Series.zeroFill=function(f){for(var a,e=0,f=f.map(function(a){return a.data});e<Math.max.apply(null,f.map(function(a){return a.length}));)a=Math.min.apply(null,f.filter(function(a){return a[e]}).map(function(a){return a[e].x})),f.forEach(function(f){(!f[e]||f[e].x!=a)&&f.splice(e,0,{x:a,y:0})}),e++};Rickshaw.namespace("Rickshaw.Series.FixedDuration");
Rickshaw.Series.FixedDuration=Rickshaw.Class.create(Rickshaw.Series,{initialize:function(f,a,e){e=e||{};if("undefined"==typeof e.timeInterval)throw Error("FixedDuration series requires timeInterval");if("undefined"==typeof e.maxDataPoints)throw Error("FixedDuration series requires maxDataPoints");this.palette=new Rickshaw.Color.Palette(a);this.timeBase="undefined"==typeof e.timeBase?Math.floor((new Date).getTime()/1E3):e.timeBase;this.setTimeInterval(e.timeInterval);this[0]&&this[0].data&&this[0].data.length?
(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0);this.maxDataPoints=e.maxDataPoints;f&&"object"==typeof f&&f instanceof Array&&(f.forEach(function(a){this.addItem(a)},this),this.currentSize+=1,this.currentIndex+=1);this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval;if("undefined"!=typeof this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var h=this.maxDataPoints-this.currentSize-1;0<h;h--)this.currentSize+=
1,this.currentIndex+=1,this.forEach(function(a){a.data.unshift({x:((h-1)*this.timeInterval||1)+this.timeBase,y:0,i:h})},this)},addData:function($super,a){$super(a);this.currentSize+=1;this.currentIndex+=1;if(void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(f){f.data.splice(0,1)});this.currentSize-=1},getIndex:function(){return this.currentIndex}});
