<div class="dbviewer-main">
    <cly-header
        :title="i18n('dbviewer.title')"
    >
        <template v-slot:header-right>
            <div class="bu-level-item">
                <el-button @click="onAssistantClick" v-if="assistantPromptDrawer && assistantPromptDrawer.length > 0" type="success" size="small">AI Assistant</el-button>
            </div>
        </template>
        <template v-slot:header-tabs>
            <cly-dynamic-tabs
                v-model="dynamicTab"
                skin="secondary"
                :tab="dynamicTab"
                :tabs="tabs"
                :apps="apps"
                :collections="collections"
                :db="db"
                :collection="collection"
                :index="index">
                <template v-slot:tables="scope">
                    <span>{{ scope.tab.title }}</span>
                </template>
            </cly-dynamic-tabs>
        </template>
    </cly-header>
		<component v-if="assistantPromptDrawer && assistantPromptDrawer.length > 0" :is="assistantPromptDrawer[0].component" :settings="assistantPromptDrawerSettings" :controls="drawers['ai-assistant-prompt']">
		</component>
</div> 
