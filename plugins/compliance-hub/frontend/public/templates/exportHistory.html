<cly-main>
    <div class="bu-level bu-my-4">
        <div class="bu-level-left">
            <span class="text-big font-weight-bold" data-test-id="export-purge-history-for-label">Export/Purge History for</span>
            <cly-select-x
                    class="bu-ml-3"
                    test-id="metrics-filter"
                    :width="300"
                    :arrow="false"
                    :borderless="true"
                    :adaptiveLength="true"
                    :auto-commit="true"
                    :hide-default-tabs="true"
                    :hide-all-options-tab="true"
                    :options="filter0"
                    v-model="selectedfilterforMetrics">
                </cly-select-x>
        </div>
        <div class="bu-level-right">
            <cly-date-picker-g type="daterange" range-separator="To" start-placeholder="Start date" end-placeholder="End date">
            </cly-date-picker-g>
        </div>
    </div>
    <cly-section class="cly-vue-complaince__export__table cly-vue-complaince__hub_style_widthzero">
        <cly-datatable-n test-id="datatable-compliance-hub-export-purge-history" :data-source="exportHistoryTableSource" :default-sort="{prop: 'ts', order: 'descending'}">
            <template v-slot="scope">
                <el-table-column sortable="custom" prop="u" label="USER">
                    <template slot-scope="scope">
                        <div :data-test-id="'datatable-export-purge-history-user-' + scope.$index">
                            {{scope.row.u}}
                        </div>
                </el-table-column>
                <el-table-column sortable="custom" prop="ip" label="IP ADDRESS">
                    <template slot-scope="scope">
                        <div :data-test-id="'datatable-export-purge-history-ip-address-' + scope.$index">
                            {{scope.row.ip}}
                        </div>
                </el-table-column>
                <el-table-column width="400" sortable="custom" label="ACTION">
                    <template v-slot="rowScope">
                        <span v-html="rowScope.row.actions" :data-test-id="'datatable-export-purge-history-action-' + rowScope.$index"></span>
                    </template>
                </el-table-column>
                <el-table-column sortable="custom" prop="time" label="TIME">
                    <template v-slot="rowScope">
                        <div :data-test-id="'datatable-export-purge-history-time-' + rowScope.$index">
                            {{rowScope.row.time}}
                        </div>
                    </template>
                </el-table-column>
            </template>
        </cly-datatable-n>
    </cly-section>
</cly-main>