<div v-bind:class="[componentId]">
    <cly-header>
        <template v-slot:header-left>
            <h2> {{i18n('heatmaps.title')}} </h2>
            <cly-tooltip-icon class="bu-pl-2" :tooltip="i18n('heatmaps.plugin-description')"></cly-tooltip-icon>
        </template>
    </cly-header>

    <cly-main>
        <cly-date-picker-g class="views-date-picker-container"></cly-date-picker-g>

        <div class="bu-columns bu-is-gapless bu-my-5">
            <h4 class="bu-pt-1">{{i18n('heatmaps.results-for')}}</h4>
            <div class="bu-pl-1 bu-pr-1">
                <el-select v-model="selectedPlatform" :arrow="false" :adaptiveLength="true">
                    <el-option 
                    :key="item.value" 
                    :value="item.value" 
                    :label="item.name"
                    v-for="item in platforms">
                    </el-option>
                </el-select>
            </div>
        </div>

        <cly-metric-cards v-if="metrics && metrics.t">
            <cly-metric-card>
                {{i18n('heatmaps.total-page-views')}}
                <span class="cly-vue-tooltip-icon ion ion-help-circled" style="margin-left:5px" v-tooltip.top-center="i18n('heatmaps.total-page-views-tooltip')"></span>
                <template v-slot:number>{{metrics.t}}</template>
            </cly-metric-card>
            <cly-metric-card>
                {{i18n('heatmaps.avg-scroll-depth')}}
                <span class="cly-vue-tooltip-icon ion ion-help-circled" style="margin-left:5px" v-tooltip.top-center="i18n('heatmaps.avg-scroll-depth-tooltip')"></span>
                <template v-slot:number>{{Number.parseFloat(metrics.scr).toFixed(2) + "%"}}</template>
            </cly-metric-card>
        </cly-metric-cards>

        <cly-dynamic-tabs class="bu-mt-5" v-model="currentTab" :tabs="tabs" :noHistory='true' skin="secondary"></cly-dynamic-tabs>
    </cly-main>
</div>