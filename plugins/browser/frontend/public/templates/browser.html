<div class="technology-analytics-wrapper-browser" v-bind:class="[componentId]">
    <cly-header>
        <template v-slot:header-left>
            <h2> {{i18n('browser.title')}} 
            </h2>
            <span class="cly-vue-tooltip-icon ion ion-help-circled" style="margin-left:10px" v-tooltip.top-center="description">
            </span>
        </template>
		<template v-slot:header-right>
			<cly-more-options v-if="topDropdown" size="small">
				<el-dropdown-item :key="idx" v-for="(item, idx) in topDropdown">
				  <span :class="item.icon"></span>
				  <a :href="item.value" class="bu-ml-1">{{item.label}}</a>
				</el-dropdown-item>
			  </cly-more-options>
		  </template>
    </cly-header>
    <cly-main>
		<cly-date-picker-g class="technology-analytics-wrapper-browser__date-picker"></cly-date-picker-g>
		<div class="bu-columns bu-is-gapless">
			<h4>{{i18n('browser.browser-for')}}</h4>
			<div class ="selector_wrapper">
				<el-select v-model="selectedProperty">
					<el-option :key="item.value" :value="item.value" :label="item.name" v-for="item in chooseProperties"></el-option>
				</el-select>
			</div>
		</div>
		<div class="bu-mb-4 technology-analytics-wrapper-browser__metric-cards-wrapper">
		<vue-scroll :ops="scrollCards" ref="topSlider" @handle-scroll="handleCardsScroll">
			<cly-metric-cards class="bu-is-flex-wrap-nowrap">
                <cly-metric-card :is-percentage="true" class="bg-white" :columnWidth=3  :color="item.color" :number="item.percent" :key="idx" v-for="(item, idx) in browserItems">
                    {{item.name}}
					<template v-slot:number>{{item.value}}</template> 
					<template v-slot:description>
                      <span class="text-medium">{{item.percentText}}</span> 
                    </template>
                </cly-metric-card>
            </cly-metric-cards>
		</vue-scroll>
		</div>
		<h5> {{i18n('browser.version-distribution')}} </h5>
		<div class="technology-analytics-wrapper-browser__browser-versions-wrapper">
			<vue-scroll :ops="scrollCards" ref="bottomSlider" @handle-scroll="handleBottomScroll">
				<div class="bu-columns bu-is-gapless">
					<div class="bu-column bu-is-3 " :key="idx" v-for="(item, idx) in browserVersions">
						<div class="technology-analytics-wrapper-browser__empty-versions bu-p-3" v-if="item.itemCn === 0">
							<div>{{i18n('common.table.no-data')}}</div>
						</div>
						<div class="technology-analytics-wrapper-browser__all-browser-versions bu-p-3" v-else>
							<vue-scroll :ops="scrollOptions">
								<div :key="idx2" v-for="(item2, idx2) in item.data" >
									<div class="technology-analytics-wrapper-browser__version-graph-block bu-p-3">
										<div class="bu-columns technology-analytics-wrapper-browser__version-graph-title">
											<div class="bu-column bu-p-0">{{item2.name}}</div>
											<div class="bu-column bu-p-0">{{item2.value}} | {{item2.percent}} % </div>
										</div>
										<cly-progress-bar :entities="item2.bar" :height=8></cly-progress-bar>
									</div>
								</div>
							</vue-scroll>
						</div>
					</div>
				</div>
			</vue-scroll>
		</div>
		<cly-dynamic-tabs v-model="dynamicTab" skin="secondary" :tabs="tabs"></cly-dynamic-tabs>
    </cly-main>
</div>