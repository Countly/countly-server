<div v-bind:class="[componentId]">
    <cly-header>
        <template v-slot:header-left>
            <h2> {{i18n('active_users.title')}} </h2>
			<cly-tooltip-icon class="ion ion-help-circled" :tooltip="description" placement="bottom-end" style="margin-left: 8px;"></cly-tooltip-icon>
        </template>
		<template v-slot:header-right>
          <cly-more-options v-if="topDropdown" size="small">
            <el-dropdown-item :key="idx" v-for="(item, idx) in topDropdown">
              <!--<span :class="item.icon"></span>-->
              <a :href="item.value" class="bu-ml-1">{{item.label}}</a>
            </el-dropdown-item>
          </cly-more-options>
        </template>
    </cly-header>
    <cly-main>
		<cly-date-picker-g class="app-version-date-picker-container"></cly-date-picker-g>
		<cly-notification v-if="drillDisabled" :text="i18n('active_users.drill-plugin-warning')" color="light-informational"></cly-notification>
		<cly-notification v-if="drillCalculating" :text="i18n('active_users.active-users-calculating')" class="bu-mb-5"></cly-notification>
		<cly-section>
			<cly-chart-time v-loading="isLoading || isEmptyCalculating" :option="lineOptions" :legend="lineLegend" category="user-analytics"> 
				<template v-slot:chart-right>
					<div @click="clearCache" class="el-button el-button--text el-button--small bu-mr-2">{{i18n('active_users.clear-cached-active')}}</div>
				</template>
			</cly-chart-time>
		</cly-section>
		<cly-section>
			<cly-datatable-n v-loading="isLoading || isEmptyCalculating" :default-sort="{prop: 'date', order: 'ascending'}" :rows="tableData" :resizable="true" >
				<template v-slot="scope">
					<el-table-column sortable="custom" width="150" prop="date" :label="i18n('common.date')">
						<template slot-scope="scope">
							{{scope.row.dateVal}}
						</template>
					</el-table-column>
					<el-table-column sortable="custom" min-width="300" prop="d" :label="i18n('active_users.daily')">
						<template slot-scope="scope">
							{{scope.row.dF}}
						</template>
					</el-table-column>
					<el-table-column sortable="custom" min-width="300" prop="w" :label="i18n('active_users.weekly')">
						<template slot-scope="scope">
							{{scope.row.wF}}
						</template>
					</el-table-column>
					<el-table-column sortable="custom" min-width="300" prop="m" :label="i18n('active_users.monthly')">
						<template slot-scope="scope">
							{{scope.row.mF}}
						</template>
					</el-table-column>
				</template>
			</cly-datatable-n>
		</cly-section>
    </cly-main>
</div>
