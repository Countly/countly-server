<div v-bind:class="[componentId]">
    <div class="grid-stack">
        <widget
            v-for="(widget, index) in allWidgets"
            v-if="widgetSettingsGetter(widget, true)"
            :key="widget._id"
            :widget="widget"
            :settings="widgetSettingsGetter(widget, true)"
            :loading="loading"
            @ready="onReady"
            @command="onWidgetAction"
            :style="{ width: widget.width + 'px', height: widget.height + 'px' }">
        </widget>
    </div>
    <widgets-drawer @reset="onReset" :controls="drawers.widgets"></widgets-drawer>
</div>