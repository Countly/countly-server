<div class="grid-stack-item"
    :id="widget._id"
    :gs-id="widget._id"
    :gs-x="validateWidgetPosition(widget, 'x')"
    :gs-y="validateWidgetPosition(widget, 'y')"
    :gs-w="validateWidgetSize(widget, 'w')"
    :gs-h="validateWidgetSize(widget, 'h')"
    :gs-locked="isWidgetDisabled(widget) || isWidgetInvalid(widget)"
    :gs-no-resize="isWidgetDisabled(widget) || isWidgetInvalid(widget)"
    :gs-no-move="isWidgetDisabled(widget) || isWidgetInvalid(widget)"
    :gs-min-w="validateWidgetDimension(settings, 'w')"
    :gs-min-h="validateWidgetDimension(settings, 'h')"
    @click="settings.grid.onClick && settings.grid.onClick(widget)">

    <div class="grid-stack-item-content bu-p-4">
        <widget-disabled v-if="isWidgetDisabled(widget)" :widget="widget">
            <template v-slot:action v-if="canUpdate">
                <div class="bu-level-item">
                    <cly-more-options @command="$emit('command', $event, widget)">
                        <el-dropdown-item command="delete">{{i18n('common.delete')}}</el-dropdown-item>
                    </cly-more-options>
                </div>
            </template>
        </widget-disabled>
        <widget-invalid v-else-if="isWidgetInvalid(widget)" :widget="widget">
            <template v-slot:action v-if="canUpdate">
                <div class="bu-level-item">
                    <cly-more-options @command="$emit('command', $event, widget)">
                        <el-dropdown-item command="delete">{{i18n('common.delete')}}</el-dropdown-item>
                    </cly-more-options>
                </div>
            </template>
        </widget-invalid>
        <component v-else :is="settings.grid.component" :data="widget">
            <template v-slot:action v-if="canUpdate">
                <div class="bu-level-item">
                    <cly-more-options @command="$emit('command', $event, widget)">
                        <el-dropdown-item command="edit">{{i18n('common.edit')}}</el-dropdown-item>
                        <el-dropdown-item command="delete">{{i18n('common.delete')}}</el-dropdown-item>
                    </cly-more-options>
                </div>
            </template>
        </component>
    </div>

</div>